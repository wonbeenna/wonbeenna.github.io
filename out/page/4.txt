1:"$Sreact.fragment"
2:I[1402,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-e509d1a31c7f333f.js"],""]
3:I[6300,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-e509d1a31c7f333f.js"],"Providers"]
4:I[2619,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","848","static/chunks/app/page/%5Bpage%5D/page-210b2dff0315fedd.js"],""]
5:I[1356,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-e509d1a31c7f333f.js"],"Image"]
6:I[379,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-e509d1a31c7f333f.js"],"default"]
7:I[9766,[],""]
8:I[8924,[],""]
a:I[4431,[],"OutletBoundary"]
c:I[5278,[],"AsyncMetadataOutlet"]
e:I[4431,[],"ViewportBoundary"]
10:I[4431,[],"MetadataBoundary"]
11:"$Sreact.suspense"
13:I[7150,[],""]
:HL["/_next/static/media/47cbc4e2adbc5db9-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/e539936c7dc6b882.css","style"]
:HL["/_next/static/css/e7c7294f242bce08.css","style"]
0:{"P":null,"b":"Z8gDzXqcaXOEKf2nCiRVf","p":"","c":["","page","4"],"i":false,"f":[[["",{"children":["page",{"children":[["page","4","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/e539936c7dc6b882.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/e7c7294f242bce08.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":[["$","$L2",null,{"src":"https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN"}],["$","$L2",null,{"id":"google-analytics","children":"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n \n          gtag('config', 'G-LFDRQZPCBN');\n        "}],["$","body",null,{"suppressHydrationWarning":true,"className":"__className_518cef","children":["$","$L3",null,{"children":[["$","header",null,{"className":"sticky top-0 z-10 mx-auto my-0 h-[56px] border-b border-b-gray200 bg-white px-[24px] py-0 dark:bg-darkBg01","children":["$","section",null,{"className":"m-auto flex h-full max-w-[970px] items-center justify-between","children":[["$","div",null,{"className":"flex items-center gap-[20px]","children":[["$","$L4",null,{"href":"/","children":["$","$L5",null,{"className":"h-[56px] w-[60px]","src":"/assets/icons/been-logo.svg","width":60,"height":56,"priority":true,"alt":"logo"}]}],["$","div",null,{"className":"flex items-center gap-[20px]","children":["$","$L4",null,{"href":"/about","children":"About"}]}]]}],["$","$L6",null,{}]]}]}],["$","main",null,{"className":"mx-auto my-0 max-w-[970px] p-[16px]","children":["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}],["$","footer",null,{"className":"flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600","children":"Copyright Â© Been."}]]}]}]]}]]}],{"children":["page",["$","$1","c",{"children":[null,["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["page","4","d"],["$","$1","c",{"children":[null,["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L9",null,["$","$La",null,{"children":["$Lb",["$","$Lc",null,{"promise":"$@d"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,[["$","$Le",null,{"children":"$Lf"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L10",null,{"children":["$","div",null,{"hidden":true,"children":["$","$11",null,{"fallback":null,"children":"$L12"}]}]}]]}],false]],"m":"$undefined","G":["$13",[]],"s":false,"S":true}
14:I[4879,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","848","static/chunks/app/page/%5Bpage%5D/page-210b2dff0315fedd.js"],"default"]
15:T84a,
### fireEventë¥¼ userEventë¡œ ë°”ê¿”ë³´ê¸°

```shell
npm i @testing-library/user-event
```

```js
test('Checkbox enables button on first click and disableds on second click', async () => {
  const user = userEvent.setup();

  render(<SummaryForm />);

  const checkbox = screen.getByRole('checkbox', {
    name: /terms and conditions/i
  });
  const confirmButton = screen.getByRole('button', {
    name: /confirm order/i
  });

  await user.click(checkbox);
  expect(confirmButton).toBeEnabled();

  await user.click(checkbox);
  expect(confirmButton).toBeDisabled();
});
```

async/await ìœ¼ë¡œ ë¹„ë™ê¸° ì²˜ë¦¬í•´ì£¼ì§€ ì•Šìœ¼ë©´, expectê°€ ë¨¼ì € ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤

---

### Screen ë©”ì†Œë“œë“¤ ì¨ë³´ê¸°

```js
test('popover responds to hover', async () => {
  const user = userEvent.setup();

  render(<SummaryForm />);

  // popover starts out hidden
  const nullPopover = screen.queryByText(/no ice cream will actually be delivered/i);
  expect(nullPopover).not.toBeInTheDocument();

  // popover appears on mouseover of checkbox label
  const termsAndConditions = screen.getByText(/terms and conditions/i);
  await user.hover(termsAndConditions);
  const popover = screen.getByText(/no ice cream will actually be delivered/i);
  expect(popover).toBeInTheDocument();

  // popover disappears when we mouse out
  await user.unhover(termsAndConditions);
  expect(popover).not.toBeInTheDocument();
});
```

- get : ìš”ì†Œ ì¡°íšŒì‹œ ë‚˜íƒ€ë‚  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ê²½ìš° -> ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ìœ¼ë©´ Errorë¥¼ ë°˜í™˜

- query : ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²½ìš° -> ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ìœ¼ë©´ nullì„ ë°˜í™˜

- find : ìš”ì†Œê°€ ë¹„ë™ê¸°ì ìœ¼ë¡œ í‘œì‹œë  ìˆ˜ ìˆëŠ” ê²½ìš°ì¸ì§€

```js
const popover = (
  <Popover id="popover-basic">
    <Popover.Body>No ice cream will actually be delivered</Popover.Body>
  </Popover>
);

const checkboxLabel = (
  <span>
    I agree to
    <OverlayTrigger trigger={['hover', 'focus']} placement="right" overlay={popover}>
      <span style={{color: 'blue'}}>Terms and Conditions</span>
    </OverlayTrigger>
  </span>
);
```
16:Tff3,
### * Mock Service Worker

ë°±ì—”ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¶€ë¶„ì„ í…ŒìŠ¤íŠ¸

- MSW ì‘ë™ ë°©ì‹

ë¸Œë¼ìš°ì €ì— ì„œë¹„ìŠ¤ ì›Œì»¤ë¥¼ ë“±ë¡í•´ ì™¸ë¶€ë¡œ ë‚˜ê°€ëŠ” ë„¤íŠ¸ì›Œí¬ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ê°ì§€

ìš”ì²­ì„ ì‹¤ì œ ì„œë²„ë¡œ ê°ˆ ë•Œ ì¤‘ê°„ì— ê°€ë¡œì±„ MSW í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë³´ë‚´ê³ , ë“±ë¡ëœ í•¸ë“¤ëŸ¬ì—ì„œ ìš”ì²­ì„ ì²˜ë¦¬í•œ í›„ ëª¨ì˜ ì‘ë‹µì„ ë³´ë‚¸ë‹¤.

---

### * jestë¥¼ ì‚¬ìš©í•œ nodeì™€ í†µí•©í•˜ê¸°

```shell
npm install msw --save
```

- í•¸ë“¤ëŸ¬ ìƒì„±í•˜ê¸°

```js
import {rest} from 'msw';

export const handlers = [
  rest.get('http://localhost:5000/products', (req, res, ctx) => {
    return res(
      ctx.json([
        {
          name: 'America',
          imagePath: '/images/america.jpeg'
        },
        {
          name: 'England',
          imagePath: '/images/england.jpeg'
        }
      ])
    );
  }),
  rest.get('http://localhost:5000/options', (req, res, ctx) => {
    return res(
      ctx.json([
        {
          name: 'Insurance'
        },
        {
          name: 'Dinner'
        }
      ])
    );
  })
];
```

- mocking ì„œë²„ ìƒì„±í•˜ê¸°

```js
import {setupServer} from 'msw/node';
import {handlers} from './handlers';

export const server = setupServer(...handlers);
```

- setupTest.jsì— ì„œë²„ ìƒì„±

```js
// jest-dom adds custom jest matchers for asserting on DOM nodes.
// allows you to do things like:
// expect(element).toHaveTextContent(/react/i)
// learn more: https://github.com/testing-library/jest-dom
import '@testing-library/jest-dom';

import {server} from './mocks/server';

beforeAll(() => server.listen()); // í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ì— ì„œë²„ listen
afterEach(() => server.resetHandlers()); // í…ŒìŠ¤íŠ¸ ì¤‘ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì´ ê°€ì§€ ì•Šë„ë¡
afterAll(() => server.close()); // í…ŒìŠ¤íŠ¸ í›„ ì„œë²„ë¥¼ í´ë¦°ì—…
```

- í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±

```js
import {server} from '../../../mocks/server';
import Type from '../Type';
import {rest} from 'msw';
import {render, screen} from '@testing-library/react';

test('displays product images from server', async () => {
  render(<Type orderType="products" />);

  // ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ ì´ë¯¸ì§€
  const productImages = await screen.findAllByRole('img', {
    name: /product$/i
  });
  expect(productImages).toHaveLength(2);

  const altText = productImages.map((element) => element.alt);
  expect(altText).toEqual(['America product', 'England product']);
});

test('fetch option information from server', async () => {
  render(<Type orderType="options" />);

  const optionCheckboxes = await screen.findAllByRole('checkbox');

  expect(optionCheckboxes).toHaveLength(2);
});

test('when fetching product datas, face an error', async () => {
  // ì„œë²„ì— ëŒ€í•œ ì—ëŸ¬ í™•ì¸
  server.resetHandlers(
    rest.get('http://localhost:5000/products', (req, res, ctx) => {
      return res(ctx.status(500));
    })
  );

  render(<Type orderType="products" />);

  const errorBanner = await screen.findByTestId('error-banner');
  expect(errorBanner).toHaveTextContent('ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
});
```

- ì»´í¬ë„ŒíŠ¸

```js
import React, {useEffect, useState} from 'react';
import axios from 'axios';
import Products from './Products';
import ErrorBanner from '../../components/ErrorBanner';
import Options from './Options';

const Type = ({orderType}) => {
  const [items, setItems] = useState([]);
  const [error, setError] = useState(false);

  useEffect(() => {
    loadItems(orderType);
  }, [orderType]);

  const loadItems = async (orderType) => {
    try {
      const response = await axios.get(`http://localhost:5000/${orderType}`);
      setItems(response.data);
    } catch (error) {
      setError(true);
    }
  };

  const ItemComponents = orderType === 'products' ? Products : Options;

  const optionItems = items.map((item) => {
    return <ItemComponents key={item.name} name={item.name} imagePath={item.imagePath} />;
  });

  if (error) {
    return <ErrorBanner message="ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤." />;
  }

  return <div>{optionItems}</div>;
};

export default Type;
```
17:T1633,
### * Jest - Facebookì—ì„œ ë§Œë“  í…ŒìŠ¤íŒ… í”„ë ˆì„ ì›Œí¬.

ì£¼ë¡œ ë‹¨ìœ„ (unit) í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‚¬ìš©.

- filename.test.js

- filename.spec.js

All files inside "tests" folders

- describe -> í…ŒìŠ¤íŠ¸ë¥¼ ê·¸ë£¹í™” í•˜ëŠ”ë° ì‚¬ìš©

- test(it) - ê°œë³„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰

- test(it) - ê°œë³„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰

- test(it) - ê°œë³„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰

- expect í•¨ìˆ˜ëŠ” ê°’ì„ í…ŒìŠ¤íŠ¸í•  ë•Œë§ˆë‹¤ ì‚¬ìš©, matcher(ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ê°’ì„ í…ŒìŠ¤íŠ¸)ì™€ í•¨ê»˜ ì‚¬ìš©

---

### ì‹œì‘í•´ë³´ê¸°

cra í´ë”ë¡œ ê°€ì„œ

```shell
npm test
```

íŒŒì¼ëª…ì— testê°€ ë“¤ì–´ê°„ íŒŒì¼ì„ ì°¾ëŠ”ë‹¤.

aë¡œ App.test.jsì— ìˆëŠ” ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰

```js
test('renders learn react link', () => {
  render(<App />);
  const linkElement = screen.getByText(/learn react/i);
  expect(linkElement).toBeInTheDocument();
});
```

- renderí•¨ìˆ˜ëŠ” DOMì— ì»´í¬ë„ŒíŠ¸ë¥¼ ëœë”ë§ í•˜ëŠ” í•¨ìˆ˜, returnì€ RTL(ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬)ì— ì¿¼ë¦¬ í•¨ìˆ˜ì™€ ê¸°íƒ€ ìœ í‹¸ë¦¬í‹°ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤.

```js
test('renders learn react link', () => {
  const { getByText } = render(<App />);
  const linkElement = getByText(/learn react/i);
  expect(linkElement).toBeInTheDocument();
});
```

ì•„ë˜ ì²˜ëŸ¼ë„ ì“¸ìˆ˜ ìˆë‹¤. (ì¿¼ë¦¬í•¨ìˆ˜ë¥¼ ì§ì ‘ ì“°ëŠ” ê²½ìš°ëŠ” ê±°ì˜ ì—†ê³  screen ê°ì²´ë¡œ ì´ìš©)

```js
<a
  className="App-link"
  href="https://reactjs.org"
  target="_blank"
  rel="noopener noreferrer"
>
  Learn React
</a>
```

linkElementê°€ Documentì•ˆì— ìˆëŠ”ì§€ íŒë‹¨í•˜ëŠ” matcher

---

### ì¿¼ë¦¬í•¨ìˆ˜

ì¿¼ë¦¬ëŠ” í˜ì´ì§€ì—ì„œ ìš”ì†Œë¥¼ ì°¾ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì œê³µí•˜ëŠ” ë°©ë²•

- getBy~: ì¿¼ë¦¬ì— ëŒ€í•´ ì¼ì¹˜í•˜ëŠ” ë…¸ë“œë¥¼ ë°˜í™˜, ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ê±°ë‚˜ ë‘˜ ì´ìƒì˜ ì¼ì¹˜ê°€ ë°œê²¬ë˜ë©´ ì—ëŸ¬ë¥¼ ë°˜í™˜(ë‘˜ ì´ìƒì˜ ìš”ì†ŒëŠ” getAllBy~ ì‚¬ìš©)

- queryBy~: ì¿¼ë¦¬ì— ëŒ€í•´ ì¼ì¹˜í•˜ëŠ” ë…¸ë“œ ë°˜í™˜, ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ìœ¼ë©´ nullì„ ë°˜í™˜

- findBy~: (getBy + waitFor)ì£¼ì–´ì§„ ì¿¼ë¦¬ì™€ ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ë°œê²¬ë˜ë©´ Promiseë¥¼ ë°˜í™˜ (ë‘˜ ì´ìƒì˜ ìš”ì†ŒëŠ” findAllBy~ ì‚¬ìš©)

- waitFor: ì¼ì • ê¸°ê°„ ë™ì•ˆ ê¸°ë‹¤ë¦¬ë„ë¡

---

### ë¦°íŠ¸

```
"eslint-plugin-jest-dom"
"eslint-plugin-testing-library"
```

---

### TDD(Test Driven Development)

ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±

### ê°„ë‹¨í•œ ì¹´ìš´íŒ… ì•± ë§Œë“¤ì–´ë³´ê¸°

```js
test('Counter starts at 0', () => {
  render(<App />);
  // screen objectë¡œ ì›í•˜ëŠ” ì—˜ë¦¬ë©˜íŠ¸ì— ì ‘ê·¼(ID)
  const counterElement = screen.getByTestId('counter');
  // idê°€ counterì¸ ì—˜ë¦¬ë©˜íŠ¸ì˜ í…ìŠ¤íŠ¸ê°€ 0ì¸ê°€?
  expect(counterElement).toHaveTextContent(0);
});
```

```js
import './App.css';
import {useState} from 'react';

function App() {
  const [count, setCount] = useState(0);

  return (
    <div className="App">
      <header className="App-header">
        <h3 data-testid="counter">{count}</h3>
      </header>
    </div>
  );
}

export default App;
```

- ë²„íŠ¼ ì¶”ê°€í•˜ê¸°

```js
test('Minus Button', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('minus-button');
  expect(buttonElement).toHaveTextContent('-');
});

test('Plus Button', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('plus-button');
  expect(buttonElement).toHaveTextContent('+');
});
```

```js
<div>
  <button data-testid="minus-button">-</button>
  <button data-testid="plus-button">+</button>
</div>
```

### FireEvent API

ìœ ì €ê°€ ë°œìƒì‹œí‚¤ëŠ” ì•¡ì…˜(ì´ë²¤íŠ¸)ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸

- ë²„íŠ¼ ì´ë²¤íŠ¸ ì¶”ê°€í•˜ê¸°

```js
test('When the + button is pressed, the counter change to 1', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('plus-button');
  // ë²„íŠ¼ í´ë¦­
  fireEvent.click(buttonElement);
  // plus ë²„íŠ¼ í´ë¦­ì‹œ counter ì—˜ë¦¬ë¨¼íŠ¸ëŠ” 1
  const counterElement = screen.getByTestId('counter');
  expect(counterElement).toHaveTextContent(1);
});

test('When the - button is pressed, the counter change to -1', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('minus-button');
  // ë²„íŠ¼ í´ë¦­
  fireEvent.click(buttonElement);
  // minus ë²„íŠ¼ í´ë¦­ì‹œ counter ì—˜ë¦¬ë¨¼íŠ¸ëŠ” -1
  const counterElement = screen.getByTestId('counter');
  expect(counterElement).toHaveTextContent(-1);
});
```

```js
const [count, setCount] = useState(0);

const handlePlus = () => {
  setCount((prevState) => prevState + 1);
};

const handleMinus = () => {
  setCount((prevState) => prevState - 1);
};

return (
  <div className="App">
    <header className="App-header">
      <h3 data-testid="counter">{count}</h3>
      <div>
        <button data-testid="minus-button" onClick={handleMinus}>
          -
        </button>
        <button data-testid="plus-button" onClick={handlePlus}>
          +
        </button>
      </div>
    </header>
  </div>
);
```

- on/off ë²„íŠ¼ ìƒ‰ìƒê³¼ í´ë¦­ì‹œ -, +ë²„íŠ¼ disabled

```js

test('on/off button has blue color', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('on/off-button');
  expect(buttonElement).toHaveStyle({backgroundColor: 'blue'});
});

test('Prevent -,+ button from being pressed when the on/off button is clicked', () => {
  render(<App />);
  const onOffButtonElement = screen.getByTestId('on/off-button');
  fireEvent.click(onOffButtonElement);
  const plusButtonElement = screen.getByTestId('plus-button');
  const minusButtonElement = screen.getByTestId('minus-button');
  expect(plusButtonElement).toBeDisabled();
  expect(minusButtonElement).toBeDisabled();
});
```

```js
<button data-testid="on/off-button" style={{backgroundColor: 'blue'}} onClick={handleDisabled}>
  on/off
</button>
```
18:Tfe7,
### 1\. Utility Type

```typescript
  Partial<T>
```

\- Tì˜ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ì„ íƒì ìœ¼ë¡œ ë§Œë“œëŠ” íƒ€ì…

```typescript
interface User {
  name: string;
  age: number;
}

function updateUser(user: User, fieldsToUpdate: Partial<User>) {
  return { ...user, ...fieldsToUpdate };
}

const user1 = {
  name: "been",
  age: 30,
};

const user2 = updateUser(user1, {
  age: 32,
});
```

---

```typescript
  Readonly<T>
```

Tì˜ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ êµ¬ì„±, ìƒì„±ëœ íƒ€ì…ì˜ í”„ë¡œí¼í‹°ëŠ” ì¬í• ë‹¹ í•  ìˆ˜ ì—†ë‹¤.

---

```typescript
  Record<K,T>
```

íƒ€ì… Tì˜ í”„ë¡œí¼í‹°ì˜ ì§‘í•© Kë¡œ íƒ€ì…ì„ êµ¬ì„±í•œë‹¤.

ì£¼ë¡œ ë‹¤ë¥¸ íƒ€ì…ì— ë§¤í•‘ì‹œí‚¤ëŠ”ë° ì‚¬ìš©

```typescript
interface PageInfo {
  title: string;
}

type Page = "home" | "about" | "contact";

const x: Record<Page, PageInfo> = {
  about: { title: "about" },
  contact: { title: "contact" },
  home: { title: "home" },
};
```

---

```typescript
  Pick<T,K>
```

Tì—ì„œ Kì˜ ì§‘í•©ì„ ì„ íƒí•´ íƒ€ì…ì„ êµ¬ì„±

```typescript
  Omit<T,K>
```

Tì—ì„œ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒ Kë¥¼ ì œê±°í•œ íƒ€ì…ì„ êµ¬ì„±

---

```typescript
  NonNullable<T>
```

Tì—ì„œ nullê³¼ undefinedë¥¼ ì œì™¸í•œ íƒ€ì…ì„ êµ¬ì„±

---

ì¶œì²˜ : [https://typescript-kr.github.io/pages/utility-types.html](https://typescript-kr.github.io/pages/utility-types.html)

---

### 2\. Storybook ì‘ì„±

[https://been.tistory.com/58](https://been.tistory.com/58)

---

### 3\. npm íŒ¨í‚¤ì§€ ë°°í¬

[https://www.npmjs.com/package/jci-moyeo-design-system](https://www.npmjs.com/package/jci-moyeo-design-system)


---

### 4\. aria, role

> ì›¹ ì ‘ê·¼ì„±(web accessibility)ì€ ì¥ì• ë¥¼ ê°€ì§„ ì‚¬ëŒê³¼ ì¥ì• ë¥¼ ê°€ì§€ì§€ ì•Šì€ ì‚¬ëŒ ëª¨ë‘ê°€ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ë°©ì‹ì„ ê°€ë¦¬í‚¨ë‹¤. ì‚¬ì´íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ê³„ë˜ì–´ ê°œë°œë˜ê³  í¸ì§‘ë˜ì–´ ìˆì„ ë•Œ ëª¨ë“  ì‚¬ìš©ìë“¤ì€ ì •ë³´ì™€ ê¸°ëŠ¥ì— ë™ë“±í•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

> ì›¹ í‘œì¤€ì€ ì›”ë“œ ì™€ì´ë“œ ì›¹ì˜ ì¸¡ë©´ì„ ì„œìˆ í•˜ê³  ì •ì˜í•˜ëŠ” ê³µì‹ í‘œì¤€ì´ë‚˜ ë‹¤ë¥¸ ê¸°ìˆ  ê·œê²©ì„ ê°€ë¦¬í‚¤ëŠ” ì¼ë°˜ì ì¸ ìš©ì–´ì´ë‹¤. ìµœê·¼ì— ì´ ìš©ì–´ëŠ” ì›¹ ì‚¬ì´íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë° ì¤‘ìš”ë„ê°€ ë†’ì•„ì§€ê³  ìˆìœ¼ë©° ì›¹ ë””ìì¸, ê°œë°œê³¼ ê´€ê³„ê°€ ìˆë‹¤.

```typescript
role="form"
<form>ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©
```


```typescript
role="search"
ê²€ìƒ‰ ì—­í• ì„ ë‹´ë‹¹
```

```typescript
role="button"
ìŠ¤í¬ë¦°ë¦¬ë”ì— ë²„íŠ¼ì„ì„ ì•Œë ¤ì£¼ì§€ë§Œ ë²„íŠ¼ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ëŠ” ì•Šê¸° ë•Œë¬¸ì— <button>ì´ë‚˜ <input type='button'>ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ë‹¤.
```


```typescript
role ="tablist"
**íƒ­ë©”ë‰´ ë“±ì˜ ë¦¬ìŠ¤íŠ¸ì„ì„ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•œë‹¤.
```


```typescript
role="tab"
ë³´ì¡°ê¸°ê¸°ê°€ íƒ­ìœ¼ë¡œ ì¸ì‹
aria-requiredë¥¼ trueë¡œ ì§€ì •í•´ í•´ë‹¹ìš”ì†Œê°€ í•„ìˆ˜ì ìœ¼ë¡œ ì…ë ¥ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ëƒ„
```

```html
<input {...} aria-required="true">
```

-   ì¶”ê°€ì„¤ëª… ì†ì„± : div #referenceì˜ ë‚´ìš©ì„ inputì˜ ì¶”ê°€ì„¤ëª…ìœ¼ë¡œ ì‚¬ìš©

```html
<input type="text" aria-describedby="reference">
<div id="reference">ì¶”ê°€ì„¤ëª…</div>
```

ex) "ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”." ë¼ëŠ” ì¶”ê°€ì ì¸ ì„¤ëª…

-   aria-labelë¡œ ì–´ë–¤ ìš”ì†Œì¸ì§€ ë¼ë²¨ë§í•  ìˆ˜ ìˆë‹¤.

```html
<div role="group" aria-label="ë ˆì´ë¸”">
```

-   ìœ íš¨í•œì§€ ì•„ë‹Œì§€ êµ¬ë¶„

```html
<input type="text" aria-invalid="true">
```

-   ë²„íŠ¼ í´ë¦­ìƒíƒœì™€ ë¹„í´ë¦­ìƒíƒœ

```html
<button aria-pressed="true">
```

**1) íƒœê·¸ì™€ ì¤‘ë³µë˜ì§€ ì•Šê²Œ ì‚¬ìš©í•œë‹¤.**

```html
<button role="button"> </button>
```

**2) nativeìš”ì†Œì˜ ì˜ë¯¸, ê¸°ëŠ¥ ë³€ê²½ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.**

```html
<h1 role="button">ë²„íŠ¼</h1>
```

**3) í‚¤ë³´ë“œë¡œ í¬ì»¤ì‹±ì´ ê°€ëŠ¥í•˜ê²Œ ì„¤ì •í•œë‹¤.**

```html
<span role="button" tabindex="0">ë²„íŠ¼</span>
```

íŠ¹íˆ buttonìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ê²½ìš°

```typescript
aria-hidden="true"
ìŠ¤í¬ë¦°ë¦¬ë”ê°€ ì ‘ê·¼í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ì´ë¯¸ì§€ë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ì€ ê²½ìš°
```

[https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles)

19:Tc67,
ì´ë²ˆì— ìŠ¤í„°ë””ë¥¼ í•˜ë©´ì„œ ì²˜ìŒ ìŠ¤í† ë¦¬ë¶ì„ ì¨ë³´ê²Œ ë˜ì—ˆë‹¤.

[https://storybook.js.org/](https://storybook.js.org/)


ìŠ¤í† ë¦¬ë¶ì€ ë””ìì¸ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³ ìí•˜ëŠ” ê°œë°œìë“¤ì„ ìœ„í•´ ì œì‘ë˜ì—ˆë‹¤.

**ë””ìì¸ ì‹œìŠ¤í…œì€ ì™œ ì‚¬ìš©í•˜ëŠ” ê±¸ê¹Œ?**

ê°œë°œì ì…ì¥ì—ì„œ ê°€ì¥ í° ì´ìœ ëŠ” ë””ìì´ë„ˆ, í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € ë“± íŒ€ êµ¬ì„±ì›ê³¼ì˜ í˜‘ì—…ì¸ê²ƒ ê°™ë‹¤.

ê° ë¶„ì•¼ì˜ ì§€ì‹ ì°¨ì´ë¥¼ ì¤„ì´ê³  ê³µí†µì ìœ¼ë¡œ ë°”ë¼ë³´ëŠ” ê²ƒ(UI)ì„ í†µí•´ ìƒì‚°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.

**ë””ìì¸ ì‹œìŠ¤í…œì´ ë­”ë°?**

<img src="/assets/blog/javaScript/storybook.webp" width="100%" alt="post image"/>

ë‚´ê°€ ìƒê°í•˜ê¸°ì— ë””ìì¸ ì‹œìŠ¤í…œì´ë€ í•˜ë‚˜ì˜ í”„ë¡œë•íŠ¸ë¥¼ ë§Œë“œëŠ”ë° ìˆì–´ì„œ ë””ìì¸ ì ì¸ ê°€ì´ë“œ ë¼ì¸ ë° ë””ìì¸ ì›ì¹™ = ìƒ‰ìƒ, ì•„ì´ì½˜, íƒ€ì´í¬ê·¸ë˜í”¼ ë“± ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ë¬¸ì„œí™”í•˜ëŠ”ê²ƒ ì´ë¼ ìƒê°í•œë‹¤.

ì´ê²ƒì„ ë¬¸ì„œí™”í•˜ëŠ”ë° ë„ì™€ì£¼ëŠ” ë„êµ¬ê°€ ë°”ë¡œ ìŠ¤í† ë¦¬ë¶ì´ë‹¤.

---

ìš°ë¦¬ëŠ” ë¨¼ì € ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€, ìì£¼ ì“°ì´ê²Œ ë ë§Œí•œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì‘ì„±í•˜ê¸°ë¡œ ì‹œì‘í–ˆë‹¤.

```shell
npx storybook init
```

ë³¸ì¸ì´ ì‚¬ìš©í•˜ê³ ìí•˜ëŠ” í”„ë ˆì„ì›Œí¬ë¥¼ ì„¤ì¹˜í•˜ê³  ìœ„ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•˜ë©´ ì•Œì•„ì„œ ì„¤ì¹˜ëœë‹¤Â 

```shell
yarn storybook
```

ë¡œ ì‹œì‘í•˜ë©´ 6006í¬íŠ¸ë¡œ ì‹¤í–‰ëœë‹¤

/src/components/Chip.tsx

```js
{...}

const Chip = ({
  adornments = "#",
  label = "Chip",
  color = "basic",
  variants,
  outlined,
  onDelete,
}: ChipProps) => {
  const props = { color, variants, outlined };

  return (
    <StyledChip {...props}>
      {adornments && <StyledChipAdornments>{adornments}</StyledChipAdornments>}
      <StyledChipLabel {...props}>{label}</StyledChipLabel>
      {onDelete && (
        <CancelIconBtn value={label} onClick={onDelete}>
          <StyledCancelIcon aria-hidden {...props} />
        </CancelIconBtn>
      )}
    </StyledChip>
  );
};

export default Chip;

{...}
```

ë°°í¬ í›„ ìš°ë¦¬ê°€ ì‹¤ì œë¡œ ì‚¬ìš©í•  ì»´í¬ë„ŒíŠ¸ë‹¤

ë‹¤ì–‘í•œ ìƒ‰ìƒìœ¼ë¡œ ë°›ê¸°ìœ„í•´

```ts
export type Color = "basic" | "active" | "danger" | "warning";
```

ì„ ì‘ì„±í–ˆë‹¤.

<img src="/assets/blog/javaScript/storybook.gif" width="100%" alt="post image"/>

/src/stories/Chip.stories.tsx

```tsx
import { Meta, Story } from "@storybook/react";
import React from "react";
import { Chip, ChipProps } from "../../../components/Chip";

export default {
  title: "Components/Chip",
  component: Chip,
} as Meta;

export const Default: Story<ChipProps> = (args) => {
  return <Chip {...args} />;
};
```

ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ ë§Œë“  ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë¬¸ì„œí™” í•  ìˆ˜ ìˆë‹¤

argsì„ ë„£ì–´ì¤„ ìˆ˜ ìˆëŠ”ë°, ìŠ¤í† ë¦¬ë¶ì—ì„œëŠ” ìë™ìœ¼ë¡œ ì„¤ì •í•´ì¤€ë‹¤.

```js
Default.args = {
  color: "active",
};
```

ë¡œ ì§ì ‘ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.

ìš°ë¦¬ëŠ” npmìœ¼ë¡œ ë°°í¬í•´ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤. ë‹¤ìŒì—” ë°°í¬ê³¼ì •ê³¼ ë¹Œë“œê³¼ì •ì„ ì •ë¦¬í•´ì•¼ê² ë‹¤.

ì‘ì„±í•œ ë””ìì¸ ì‹œìŠ¤í…œì„ ê¸°ë°˜ìœ¼ë¡œ ì´ë²ˆì£¼ë¶€í„° ì§ì ‘ ê°œë°œì— ë“¤ì–´ê°€ê²Œëœë‹¤.

ì–´ë–¤ì ì´ ì¢‹ì€ì§€ ì°¨ì´ê°€ìˆëŠ”ì§€ ê²½í—˜í•´ë³´ëŠ” ì¢‹ì€ ê¸°íšŒê°€ ë ê±°ê°™ë‹¤.
1a:Td1c,
Nextjsì—ì„œ styled-componentsë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë²„ìƒì—ì„œ htmlì„ ë¶ˆëŸ¬ì˜¨ ë’¤, hydrateê³¼ì •ì—ì„œ jsë¥¼ ì…í˜€ ìŠ¤íƒ€ì¼ì´ ì ìš©ëœë‹¤.

ì´ë•Œ ì´ˆê¸° í˜ì´ì§€ ë¡œë”©ì‹œ ì‚¬ìš©ìê°€ ë³´ê²Œ ë˜ëŠ” í™”ë©´ì€, ìŠ¤íƒ€ì¼ë§ì´ ì „í˜€ ì ìš©ë˜ì§€ì•Šì€ htmlë¬¸ì„œë¥¼ ì ê¹ ë³´ê²Œ ë˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤.

<img src="/assets/blog/javaScript/next-styled-component.png" width="100%" alt="post image"/>

ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ ë°›ì•„ì˜¨ ë¬¸ì„œ(í˜ì´ì§€)ë¥¼ ë³´ë©´ styleì— ê´€í•œ ì •ë³´ëŠ” ì—†ê³ , htmlë§Œ ë‚´ë ¤ì˜¨ë‹¤.

ì´ëŸ´ë•Œ **\_document.tsx**ë¥¼ ì»¤ìŠ¤í…€í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

\_documentëŠ” Pageë¥¼ ë Œë”ë§í•˜ëŠ”ë° ê³µí†µì ìœ¼ë¡œ í•„ìš”í•œ íƒœê·¸, ë©”íƒ€ì •ë³´, í°íŠ¸ ë“±ì„ ì»¤ìŠ¤í…€ í•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë˜ documentëŠ” í•­ìƒ ì„œë²„ìƒì—ì„œë§Œ ì‹¤í–‰ë˜ë¯€ë¡œ ë¸Œë¼ìš°ì € ë° í´ë¼ì´ì–¸íŠ¸ ë‹¨ì—ì„œ í¬í•¨ëœ ì½”ë“œë“¤ì€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

---

ì²«ë²ˆì§¸ë¡œ styled-componentsì˜ ì„œë²„ì¸¡ classNameê³¼ í´ë¼ì´ì–¸íŠ¸ì¸¡ classNameì„ ë™ì¼í•˜ê²Œ ìœ ì§€ë˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ next.config.jsë¥¼ ìˆ˜ì •í•´ì•¼ëœë‹¤.

nextjs 12.1ë²„ì „ ì´ìƒë¶€í„°ëŠ” babel-plugin-styled-componentsë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë˜ê³ ,

```javascript
compiler: {
  styledComponents: true
},
```

ë§Œ ì‘ì„±í•´ ì£¼ë©´ ëœë‹¤.

ë‘ë²ˆì§¸ë¡œÂ 

```javascript
import Document, {DocumentContext} from 'next/document'
import {ServerStyleSheet} from 'styled-components'

class MyDocument extends Document {
  static async getInitialProps(ctx: DocumentContext) {
    const sheet = new ServerStyleSheet()
    const originalRenderPage = ctx.renderPage

    try {
      ctx.renderPage = () =>
        originalRenderPage({
          enhanceApp: (App) => (props) => sheet.collectStyles(<App {...props} />)
        })

      const initialProps = await Document.getInitialProps(ctx)

      return {
        ...initialProps,
        styles: [
          <>
            {initialProps.styles}
            {sheet.getStyleElement()}
          </>
        ]
      }
    } catch (error) {
      throw error
    } finally {
      sheet.seal()
    }
  }
}

export default MyDocument
```

\_document.tsx íŒŒì¼ì„ ìœ„ì²˜ëŸ¼ ì‘ì„±í•´ ì£¼ë©´ ëœë‹¤.

ìœ„ ì½”ë“œëŠ” ì´ˆê¸° ì„œë²„ì¸¡ì—ì„œ í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ ìŠ¤íƒ€ì¼ì„ ì…í˜€ ë¶ˆëŸ¬ì˜¤ë„ë¡ ì„¤ì •í•˜ëŠ” ì½”ë“œë‹¤.

getInitialPropsì—ì„œ ë°›ì•„ì˜¨ ctxì—ì„œ renderPageê°ì²´ë¥¼ ì°¾ì•„ ë³¼ ìˆ˜ ìˆëŠ”ë°, renderPageëŠ” CSS-in-JSë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì»¤ìŠ¤í…€í•  ë•Œ ë§Œ ì‚¬ìš©í•˜ë¼ê³  ê³µì‹ë¬¸ì„œì— ë‚˜ì™€ìˆë‹¤.

renderPage í•¨ìˆ˜ë¥¼ ì½˜ì†”ì— ì°ì–´ë³´ë‹ˆ, ìš°ë¦¬ê°€ ë³´ëŠ” htmlí˜ì´ì§€ì™€ ë¦¬ì•¡íŠ¸ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë‹´ê²¨ìˆëŠ” ê²ƒ ê°™ë‹¤.

styled-components ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ServerStyleSheetë¥¼ importí•˜ê³  ì„œë²„ì¸¡ì—ì„œ ê·¸ë ¤ì§ˆ sheetë¥¼ ìƒˆë¡œ ë§Œë“ ë‹¤.

```javascript
const sheet = new ServerStyleSheet()
```

ìƒˆë¡œ ë§Œë“  sheetì— renderPageì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë‚´ë¶€ì— styled-componentsë¡œ ì‘ì„±í•œ ìŠ¤íƒ€ì¼ë“¤ì„ ê²°í•©í•˜ê³ ,

```javascript
ctx.renderPage = () =>
  originalRenderPage({
    enhanceApp: (App) => (props) => sheet.collectStyles(<App {...props} />)
  })
```

ê¸°ì¡´ì— htmlì— styleíƒœê·¸ë¥¼ ì¶”ê°€í•œë‹¤.

```javascript
return {
  ...initialProps,
  styles: [
    <>
      {initialProps.styles}
      {sheet.getStyleElement()}
    </>
  ]
}
```

<img src="/assets/blog/javaScript/next-styled-component(1).png" width="100%" alt="post image"/>
1b:Te30,
í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ, í”„ë¡œí•„ í˜ì´ì§€ì— ìœ ì €ì •ë³´ì™€ í¬ì¸íŠ¸, í«ì •ë³´, ê´€ì‹¬ì‚¬ ë“± ì„¸ë¡œë¡œ ê¸¸ê²Œ~~ë°°ì¹˜ëœ UI, ê°ê°ì˜ ì •ë³´ë“¤ì„ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ í•˜ë‚˜í•˜ë‚˜ ë°›ì•„ì™€ ë³´ì—¬ì¤˜ì•¼ í–ˆë‹¤.

ì²˜ìŒì—” ì•„ë¬´ìƒê°ì—†ì´ ì§„í–‰í–ˆë‹¤.

í”„ë¡œí•„ í˜ì´ì§€ì— ì§„ì…í–ˆì„ ë•Œ ê°ê° í•„ìš”í•œ ë°ì´í„°ë¥¼ ì„œë²„ì— 4ë²ˆì´ë‚˜ ìš”ì²­í–ˆê³ , ê·¸ëŒ€ë¡œ ì»´í¬ë„ŒíŠ¸ì— ê·¸ë ¸ë‹¤.

ê·¸ëŸ¬ë‹¤ê°€ğŸ’¡ ìƒê°ë‚¬ëŠ”ë°,, ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ì•ŠëŠ” ë¶€ë¶„ì— ë°ì´í„°ë„ ë°›ì•„ì˜¤ê³  ìˆì—ˆë‹¤.

êµ³ì´ ìŠ¤í¬ë¡¤ì„ ë‚´ë¦¬ì§€ë„ ì•Šê³  ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ë„ ì•ŠëŠ” ë¶€ë¶„ì— ë°ì´í„°ê¹Œì§€ ë°›ì•„ì˜¬ í•„ìš”ëŠ” ì—†ì—ˆë‹¤.

ê·¸ëŸ¼ ì‚¬ìš©ìê°€ ìŠ¤í¬ë¡¤ì„ ë‚´ë ¤ ë³´ê³ ìí•˜ëŠ” ë¶€ë¶„ì— ë„ë‹¬í–ˆì„ë•Œ, ì•„ë‹ˆë©´ ë„ë‹¬í•˜ê¸° ì§ì „ì— ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ë³´ì—¬ì£¼ë©´ ì–´ë–¨ê¹Œ ì‹¶ì—ˆë‹¤.

ì´ì „ì— ê°•ì˜ì—ì„œ ì´ë¯¸ì§€ Lazyë¡œë”©ì„ ë°°ì› ì—ˆëŠ”ë°, ì´ë¯¸ì§€ ëŒ€ì‹ ì— ë°ì´í„° ìš”ì²­ì„ í•´ë³´ë©´ ì–´ë–¨ê¹Œ ìƒê°í–ˆë‹¤.

<img src="/assets/blog/javaScript/intersectionObserver.png" width="100%" alt="post image" />

ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ ë˜ìë§ˆì ëª¨ë“  ë°ì´í„°ë“¤ì´ ìš”ì²­ëœë‹¤.

ìš°ì„  í›…ì„ í•˜ë‚˜ ë§Œë“¤ì—ˆë‹¤. refê°ì²´ê°€ ê°ì§€ë˜ë©´ loadedê°€ trueë¡œ ë°”ë€Œê³ , ë”ì´ìƒ ê°ì‹œê°€ ì¤‘ì§€ëœë‹¤.

```tsx
export const useLazyRequest = () => {
  const ref = useRef(null) as MutableRefObject<HTMLDivElement>
  const [loaded, setLoaded] = useState<boolean>(false)

  useEffect(() => {
    const options = {}
    const callback = (entries, observer) => {
      entries.forEach((entry) => {
        console.log(entry)
        if (entry.isIntersecting) {
          console.log('is Intersecting')
          setLoaded(true)
          observer.unobserve(entry.target) // í•œë²ˆë§Œ ìš”ì²­ë˜ë„ë¡ ê°ì‹œ ì¤‘ì§€
        }
      })
    }
    const observer = new IntersectionObserver(callback, options) // ê°ì²´ ìƒì„±í•˜ê¸°
    observer.observe(ref.current)
  }, [])

  return {ref, loaded}
}
```

ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ëŒì•„ì™€ì„œ,

ë‚˜ëŠ” ë°ì´í„° ìš”ì²­ì— SWRì„ ì‚¬ìš©í–ˆë‹¤.

[https://swr.vercel.app/ko](https://swr.vercel.app/ko)

```tsx

// SWR
export const useUserKeywords = (loaded: boolean) => {
  const {data, isValidating, error} = useFetch(loaded ? PATH + '/keywords' : null, {
    revalidateOnFocus: false,
    revalidateIfStale: false,
    shouldRetryOnError: false
  })

  return {
    userKeywords: data,
    isValidating,
    error
  }
}
```

SWRì€ ìœ„ì²˜ëŸ¼ ì„¤ì •í–ˆë‹¤, SWRìì²´ë„ hookì´ê¸° ë•Œë¬¸ì— useEffectë‚˜ ë‹¤ë¥¸ í•¨ìˆ˜ì•ˆì—ì„œ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤.

```tsx
const {ref, loaded} = useLazyRequest()
const {userKeywords, isValidating, error} = useUserKeywords(loaded)

<Contents ref={ref}>
        {isValidating ? (
          <Loading />
        ) : (
          <>
           {...}
          </>
        )}
</Contents>
```

4ê°œì˜ ì„¹ì…˜ì´ ìˆëŠ”ë°, í˜ì´ì§€ ì§„ì…ì‹œ 1, 2ë²ˆê¹Œì§€ë§Œ ì‚¬ìš©ìì—ê²Œ ë³´ì´ê³  3, 4ë²ˆì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ìœ„ì²˜ëŸ¼ ì ìš©í–ˆë‹¤.

refì— ì‚¬ìš©ìì˜ viewê°€ ë„ë‹¬í•˜ë©´ userKeywordsë¥¼ ìš”ì²­í•´ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤.

<img src="/assets/blog/javaScript/intersectionObserver(1).gif" width="100%" alt="post image" />

ê³¼ê±°ì—ëŠ” getBoundingClientRect() ë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í–ˆë‹¤ê³  í•˜ëŠ”ë°, ë¦¬í”Œë¡œìš° í˜„ìƒì´ë‚˜ ì„±ëŠ¥ë©´ì—ì„œ ë³´ì™„í•˜ê³ ì ìš”ì¦˜ì—” intersection Observerë¥¼ ì‚¬ìš©í•´ íƒ€ê²Ÿì„ ê´€ì°°í•œë‹¤ê³  í•œë‹¤.

ë˜ ë¬´í•œìŠ¤í¬ë¡¤ë„ êµ¬í˜„í•´ ë³¼ ìˆ˜ ìˆë‹¤. í˜ì´ì§€ì˜ ë§¨ ë§ˆì§€ë§‰ ìš”ì†Œì— ë„ë‹¬í–ˆì„ ë•Œ, ìš”ì²­í•˜ëŠ” í˜ì´ì§€ ì¿¼ë¦¬ë¥¼ ++ í•˜ë©´ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

ë‹¤ë¥¸ í•„ìš”í•œ í˜ì´ì§€ì— ì ìš©í•´ë´ì•¼ê² ë‹¤!
1c:T1130,

ì´ë²ˆ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ì— ì‚¬ìš©í•˜ê²Œ ëœ react-hook-formê³¼ ì”¨ë¦„í•˜ë©´ì„œ ì •ë¦¬í•´ë³¸ refì™€ react-hook-formì˜ ê°„ë‹¨í•œ ì›ë¦¬ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ì.

---

### **ref**ë€?

Reactì—ì„œëŠ” propsë¥¼ í†µí•´ì„œë§Œ ë¶€ëª¨ì™€ ìì‹ê°„ì˜ ì»´í¬ë„ŒíŠ¸ì— ìƒí˜¸ì‘ìš©ì„ í•  ìˆ˜ ìˆë‹¤.

ìì‹ ì»´í¬ë„ŒíŠ¸ì— propsë¥¼ ì „ë‹¬í•´ propsì˜ ê°’ì´ ë³€ê²½ë˜ë©´ ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì‹œ ë Œë”ë§ì´ ëœë‹¤.

ê·¸ëŸ¬ë‚˜ propsë¥¼ í†µí•œ ë°©ë²•ì´ ì•„ë‹Œ ì§ì ‘ì ìœ¼ë¡œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼ë˜ëŠ” ì¼ì´ ìƒê¸¸ ìˆ˜ ìˆëŠ”ë°..

### Refë¥¼ ì‚¬ìš©í•´ì•¼ í•  ë•Œ

-   í¬ì»¤ìŠ¤, í…ìŠ¤íŠ¸ ì„ íƒì˜ì—­, í˜¹ì€ ë¯¸ë””ì–´ì˜ ì¬ìƒì„ ê´€ë¦¬í•  ë•Œ.
-   ì• ë‹ˆë©”ì´ì…˜ì„ ì§ì ‘ì ìœ¼ë¡œ ì‹¤í–‰ì‹œí‚¬ ë•Œ.
-   ì„œë“œ íŒŒí‹° DOM ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ Reactì™€ ê°™ì´ ì‚¬ìš©í•  ë•Œ.

ìš°ì„  DOMì— ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì€ ê±´ë„ˆ ë›°ê³ , react-hook-formê³¼ ê´€ë ¨ëœ **ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ ì œì–´**ì— ê´€í•´ ì•Œì•„ë³´ì.

**react-hook-form**ì˜ ê°€ì¥ í° ëª©ì ì€ í¼í¬ë¨¼ìŠ¤ì´ë©°, **ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸**ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(formik, redux-form ë“±) ì— ë¹„í•´ íƒ€ì´í•‘ì´ë‚˜ ê°’ì´ ë³€ê²½ë  ë•Œ ë¦¬ëœë”ë§ì´ ì¼ì–´ë‚˜ëŠ” ì–‘ì„ ì¤„ì—¬ì¤€ë‹¤.

ì—¬ê¸°ì„œ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë€,Â 

Reactì—ì„œ ì œì–´í•˜ì§€ ì•Šê³ , ë°”ë‹ë¼ JSë¥¼ ì´ìš©í•´ ì œì–´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë¼ í•œë‹¤.

ì‰½ê²Œë§í•´ Reactê°€ ê´€ì—¬í•˜ì§€ ì•ŠëŠ”ë‹¤. (ì¬ì¡°ì •, ë¹„êµ ë“±)

ì´ëŸ° ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ì„œ, DOMì— ì ‘ê·¼í•˜ëŠ” ì—­í• ì„ refê°€ í•œë‹¤.

ì˜ˆë¥¼ë“¤ì–´

```javascript
const [test, setTest] = useState('')
<input value={test} onChange={(e) => setTest(e.target.value)} />
```

ìœ„ì™€ê°™ì´ stateë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê²Œ ë˜ë©´, stateê°€ ë³€í•˜ë©´ì„œ ì´ë¥¼ ì—…ë°ì´íŠ¸ í•˜ê¸° ìœ„í•´ ê³„ì†í•´ì„œ ë¦¬ë Œë”ë§ì´ ëœë‹¤.

<img src="/assets/blog/javaScript/ref.gif" width="100%" alt="post image"/>

ì´ëŠ” Reactì—ì„œ ì œì–´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë‹¤.

ê·¸ëŸ¬ë©´ êµ³ì´ ì¸í’‹ì— ê°’ë§Œ ë³€í•˜ëŠ”ê±´ë° ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

```
  const inputRef = useRef(null)
  const testHandler = (e) => {
    inputRef.current.value = e.target.value
  }
    <input ref={inputRef} onChange={(e) => testHandler(e)} />
```

<img src="/assets/blog/javaScript/ref(1).gif" width="100%" alt="post image"/>

refë¥¼ ì‚¬ìš©í•˜ë©´ ì¸í’‹ê°’ì´ ë³€ê²½ë˜ì–´ë„ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

---

### Ref ì™€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

-   í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ê¸° ë•Œë¬¸ì—Â **í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì— ref ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**.

ì‚¬ì‹¤ ìœ„ ì˜ˆì œëŠ” í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‘ì„±í•´ì•¼ ì í•©í–ˆì§€ë§Œ, í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œë„ refëŠ” ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë‹¤ë§Œ ìƒíƒœê°’ì´ ë°”ë€” ë•Œ ë§ˆë‹¤ ë‹¤ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì˜ íŠ¹ì„±ë•Œë¬¸ì— ê¸°ì¡´ê³¼ëŠ” ë‹¤ë¥¸ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.

ìœ„ ì˜ˆì œì—ì„œ ì‚¬ìš©í•œ **useRefëŠ” hookìœ¼ë¡œ í•¨ìˆ˜ì˜ ë Œë”ë§ì˜ ìƒê´€ì—†ì´** ìƒíƒœ ê°’ì„ ìœ ì§€í•œë‹¤.

---

### forwardRef

react-hook-formì„ ì‚¬ìš©í•˜ë©´ì„œÂ 

**Warning:Â FunctionÂ componentsÂ cannotÂ beÂ givenÂ refs.Â AttemptsÂ toÂ accessÂ thisÂ refÂ willÂ fail.Â DidÂ youÂ meanÂ toÂ useÂ React.forwardRef()?**

ì´ëŸ° ì—ëŸ¬ë¥¼ ë§Œë‚˜ê²Œ ëëŠ”ë°, ref ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ëœ react-hook-formì´ refë¥¼ **ìì‹ìš”ì†Œ(ì¸í’‹ì»´í¬ë„ŒíŠ¸)ì— ì „ë‹¬**í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œ ì—ëŸ¬ì˜€ë‹¤.

refëŠ” Reactì—ì„œ propsë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²ƒ ì¤‘ì— í•˜ë‚˜ì˜€ëŠ”ë°, ëŒ€í‘œì ì¸ Keyê°’ê³¼ ë™ì¼í•˜ê²Œ **propsë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤**.

Reactì—ì„œ refë¥¼ propsë¡œ ì‚¬ìš©í•˜ë ¤ë©´ forwardRefë¥¼ ì‚¬ìš©í•´ ìì‹ìš”ì†Œë¡œ refë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ forwardRef()í•¨ìˆ˜ë¡œ ê°ì‹¸ì£¼ê³ , propsì™€ refë¥¼ ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```
const Input = forwardRef((props, ref) => {
  return <input ref={ref} />;
});
```

ì¶”ê°€ë¡œ eslint ì—ëŸ¬ë‚˜ ê°œë°œì ë„êµ¬ì—ì„œ forwardRefì‚¬ìš©ì‹œ ì´ë¦„ì´ ë‚˜ì˜¤ì§€ ì•ŠëŠ” ì—ëŸ¬ëŠ”

displayName ì†ì„±ì— ì´ë¦„ì„ ì„¤ì •í•˜ê±°ë‚˜, ìµëª…í•¨ìˆ˜ ëŒ€ì‹  ì´ë¦„ìˆëŠ” í•¨ìˆ˜ë¥¼ ë„˜ê²¨ ì£¼ë©´ ëœë‹¤.

```
Input.displayName = "Input";
```

```
const Input = forwardRef(function Input(props, ref) {
  return <input ref={ref} />;
});
```

---

refëŠ” íŠ¹ì • DOMì— ì ‘ê·¼í•´ ì• ë‹ˆë©”ì´ì…˜ì„ ì´ìš©í• ë•Œë§Œ ì£¼ë¡œ ì‚¬ìš©í–ˆì—ˆëŠ”ë°, ì´ë²ˆ ê¸°íšŒì— ì¡°ê¸ˆ ë” ìì„¸í•˜ê²Œ ë“¤ì—¬ë‹¤ ë³¸ê²ƒ ê°™ë‹¤.ğŸ¤”
1d:T18c7,
ì´ë²ˆì— ìœ ì§€ë³´ìˆ˜í•˜ë©´ì„œ ì§„í–‰í–ˆë˜ TTS (Text-to-Speech)

ë‹¨ì–´ì˜ ë°œìŒì„ ì½ì–´ì£¼ë„ë¡ í•´ì•¼í–ˆë‹¤.

ê²°êµ­ Google TTSë¡œ êµ¬í˜„í•˜ê¸´ í–ˆì§€ë§Œ, ì²˜ìŒì—ëŠ” Speechsynthesisë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í–ˆì—ˆë‹¤.

SppechsynthesisëŠ” (ìŒì„± í•©ì„±) Web Speech APIì´ê³  ì£¼ì–´ì§„ í…ìŠ¤íŠ¸ë¥¼ ì†Œë¦¬ë¡œ ë°”ê¿”ì£¼ëŠ”, ìŒì„± ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì»¨íŠ¸ë¡¤ëŸ¬ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.

---

### Speechsynthesis

IEë¹¼ê³  ë¸Œë¼ìš°ì € ê±°ì˜ ì§€ì›í•œë‹¤.

```javascript
speechSynthesis.getVoices();
```

ë¡œ ì§€ì›í•˜ëŠ” ìŒì„± ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.


<img src="/assets/blog/javaScript/speechsynthesis.png" width="100%" alt="post image"/>

ë¬¸ì œëŠ”,, ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë˜ëŠ” OSë§ˆë‹¤ ì§€ì›í•˜ëŠ” ìŒì„±ì´ ë‹¬ë¼ì„œ ëª¨ë‘ ë™ì¼í•˜ì§€ ëª»í–ˆë‹¤,

ê·¸ë˜ì„œ ëª¨ë°”ì¼ë”°ë¡œ ì›¹ë”°ë¡œ ë¸Œë¼ìš°ì €ë³„ë¡œ ëª©ì†Œë¦¬ê°€ ë‹¤ë¥´ê²Œ ì„¸íŒ…ë˜ì–´ Google TTSë¡œ ë°”ê¾¸ê²Œ ë˜ì—ˆë‹¤.

```javascript
const speech = new SpeechSynthesisUtterance()

// ìŒë†’ì´ì™€ ëª©ì†Œë¦¬ ë“± ì„¤ì •ì´ ê°€ëŠ¥
speech.voice
speech.text
speech.lang
speech.pitch
speech.rate
speech.volume
```

```
// speechSynthesisUtteranceì— ì„¤ì •í•œ ìŒì„± ì‹¤í–‰
window.speechSynthesis.speak(speech)
```

---

### Google TTS

ë‘ê°€ì§€ ë°©ì‹ì´ ìˆì—ˆë‹¤.

í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ API

í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

#### Node.js

```javascript
npm install --save @google-cloud/text-to-speech	//ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜


// Imports the Google Cloud client library
const textToSpeech = require('@google-cloud/text-to-speech');

// Import other required libraries
const fs = require('fs');
const util = require('util');
// Creates a client
const client = new textToSpeech.TextToSpeechClient();
async function quickStart() {
  // The text to synthesize
  const text = 'hello, world!';

  // Construct the request
  const request = {
    input: {text: text},
    // Select the language and SSML voice gender (optional)
    voice: {languageCode: 'en-US', ssmlGender: 'NEUTRAL'},
    // select the type of audio encoding
    audioConfig: {audioEncoding: 'MP3'},
  };

  // Performs the text-to-speech request
  const [response] = await client.synthesizeSpeech(request);
  // Write the binary audio content to a local file
  const writeFile = util.promisify(fs.writeFile);
  await writeFile('output.mp3', response.audioContent, 'binary');
  console.log('Audio content written to file: output.mp3');
}
quickStart();
```

êµ¬ê¸€ì˜ ìƒ˜í”Œì½”ë“œ

ìœ„ ì½”ë“œë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ë‹ˆ output.mp3 íŒŒì¼ì´ ë§Œë“¤ì–´ì§€ê³  ì´ íŒŒì¼ì„ ì¬ìƒí•˜ë©´ ìš”ì²­í•œ textê°€ ì¬ìƒëë‹¤.

í•˜ì§€ë§Œ íŒŒì¼ë„ í•„ìš”ì—†ê³ , ìŒì„±ë§Œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë°›ìœ¼ë©´ ëê¸° ë•Œë¬¸ì— ì¡°ê¸ˆ ë” ì‚´í´ë´¤ëŠ”ë°, reponse ë¶€ë¶„ì—ì„œ arrayBufferì˜ ë²„í¼ë°ì´í„°ê°€ ì°í˜”ê³ , ì´ response ë°ì´í„°ë¥¼ ë°”ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë³´ë‚´ì¤¬ë‹¤.

#### React

```javascript
      const requestAudioFile = async (e) => {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)

            const response = await axios({
                method: 'get',
                url: `http://localhost:4000/exam1`,
                params: {test: e.target.ariaValueText},
                responseType: 'arraybuffer'
            })

            // ë²„í¼ ë°ì´í„° ë¹„ë™ê¸° ë””ì½”ë”©
            const audioBuffer = await audioContext.decodeAudioData(response.data)

            // ì˜¤ë””ì˜¤ source ë§Œë“¤ê¸°
            const gainNode = audioContext.createGain()
            const source = audioContext.createBufferSource()

            // ìƒì„±ëœ sourceì— ì¬ìƒí•  ë°ì´í„° ì„ ì–¸
            source.buffer = audioBuffer
            source.connect(gainNode)

            // ì¬ìƒí•  ìŠ¤í”¼ì»¤ì— source ë„£ê¸°
            gainNode.connect(audioContext.destination)
            source.start()

            console.log('responce', response.data);
            console.log('audioContext', audioContext);
            // -------------- //
            const audioBuffer = await audioContext.decodeAudioData(decode);
            console.log('audioBuffer', audioBuffer);
            //create audio source
              const gainNode = audioContext.createGain()
              const source = audioContext.createBufferSource()
            console.log('source : ', source);

              source.buffer = audioBuffer
              source.connect(gainNode)
              gainNode.connect(audioContext.destination)

            source.start();
        }
```

ì½í˜€ì•¼í•  textë¥¼ paramsë¡œ ë³´ëƒˆê³ , Web Audio API ì˜ AudioContextë¥¼ ì‚¬ìš©í•´ì„œ ë°›ì•„ì˜¨ ë²„í¼ë°ì´í„°ë¥¼ ì½ë„ë¡ í–ˆë‹¤.

ê·¼ë° ëª‡ê°€ì§€ ë¬¸ì œê°€ ë” ìˆì—ˆëŠ”ë°, ëª¨ë°”ì¼ì—ì„œëŠ” ì‘ë™í•˜ì§€ ì•ŠëŠ”ê²ƒ..audio íƒœê·¸ë¥¼ ì´ìš©í•´ ì½í˜€ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë²„íŠ¼ ì»¤ìŠ¤í…€ì´ ë˜ì§€ ì•Šì•˜ë‹¤.

ê·¸ë˜ì„œ ë³€ê²½í•œê²Œ API

```
POST https://texttospeech.googleapis.com/v1/text:synthesize?key='Google API KEY'
```

```json
{
  "input":{
    "text":"Android is a mobile operating system developed by Google, based on the Linux kernel and designed primarily for touchscreen mobile devices such as smartphones and tablets."
  },
  "voice":{
    "languageCode":"en-gb",
    "name":"en-GB-Standard-A",
    "ssmlGender":"FEMALE"
  },
  "audioConfig":{
    "audioEncoding":"MP3"
  }
}
```

ìœ„ì²˜ëŸ¼ ì‘ì„±í•´ POSTìš”ì²­ì„ ë³´ë‚´ë©´Â Â 

```
//NExAARqoIIAAhEuWAAAGNmBGMY4EBcxvABAXBPmPIAF//yAuh9Tn5CEap3/o
...
VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV
```

ìŒì„±ì´ base64 ì¸ì½”ë”© í˜•ì‹ìœ¼ë¡œ ë“¤ì–´ì˜¨ë‹¤.

ë°›ì€ ì¸ì½”ë”©ëœ ìŒì„±ì„

```javascript
const [audioSource, setAudioSource] = useState(null)

const requestAudioFile = async (e) => {
  const response = await axios.post(
      // eslint-disable-next-line no-undef
    `https://texttospeech.googleapis.com/v1/text:synthesize?key=${process.env.REACT_APP_GOOGLE_TTL}`,
    {
      input: {
        text: e?.target?.ariaValueText
      },
      voice: {
        languageCode: 'en-US',
        name: 'en-US-Standard-H',
        ssmlGender: 'FEMALE'
      },
      audioConfig: {
        audioEncoding: 'LINEAR16',
        speakingRate: 1
      }
    }
  );
  setAudioSource(new Audio("data:audio/wav;base64," + response.data?.audioContent));
};

    useEffect(() => {
        audioSource?.play()
    }, [audioSource])
```

new Audio ì˜¤ë””ì˜¤ ê°ì²´ë¥¼ ì´ìš©í•´ ì˜¤ë””ì˜¤ì†ŒìŠ¤ê°€ ë“¤ì–´ì˜¬ë•Œ, ì˜¤ë””ì˜¤ë¥¼ ë§Œë“¤ê³  ì¬ìƒì‹œì¼°ë‹¤.
9:["$","section",null,{"className":"flex flex-col-reverse md:relative md:flex-row","children":[["$","$L14",null,{"isPagination":true,"posts":{"posts":[{"content":"$15","data":{"title":"ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŒ…(3)","date":"$D2022-12-26T00:00:00.000Z","description":"jestì™€ react-testing-library","category":"javaScript","titleImage":"/assets/postIcon/test.webp"},"slug":"react-testing-3"},{"content":"$16","data":{"title":"ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŒ…(2)","date":"$D2022-12-14T00:00:00.000Z","description":"jestì™€ react-testing-library","category":"javaScript","titleImage":"/assets/postIcon/test.webp"},"slug":"react-testing-2"},{"content":"$17","data":{"title":"ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŒ…(1)","date":"$D2022-12-10T00:00:00.000Z","description":"jestì™€ react-testing-library","category":"javaScript","titleImage":"/assets/postIcon/test.webp"},"slug":"react-testing-1"},{"content":"$18","data":{"title":"6ì£¼ê°„ ìŠ¤í„°ë””í•˜ë©° ë°°ìš´ê²ƒë“¤","date":"$D2022-10-21T00:00:00.000Z","description":"6ì£¼ê°„ ì§„í–‰í•œ ìŠ¤í„°ë””ì—ì„œ ì–»ì€ ê²ƒë“¤","category":"til","titleImage":"/assets/postIcon/til.webp"},"slug":"study"},{"content":"$19","data":{"title":"Storybook ì¨ë³´ê¸°","date":"$D2022-10-11T00:00:00.000Z","description":"ìŠ¤í„°ë”” í•˜ë©´ì„œ ì²˜ìŒ ì¨ë³¸ Storybook","category":"javaScript","titleImage":"/assets/postIcon/storybook.webp"},"slug":"storybook"},{"content":"$1a","data":{"title":"Next.js styled-component ì ìš© ë¬¸ì œì— ëŒ€í•´(_document.tsx)","date":"$D2022-08-22T00:00:00.000Z","description":"next.jsì™€ styled-component ì‚¬ìš©ì‹œ ë°œìƒí•œ ì—ëŸ¬","category":"javaScript","titleImage":"/assets/postIcon/Nextjs.svg"},"slug":"next-styled-component"},{"content":"$1b","data":{"title":"IntersectionObserverë¡œ ë°ì´í„° ìš”ì²­í•´ë³´ê¸°","date":"$D2022-05-04T00:00:00.000Z","description":"IntersectionObserverë¥¼ í™œìš©í•´ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"intersectionObserver"},{"content":"\n\n####\n**bundle-analyzer**ëŠ” ë¹Œë“œëœ íŒŒì¼ì„ íŠ¸ë¦¬ë§µ í˜•ì‹ìœ¼ë¡œ ì¢…ë¥˜ì™€ í¬ê¸°ë¥¼ ë³´ì—¬ì¤€ë‹¤.\n\nnextì—ì„œ ì œê³µí•˜ëŠ” bundle-analyzer\n\nnext.config.js\n\n```javascript\nconst withBundleAnalyzer = require('@next/bundle-analyzer')({\n  enabled: process.env.ANALYZE === 'true'\n})\n\nmodule.exports = withBundleAnalyzer({\n  compress: true,\n  webpack(config, {webpack}) {\n    const prod = process.env.NODE_ENV === 'production'\n    const plugins = [...config.plugins]\n    return {\n      ...config,\n      mode: prod ? 'production' : 'development',\n      devtool: prod ? 'hidden-source-map' : 'eval',\n      plugins\n    }\n  }\n})\n```\n\npackage.json / script\n\n```\n\"build\": \"ANALYZE=true next build\",\n```\n\n<img src=\"/assets/blog/javaScript/bundle-analyzer.png\" width=\"100%\" alt=\"bundle-analyzer\"/>\n\n\nì´ëŸ°ì‹ìœ¼ë¡œ htmlì´ ì‹¤í–‰ëœë‹¤.\n\nì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ë‘ê°œì˜ ì°½ì´ ì‹¤í–‰ë˜ëŠ”ë° í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ì¸ ì‚¬ìš©ìì—ê²Œ ì§ì ‘ ë³´ì—¬ì§ˆ ë¶€ë¶„ì´ë¼, ì„œë²„ ë¶€ë¶„ë³´ë‹¤ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ì„ ì¤„ì´ëŠ”ê²Œ ë” íš¨ê³¼ì ì´ë¼ê³  í•œë‹¤.\n\nì•„ì´ì½˜ìœ¼ë¡œ ì“°ì¼ ì´ë¯¸ì§€ë¥¼ ë‘ê°œì“°ê¸°ì‹«ì–´ svgë¥¼ ì»´í¬ë„ŒíŠ¸í™”ì‹œì¼œ propsë¡œ ìƒ‰ìƒì„ ë³€ê²½ì‹œí‚¤ê²Œ í–ˆëŠ”ë°, ìš©ëŸ‰ì´ ê½¤ í¬ë‹¤ê³  ë‚˜ì™”ë‹¤ ê±°ìŠ¬ë¦°ë‹¤ ğŸ¤”\n\nì¤„ì¼ìˆ˜ìˆëŠ” ë°©ë²•ì„ ì°¾ì•„ë´ì•¼ê² ë‹¤.\n\në˜ ë‚˜ì¤‘ì— ìµœì¢… ë°°í¬ë•ŒëŠ” ë²ˆë“¤ëœ JS íŒŒì¼ì„ gzë¡œ ì••ì¶•ì‹œì¼œ ë¸Œë¼ìš°ì € ìª½ìœ¼ë¡œ ë³´ë‚´ì£¼ëŠ” ë°©ë²•ë„ ìˆë‹¤ê³  í•˜ëŠ”ë°, ë‚˜ì¤‘ì— ì‹œë„í•´ë´ì•¼ê² ë‹¤.\n","data":{"title":"next/bundle-analyzer","date":"$D2022-02-22T00:00:00.000Z","description":"next/bundle-analyzerë¡œ ë²ˆë“¤ í¬ê¸° í™•ì¸í•˜ê¸°","category":"javaScript","titleImage":"/assets/postIcon/Nextjs.svg"},"slug":"next-bundle-analyzer"},{"content":"$1c","data":{"title":"ë¦¬ì•¡íŠ¸ ref ì™€ forwardRef (with. react-hook-form)","date":"$D2022-02-09T00:00:00.000Z","description":"react-hook-form ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ refì˜ ë™ì‘","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"ref-forwardRef"},{"content":"$1d","data":{"title":"Speechsynthesis & Google TTS","date":"$D2022-01-22T00:00:00.000Z","description":"í”„ë¡œì íŠ¸ ì§„í–‰í•˜ë©° ê²½í—˜í•´ë³¸ Speechsynthesis & Google TTS","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"Speechsynthesis"}],"total":47},"page":"4"}],"$L1e"]}]
1e:["$","ul",null,{"className":"relative top-0 flex h-fit min-w-fit flex-row flex-wrap gap-[20px] py-[20px] pl-0 md:sticky md:top-[100px] md:flex-col md:flex-nowrap md:py-0 md:pl-[30px]","children":[["$","h2",null,{"className":"hidden text-[18px] font-bold md:inline","children":"Category"}],[["$","li","javaScript",{"children":["$","$L4",null,{"className":"text-gray700","href":"/blog/javaScript","children":"javaScript (42)"}]}],["$","li","study",{"children":["$","$L4",null,{"className":"text-gray700","href":"/blog/study","children":"study (3)"}]}],["$","li","til",{"children":["$","$L4",null,{"className":"text-gray700","href":"/blog/til","children":"til (2)"}]}]]]}]
f:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
b:null
1f:I[622,[],"IconMark"]
d:{"metadata":[["$","title","0",{"children":"Been blog - 4"}],["$","meta","1",{"name":"description","content":"Been dev-note - 4"}],["$","meta","2",{"name":"google-site-verification","content":"BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U"}],["$","meta","3",{"name":"naver-site-verification","content":"58945b2bbe2fe86252fa8c7b204b40f6019920e9"}],["$","link","4",{"rel":"canonical","href":"https://wonbeenna.github.io/page/4"}],["$","meta","5",{"property":"og:title","content":"Been blog - 4"}],["$","meta","6",{"property":"og:description","content":"Been dev-note - 4"}],["$","meta","7",{"property":"og:url","content":"https://wonbeenna.github.io/page/4"}],["$","meta","8",{"property":"og:site_name","content":"Been blog"}],["$","meta","9",{"property":"og:locale","content":"ko_KR"}],["$","meta","10",{"property":"og:image","content":"https://wonbeenna.github.io/favicon.png"}],["$","meta","11",{"property":"og:image:width","content":"800"}],["$","meta","12",{"property":"og:image:height","content":"600"}],["$","meta","13",{"property":"og:image:alt","content":"Been blog"}],["$","meta","14",{"property":"og:type","content":"website"}],["$","meta","15",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","16",{"name":"twitter:title","content":"Been blog - 4"}],["$","meta","17",{"name":"twitter:description","content":"Been dev-note - 4"}],["$","meta","18",{"name":"twitter:image","content":"https://wonbeenna.github.io/favicon.png"}],["$","meta","19",{"name":"twitter:image:width","content":"800"}],["$","meta","20",{"name":"twitter:image:height","content":"600"}],["$","meta","21",{"name":"twitter:image:alt","content":"Been blog"}],["$","link","22",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"192x192"}],["$","link","23",{"rel":"icon","href":"/favicon.ico","sizes":"any"}],["$","link","24",{"rel":"icon","href":"/favicon.png","sizes":"32x32","type":"image/png"}],["$","link","25",{"rel":"apple-touch-icon","href":"/favicon.png","sizes":"32x32","type":"image/png"}],["$","$L1f","26",{}]],"error":null,"digest":"$undefined"}
12:"$d:metadata"
