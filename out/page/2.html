<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/045832894acda0e9-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/120a5a1920781bd0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/6ebb97b5c9fa4e03-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c714540e49ad5111-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/da897b99eb1fe4a1-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/b05f4fc671799f14.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-6842230df931aae6.js"/><script src="/_next/static/chunks/4bd1b696-4065b800a95c15b1.js" async=""></script><script src="/_next/static/chunks/517-7e58a3b6fa6e0207.js" async=""></script><script src="/_next/static/chunks/main-app-1d252cd770acba2d.js" async=""></script><script src="/_next/static/chunks/839-69c2111cfab13ba3.js" async=""></script><script src="/_next/static/chunks/264-252ca7916fa91819.js" async=""></script><script src="/_next/static/chunks/app/layout-7f5ac2ccdb15d80e.js" async=""></script><script src="/_next/static/chunks/app/page/%5Bpage%5D/page-6d9893d73947e310.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN" as="script"/><meta name="next-size-adjust"/><title>Been blog - 2</title><meta name="description" content="Been dev-note"/><meta name="google-site-verification" content="BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U"/><meta name="naver-site-verification" content="58945b2bbe2fe86252fa8c7b204b40f6019920e9"/><meta property="og:title" content="Been blog - 2"/><meta property="og:description" content="Been dev-note - 2"/><meta property="og:url" content="https://wonbeenna.github.io/page/2"/><meta property="og:site_name" content="Been blog"/><meta property="og:locale" content="ko_KR"/><meta property="og:image" content="https://wonbeenna.github.io/favicon.png"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:image:alt" content="Been blog"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Been blog - 2"/><meta name="twitter:description" content="Been dev-note - 2"/><meta name="twitter:image" content="https://wonbeenna.github.io/favicon.png"/><meta name="twitter:image:width" content="800"/><meta name="twitter:image:height" content="600"/><meta name="twitter:image:alt" content="Been blog"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="192x192"/><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="icon" href="/favicon.png" sizes="32x32" type="image/png"/><link rel="apple-touch-icon" href="/favicon.png" sizes="32x32" type="image/png"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_363063"><script>((e,t,r,n,o,a,i,u)=>{let s=document.documentElement,l=["light","dark"];function c(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(s.classList.remove(...n),s.classList.add(t)):s.setAttribute(e,t)}),u&&l.includes(t)&&(s.style.colorScheme=t)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><header class="sticky top-0 z-10 mx-auto my-0 h-[56px] border-b border-b-gray200 bg-white px-[24px] py-0 dark:bg-darkBg01"><section class="m-auto flex h-full max-w-[970px] items-center justify-between"><div class="flex items-center gap-[20px]"><a href="/"><img alt="logo" loading="lazy" width="60" height="56" decoding="async" data-nimg="1" style="color:transparent" src="/assets/icons/been-logo.svg"/></a><div class="flex items-center gap-[20px]"><a href="/about">About</a></div></div><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></section></header><main class="mx-auto my-0 max-w-[970px] p-[16px]"><section class="flex flex-col-reverse md:relative md:flex-row"><div class="flex flex-1 flex-col"><ol class="relative mx-0 my-[20px] flex w-full  flex-col gap-[40px] p-0"><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/javaScript/next-blog"><img alt="Next.js 블로그 만들기" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/Nextjs.svg"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">Next.js 블로그 만들기</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">Next.js로 블로그 만들기</p><span class="text-gray700">2023-10-09</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/javaScript/jwt-decode"><img alt="jwt 토큰 decode 하기" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/javascript.png"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">jwt 토큰 decode 하기</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">jwt 토큰 decode 함수</p><span class="text-gray700">2023-08-31</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/javaScript/audio"><img alt="Audio객체를 이용한 음악 재생" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/logo192.png"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">Audio객체를 이용한 음악 재생</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">Audio객체를 사용한 기업 과제 구현</p><span class="text-gray700">2023-05-27</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/javaScript/debouce-throttle"><img alt="디바운싱과 쓰로틀링" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/javascript.png"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">디바운싱과 쓰로틀링</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">디바운싱과 쓰로틀링의 차이를 구분하고 hook으로 구현</p><span class="text-gray700">2023-05-13</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/javaScript/graphql-1"><img alt="GraphQl 써보기(1)" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/graphql.svg"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">GraphQl 써보기(1)</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">GraphQl, Apollo Client를 사용</p><span class="text-gray700">2023-04-29</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/study/browser"><img alt="브라우저에 url을 검색하면?" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/javascript.png"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">브라우저에 url을 검색하면?</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">사내 스터디</p><span class="text-gray700">2023-02-25</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/javaScript/next-middleware"><img alt="Next.js middleware와 getServerSideProps" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/Nextjs.svg"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">Next.js middleware와 getServerSideProps</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">세션방식의 로그인 인증, middleware와 getServerSideProps를 사용해 구현한 기록</p><span class="text-gray700">2023-02-22</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/javaScript/tailwindcss"><img alt="Nextjs에서 tailwind 써보기" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/tailwind-css-icon.png"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">Nextjs에서 tailwind 써보기</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">공식문서 보면서 tailwind 써보기</p><span class="text-gray700">2023-02-18</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/study/this"><img alt="JavaScript this" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/javascript.png"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">JavaScript this</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">사내 스터디 this</p><span class="text-gray700">2023-02-02</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/javaScript/svelte-blog"><img alt="스벨트킷으로 블로그 만들어보기" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/svelte-icon.webp"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">스벨트킷으로 블로그 만들어보기</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">스벨트킷으로 블로그 만든 과정을 정리</p><span class="text-gray700">2023-01-30</span></div></a></li></ol><ul class="flex items-center justify-center gap-[10px]"><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">ᐸ</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">1</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] rounded-full bg-primaryGradient03 px-[4px] py-[2px] text-white">2</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">3</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">4</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">ᐳ</li></ul></div><ul class="relative top-0 flex h-fit min-w-fit flex-row flex-wrap gap-[20px] py-[20px] pl-0 md:sticky md:top-[100px] md:flex-col md:flex-nowrap md:py-0 md:pl-[30px]"><h2 class="hidden text-[18px] font-bold md:inline">Category</h2><li><a class="text-gray700" href="/blog/javaScript">javaScript (37)</a></li><li><a class="text-gray700" href="/blog/study">study (2)</a></li><li><a class="text-gray700" href="/blog/til">til (1)</a></li></ul></section></main><footer class="flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600">Copyright © Been.</footer><script src="/_next/static/chunks/webpack-6842230df931aae6.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"7:\"$Sreact.fragment\"\n8:I[3704,[\"839\",\"static/chunks/839-69c2111cfab13ba3.js\",\"264\",\"static/chunks/264-252ca7916fa91819.js\",\"177\",\"static/chunks/app/layout-7f5ac2ccdb15d80e.js\"],\"\"]\n9:I[8534,[\"839\",\"static/chunks/839-69c2111cfab13ba3.js\",\"264\",\"static/chunks/264-252ca7916fa91819.js\",\"177\",\"static/chunks/app/layout-7f5ac2ccdb15d80e.js\"],\"Providers\"]\na:I[6934,[\"839\",\"static/chunks/839-69c2111cfab13ba3.js\",\"264\",\"static/chunks/264-252ca7916fa91819.js\",\"177\",\"static/chunks/app/layout-7f5ac2ccdb15d80e.js\"],\"default\"]\nb:I[5244,[],\"\"]\nc:I[3866,[],\"\"]\ne:I[6213,[],\"OutletBoundary\"]\n10:I[6213,[],\"MetadataBoundary\"]\n12:I[6213,[],\"ViewportBoundary\"]\n14:I[4835,[],\"\"]\n1:HL[\"/_next/static/media/045832894acda0e9-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/120a5a1920781bd0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/6ebb97b5c9fa4e03-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/media/c714540e49ad5111-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n5:HL[\"/_next/static/media/da897b99eb1fe4a1-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/b05f4fc671799f14.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"1vrA55DbA1quQGNpUHWYR\",\"p\":\"\",\"c\":[\"\",\"page\",\"2\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"page\",{\"children\":[[\"page\",\"2\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$7\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b05f4fc671799f14.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"$L8\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN\"}],[\"$\",\"$L8\",null,{\"id\":\"google-analytics\",\"children\":\"\\n          window.dataLayer = window.dataLayer || [];\\n          function gtag(){dataLayer.push(arguments);}\\n          gtag('js', new Date());\\n \\n          gtag('config', 'G-LFDRQZPCBN');\\n        \"}],[\"$\",\"body\",null,{\"suppressHydrationWarning\":true,\"className\":\"__className_363063\",\"children\":[\"$\",\"$L9\",null,{\"children\":[[\"$\",\"$La\",null,{}],[\"$\",\"main\",null,{\"className\":\"mx-auto my-0 max-w-[970px] p-[16px]\",\"children\":[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600\",\"children\":\"Copyright © Been.\"}]]}]}]]}]]}],{\"children\":[\"page\",[\"$\",\"$7\",\"c\",{\"children\":[null,[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"page\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]]}],{\"children\":[[\"page\",\"2\",\"d\"],[\"$\",\"$7\",\"c\",{\"children\":[null,[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"page\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lc\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$7\",\"c\",{\"children\":[\"$Ld\",null,[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}]]}],{},null]},null]},null]},null],[\"$\",\"$7\",\"h\",{\"children\":[null,[\"$\",\"$7\",\"vppTOqxZfVizXp7bc0kIX\",{\"children\":[[\"$\",\"$L10\",null,{\"children\":\"$L11\"}],[\"$\",\"$L12\",null,{\"children\":\"$L13\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]]}]]}]]],\"m\":\"$undefined\",\"G\":[\"$14\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"15:I[8882,[\"839\",\"static/chunks/839-69c2111cfab13ba3.js\",\"264\",\"static/chunks/264-252ca7916fa91819.js\",\"848\",\"static/chunks/app/page/%5Bpage%5D/page-6d9893d73947e310.js\"],\"default\"]\n20:I[4839,[\"839\",\"static/chunks/839-69c2111cfab13ba3.js\",\"264\",\"static/chunks/264-252ca7916fa91819.js\",\"848\",\"static/chunks/app/page/%5Bpage%5D/page-6d9893d73947e310.js\"],\"\"]\n16:T2147,"])</script><script>self.__next_f.push([1,"\n이전에 [스벨트킷으로 블로그 만들어보기](https://wonbeenna.github.io/blog/javaScript/svelte-blog) 에서 svelte kit으로 블로그를 만들었었다.\n\n그때는 svelte 공부겸 블로그를 만들었지만, 업무에서 주로 사용하는 스택인 react와 next.js를 사용하여 블로그를 만들어보려고 한다.\n\n### 시작\n---\n```shell\nnpx create-next-app \u003cproject-name\u003e\n```\n\nnext.js 프로젝트를 생성한다.\n\n### 라우팅\n---\n\u003cimg src=\"/assets/blog/javaScript/route.png\" style={{\n    maxWidth: \"300px\",\n    height: \"auto\"\n}} alt=\"next-blog-route\" /\u003e\n\napp 폴더 구조는 위와 같다.\n\n- root layout을 만들어 Header, Footer를 구성한다.\n- page/[page]는 블로그의 메인이며 페이지네이션을 위해 동적으로 구성하였다.\n- blog/[category]/[slug]는 카테고리별로 블로그를 구분하고, slug를 통해 각 post를 구분한다.\n\n### 블로그 포스트\n\nroot layout을 만들었으니, 이제 블로그 포스트를 만들어보자.\n\nroot 디렉토리에 _posts폴더를 만들고 그 안에 markdown 파일을 만든다.\n\n\n```shell\nnpm install gray-matter\n```\n\ngray-matter는 markdown 파일의 front matter를 파싱하는 라이브러리이다.\n\n```ts\nimport path from 'path';\nimport * as fs from 'fs';\nimport matter from 'gray-matter';\nimport { getSerialize } from '@/utils/sirialize';\n\nexport const POSTS_PATH = path.join(process.cwd(), '_posts');\n\nexport const postFilePaths = fs.readdirSync(POSTS_PATH).filter((path) =\u003e /\\.mdx?$/.test(path));\n\nexport const getAllPost = (\n  category?: string,\n  paging: { page: string; limit?: string } = {\n    page: '1',\n    limit: '10'\n  }\n) =\u003e {\n  let total = postFilePaths.length;\n  let posts = postFilePaths\n    .map((filePath) =\u003e {\n      const source = fs.readFileSync(path.join(POSTS_PATH, filePath));\n      const { content, data } = matter(source);\n      const slug = filePath.replace(/\\.mdx?$/, '');\n\n      return {\n        content,\n        data,\n        slug\n      };\n    })\n    .sort((a, b) =\u003e {\n      return new Date(b.data.date).getTime() - new Date(a.data.date).getTime();\n    });\n\n  if (category) {\n    posts = posts.filter((post) =\u003e post.data.category === category);\n    total = posts.length;\n  }\n\n  if (!paging.page) {\n    paging.page = '1';\n    paging.limit = '10';\n  }\n\n  if (paging.limit === '-1') {\n    return {\n      posts,\n      total\n    };\n  }\n\n  const { page = '1', limit = '10' } = paging;\n  const offset = (+page - 1) * +limit;\n\n  posts = posts.slice(offset, offset + +limit);\n\n  return {\n    posts,\n    total\n  };\n};\n```\n\nfile path를 통해 _posts폴더 내 markdown 파일을 읽어오고, gray-matter를 통해 front matter를 파싱한다.\n\n메인과 blog 페이지를 구성하기위해 getAllPost 함수를 만들었고, 각각의 블로그들은 getPost 함수를 통해 가져온다.\n\n```ts\nexport const getPost = async (slug: string) =\u003e {\n  const allPost = getAllPost(undefined, {\n    page: '1',\n    limit: '-1'\n  });\n\n  const index = allPost.posts.findIndex((post) =\u003e post.slug === slug);\n  const prevPost = allPost.posts[index + 1];\n  const nextPost = allPost.posts[index - 1];\n\n  const source = fs.readFileSync(path.join(POSTS_PATH, `${slug}.mdx`));\n\n  const { content, data } = matter(source);\n  const mdx = await getSerialize(content, data);\n\n  return {\n    mdx,\n    content,\n    data,\n    slug,\n    prevPost: {\n      slug: prevPost?.slug,\n      title: prevPost?.data.title,\n      category: prevPost?.data.category\n    },\n    nextPost: {\n      slug: nextPost?.slug,\n      title: nextPost?.data.title,\n      category: nextPost?.data.category\n    }\n  };\n};\n```\n\n```shell\nnpm i next-mdx-remote\n```\n\nnext-mdx-remote는 mdx 파일을 html로 변환해주는 라이브러리이다.\n\n위 코드에서 getSerialize 함수는 mdx 파일을 html로 변환해주는 함수이다.\n\nhtml로 변환하는데 있어 remark와 rehype를 사용할 수 있다.\n\n```ts\nimport { serialize } from 'next-mdx-remote/serialize';\nimport remarkGfm from 'remark-gfm';\nimport rehypePrism from 'rehype-prism-plus';\n\nexport const getSerialize = async (content: string, data: any) =\u003e {\n  return await serialize(content, {\n    mdxOptions: {\n      remarkPlugins: [remarkGfm],\n      rehypePlugins: [rehypePrism]\n    },\n    scope: data\n  });\n};\n```\n\n```tsx\n\u003cMDXRemote {...source} components={components} /\u003e\n```\n\n위에서 변환된 html을 MDXRemote 컴포넌트를 통해 렌더링한다.\n\n### 카테고리\n---\n\n카테고리 별로 필터하기위해 카테고리도 따로 받아와야 했다.\n각각의 post들을 읽고 중복되지 않은 카테고리들만 가져오는 함수를 만들었다.\n\n```ts\nimport { getAllPost } from '@/utils/getPost';\n\nexport const getCategories = (): {\n  title: string;\n  count: number;\n}[] =\u003e {\n  const posts = getAllPost(undefined, { page: '1', limit: '-1' });\n\n  let uniqueCategories: any = {};\n\n  posts.posts.forEach((post) =\u003e {\n    if (uniqueCategories.hasOwnProperty(post.data.category)) {\n      uniqueCategories[post.data.category].count += 1;\n    } else {\n      uniqueCategories[post.data.category] = {\n        title: post.data.category,\n        count: 1\n      };\n    }\n  });\n\n  return Object.values(uniqueCategories).sort((a, b) =\u003e a.title \u003e b.title);\n};\n\n```\n\n### 페이지\n---\n위에서 구성한 함수들을 페이지에서 사용해보자.\n\n```tsx\nexport const generateStaticParams = async () =\u003e {\n  const posts = getAllPost(undefined, {\n    page: '1',\n    limit: '-1'\n  });\n\n  return Array.from({ length: Math.ceil(posts.total / 10) }, (_, i) =\u003e {\n    return {\n      page: (i + 1).toString()\n    };\n  });\n};\n\nconst Page = ({ params }: { params: { page: string } }) =\u003e {\n  return \u003cPostListContainer page={params.page} /\u003e;\n};\n\nexport default Page;\n```\n\n```tsx\n// blog/[category]/[slug].tsx\nexport const generateStaticParams = async () =\u003e {\n  const posts = getAllPost(undefined, {\n    page: '1',\n    limit: '-1'\n  });\n\n  return posts.posts.map((post) =\u003e {\n    return {\n      slug: post.slug,\n      category: post.data.category\n    };\n  });\n};\n```\n\napp 라우트에서 SSG를 사용하기 위해 generateStaticParams 함수가 필요했다.\nPostListContainer 컴포넌트를 통해 각 page들을 렌더링 하였고, generateStaticParams 함수를 통해 페이지네이션을 위한 params들을 생성하였다.\n\n### SEO\n---\n\nseo를 위해 meta 태그와 sitemap, robots를 생성했다.\n\nnext 13 에서는 간단하게 위 세가지를 구성할 수 있었다.\n\n먼저 sitemap.ts를 app 폴더에 만들고\n\n```ts\nimport { getAllPost } from '@/utils/getPost';\nimport { MetadataRoute } from 'next';\n\nconst defaultUrl = process.env.NEXT_PUBLIC_BASE_URL;\nconst pageRoutes = [`${defaultUrl}`, `${defaultUrl}/blog`, `${defaultUrl}/about`];\n\nexport default function sitemap(): MetadataRoute.Sitemap {\n  const posts = getAllPost(undefined, {\n    page: '1',\n    limit: '-1'\n  });\n\n  const defaultRoutes: MetadataRoute.Sitemap = pageRoutes.map((route) =\u003e {\n    return {\n      url: route,\n      lastModified: new Date().toISOString(),\n      changeFrequency: 'weekly',\n      priority: 1\n    };\n  });\n\n  const postRoutes: MetadataRoute.Sitemap = posts.posts.map((post) =\u003e {\n    return {\n      url: `${defaultUrl}/blog/${post.data.category}/${post.slug}`,\n      lastModified: new Date(post.data.date).toISOString(),\n      changeFrequency: 'weekly',\n      priority: 1\n    };\n  });\n\n  return [...defaultRoutes, ...postRoutes];\n}\n```\n처럼 함수를 만들면 sitemap이 생성된다.\n\nrobots도 마찬가지로 app 폴더에 robots.ts를 만들고\n\n```ts\nimport { MetadataRoute } from 'next';\n\nexport default function robots(): MetadataRoute.Robots {\n  return {\n    rules: {\n      userAgent: '*',\n      allow: '/'\n    },\n    sitemap: 'https://wonbeenna.github.io/sitemap.xml'\n  };\n}\n```\n\n위와 같이 작성하면 된다.\n\nmetadata는 각 페이지에서 generateMetadata 함수를 통해 생성하면 된다.\n\n```ts\nexport const generateMetadata = async ({ params }: { params: { page: string } }) =\u003e {\n  return {\n    title: `Been blog - ${params.page}`,\n    openGraph: {\n      ...defaultOpenGraph,\n      title: `Been blog - ${params.page}`,\n      description: `Been dev-note - ${params.page}`,\n      url: `${process.env.NEXT_PUBLIC_BASE_URL}/page/${params.page}`\n    }\n  };\n};\n```\n\n### 댓글\n---\n\n댓글은 giscus를 사용했다.\n\ngiscus는 github Discussions으로 댓글로 사용할 수 있게 해주는 라이브러리이다.\n\n```shell\nnpm i @giscus/react\n```\n\n[giscus](https://giscus.app/ko)\n\n위 문서에 쉽게 설명되어 있으니 생략!\n\n\n\n\n\n"])</script><script>self.__next_f.push([1,"17:T6ae,\nJSON 웹 토큰(JWT)\n\n일반적으로 **헤더.페이로드.서명** 으로 구성되어 있다.\n\n1.헤더 - 어떤 알고리즘으로 암호화 할것인지\n\n2.데이터 - 전달하려는 정보, 사용자의 id, name 등\n\n3\\. 서명 - 서버가 지정한 secret key로 암호화 시켜 토큰을 변조하기 어렵게 만듬\n\n이 세 부분을 Base64url로 인코딩해 \n\n```\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2dnZWRJbkFzIjoiYWRtaW4iLCJpYXQiOjE0MjI3Nzk2Mzh9.gzSraSYS8EXBxLN_oWnFSRgCzcmJmMjLiuyu5CSpyHI\n```\n\n위와 같은 형태로 파싱해 사용한다.\n\njwt 데이터 부분에서 정보를 가져와 사용할 수 있는데, decoding 해주어야 한다.\n\n```javascript\nexport const decodeJwtResponse = (token: string) =\u003e {\n  let base64Url = token.split('.')[1]\n  let base64 = base64Url?.replace(/-/g, '+')?.replace(/_/g, '/')\n  let jsonPayload = decodeURIComponent(\n    atob(base64)\n      .split('')\n      .map(function (c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)\n      })\n      .join('')\n  )\n\n  return JSON.parse(jsonPayload)\n  let base64Payload = token.split('.')[1]\n\n  let payload = Buffer.from(base64Payload, 'base64')\n  return JSON.parse(payload.toString())\n}\n```\n\natob 함수는 node에서 더이상 지원하지 않아 아래로 수정\n\n```javascript\nexport const decodeJwtResponse = (token: string) =\u003e {\n  let base64Payload = token.split('.')[1]\n\n  let payload = Buffer.from(base64Payload, 'base64')\n\n  return JSON.parse(payload.toString())\n}\n```\n\ntoken을 split해 1번째 데이터에 해당하는 부분을 가져온 다음\n\nnode에서 지원하는 Buffer 객체를 사용해 바이너리로 변환\n\nbase64로 인코딩한 후 JSON으로 파싱한다\n18:Tfb3,"])</script><script>self.__next_f.push([1,"\n얼마전 기업과제를 진행했다. Audio 객체를 이용한 음악 재생이었다.\n\nhttps://developer.mozilla.org/ko/docs/Web/API/Web_Audio_API/Using_Web_Audio_API\n\n## Audio 객체\n웹에서 음악을 재생하기 위해서는 new Audio 객체를 생성하거나, `\u003caudio\u003e` 태그를 사용해 Audio 객체를 가져올 수도 있다.\n\nAudio 객체는 음악을 재생하고, 일시정지하고, 음악의 길이를 구하는 등의 기능을 제공한다.\n\nAudio 객체는 다음과 같이 생성한다.\n\n```jsx\nlet audio = new Audio(url);\n```\n\n```jsx\n\u003caudio src={url} /\u003e;\n```\n\n과제를 제출하고 알게 되었는데, new Audio 객체를 사용하면 화면 밖에서도 audio를 다룰 수 있기때문에 `audio`태그를 사용할 필요가 없었다.\n\n둘중 하나만 사용해 Audio를 다룰 수 있는 객체를 가져오면 된다.\n\n```javascript\nlet audio = document.querySelector('audio');\naudio.play();\naudio.pause();\n```\n\n과제에서는 new Audio를 사용해 구현 하였다.\n```jsx\n  useEffect(() =\u003e {\n    setAudio(new Audio(url));\n}, [url, setAudio]);\n```\n먼저 server에서 받아온 Url을 state에 담아 주었고\n\n```jsx\n  useEffect(() =\u003e {\n    if (audio \u0026\u0026 isPlaying) {\n        audio?.play();\n    }\n}, [audio, isPlaying]);\n```\n\n리스트에서 음악을 선택하면 `isPlaying`이 true가 되고, `audio`가 생성되면 `audio.play()`를 실행한다.\n\n재생과 일시정지도 추가가 되어야 했다.\n\n```jsx\nconst handlePlayButton = () =\u003e {\n    if (audio?.paused) {\n        return audio.play();\n    }\n    return audio?.pause();\n}\n```\n음악이 정지중일땐 play, 음악이 재생중일땐 pause를 실행한다.\n\n---\n\n음악이 재샐중일때 progress bar도 구현이 필요했다.\n\n```jsx\nconst [rangeValue, setRange] = useState\u003cnumber\u003e(0);\nconst [currentTime, setCurrentTime] = useState\u003cstring\u003e('00:00');\nconst [duration, setDuration] = useState\u003cstring\u003e('00:00');\n\n\u003cprogress\n    className=\"progress\"\n    value={Math.floor(rangeValue)}\n    max=\"100\"\n    aria-valuemin={0}\n    aria-valuemax={100}\n    aria-valuenow={Math.floor(rangeValue)}\n    onClick={handleChangeProgressRange}\n/\u003e\n```\n\n`rangeValue`는 progress bar의 value값을 나타내고, `currentTime`는 현재 재생중인 시간을 나타낸다.\n\n`duration`는 음악의 전체 길이를 나타낸다.\n\n재생시간과 음악의 전체 길이가 `00:00`으로 표시되었어야했기 때문에 format함수를 만들었고, eventListener를 통해 재생시간과 음악의 전체 길이를 구했다.\n\n```js\nexport const getMusicTimeFormat = (time = 0) =\u003e {\n  let minutes = Math.floor((time % 3600) / 60)\n    .toString()\n    .padStart(2, '0');\n  let seconds = Math.floor(time % 60)\n    .toString()\n    .padStart(2, '0');\n\n  return minutes + ':' + seconds;\n};\n```\n```jsx\n  useEffect(() =\u003e {\n    audio?.addEventListener('timeupdate', () =\u003e {\n        setDuration(getMusicTimeFormat(audio.duration || 0));\n        setCurrentTime(getMusicTimeFormat(audio.currentTime));\n        setRange((audio?.currentTime / audio?.duration || 0) * 100);\n    });\n}, [audio]);\n````\n\n`timeupdate`이벤트는 음악이 재생중일때마다 발생한다.\n\n```js\n  const handleChangeProgressRange = (e: React.MouseEvent\u003cHTMLProgressElement\u003e) =\u003e {\n    if (audio) {\n        let clickPosition = e.pageX - e.currentTarget.offsetLeft;\n        let clickedValue = (clickPosition * e.currentTarget.max) / e.currentTarget.offsetWidth;\n        audio.currentTime = (parseInt(String(clickedValue), 10) / 100) * audio.duration;\n        setRange(parseInt(String(clickedValue), 10));\n    }\n};\n```\nprogressbar를 클릭했을 때는 해당 위치부터 audio를 재생해야했다.\n`clickPosition`은 progressbar를 클릭한 위치를 나타내고, `clickedValue`는 progressbar의 value값을 나타낸다.\n\n- e.pageX = 브라우저 상의 마우스 클릭 위치\n- e.currentTarget.offsetLeft = progressbar의 x축(왼쪽) 위치\n- e.currentTarget.max = progressbar의 최대값\n- e.currentTarget.offsetWidth = progressbar의 전체 너비\n\n\n"])</script><script>self.__next_f.push([1,"19:Te25,"])</script><script>self.__next_f.push([1,"\n### 디바운싱과 쓰로틀링\n\n\n- 디바운싱: 연속으로 호출되는 함수들 중 가장 마지막 함수(또는 제일 처음)만 호출하도록 하는 것\n- 쓰로틀링: 함수가 연속적으로 실행되는 경우 현재 실행되고 있는 함수가 없는 경우에만 함수를 실행함\n\n예를들어 검색을 요구하는 API에 \"test\"를 검색한다고 가정한 경우, 일반적인 경우에는 t, e, s, t 각 글자를 입력할 때 마다 API가 호출이 된다.\n\n이런 경우 불필요한 요청이 서버에 부담을 줄 수가 있다.\n\n이 때 디바운싱을 사용하게 된다면, 가장 마지막인 글자가 입력되고, 하나의 단어가 완성되었을때 API에 요청을 할 수 있다.\n\n쓰로틀링인 경우에는 t를 입력했을 때 API요청이 발생하고, 이후 일정 시간동안은 아무 응답도 받지 않는다.\n정해진 시간이 모두 지나고난 뒤에 마지막으로 입력된 글자까지 요청이 가게 된다.\n즉 실행 횟수에 제한을 거는 것이다.\n\n### 디바운싱\n```tsx\nimport { useEffect, useState } from 'react'\n\nfunction useDebounce\u003cT\u003e(value: T, delay?: number): T {\n  const [debouncedValue, setDebouncedValue] = useState\u003cT\u003e(value)\n\n  useEffect(() =\u003e {\n    const timer = setTimeout(() =\u003e setDebouncedValue(value), delay || 500)\n\n    return () =\u003e {\n      clearTimeout(timer)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n\nexport default useDebounce\n```\n```js\nimport { ChangeEvent, useEffect, useState } from 'react'\nimport { useDebounce } from 'usehooks-ts'\n\nexport default function Component() {\n  const [value, setValue] = useState\u003cstring\u003e('')\n  const debouncedValue = useDebounce\u003cstring\u003e(value, 500)\n\n  const handleChange = (event: ChangeEvent\u003cHTMLInputElement\u003e) =\u003e {\n    setValue(event.target.value)\n  }\n\n  // Fetch API (optional)\n  useEffect(() =\u003e {\n    // Do fetch here...\n    // Triggers when \"debouncedValue\" changes\n  }, [debouncedValue])\n\n  return (\n    \u003cdiv\u003e\n      \u003cp\u003eValue real-time: {value}\u003c/p\u003e\n      \u003cp\u003eDebounced value: {debouncedValue}\u003c/p\u003e\n\n      \u003cinput type=\"text\" value={value} onChange={handleChange} /\u003e\n    \u003c/div\u003e\n  )\n}\n```\n출처: [react-hook](https://usehooks-ts.com/react-hook/use-debounce)\n\ninput feild에 값이 들어갈 때마다 onChange 이벤트가 트리거되고, hook으로 전달받은 value가 clearTimeout으로 초기화된 useEffect내부 setTimeout의 delay만큼 시간이 지난 후 debouncedValue로 return 된다.\n\n### 쓰로틀링\n```js\nimport { useEffect, useRef, useState } from 'react';\n\nconst useThrottle = (value, limit) =\u003e {\n    const [throttledValue, setThrottledValue] = useState(value);\n    const lastRan = useRef(Date.now());\n\n    useEffect(() =\u003e {\n        const handler = setTimeout(() =\u003e {\n            if (Date.now() - lastRan.current \u003e= limit) {\n                setThrottledValue(value);\n                lastRan.current = Date.now();\n            }\n        }, limit - (Date.now() - lastRan.current));\n\n        return () =\u003e {\n            clearTimeout(handler);\n        };\n    }, [value, limit]);\n\n    return throttledValue;\n};\n\nexport default useThrottle;\n```\n```js\nconst [value, setValue] = useState('');\n{...}\nconst throttleText = useThrottle(value, 1000);\n```\nhook이 실행되면 lastRan과 현재시간을 비교한다.\n\n만약 (Date.now() - lastRan.current) 즉, value가 입력된 시간이 limit보다 크다면 value를 throttledValue로 return하고, lastRan을 현재시간으로 초기화한다.\n\n만약 value가 입력된 시간이 limit보다 작다면 limit - value가 입력된 시간이 시간이 지난 후에 throttledValue로 return한다.\n\n\n\n\n"])</script><script>self.__next_f.push([1,"1a:Tc4f,"])</script><script>self.__next_f.push([1,"\n## GraphQL 사용\n\nApollo client를 사용합니다.\n\nApollo Client는 GraphQL을 사용해 로컬 및 원격 데이터를 모두 관리할 수 있습니다. (상태 관리 라이브러리)\n\n---\n\n### React에 Apollo Client 연결\n```shell\nnpm install @apollo/client graphql\n```\n\nindex.ts 또는 App.ts 에서 작업을 진행합니다.\n```ts\nconst client = new ApolloClient({\n  uri: \"https://~/graphql\",\n  cache: new InMemoryCache(),\n});\n```\n\n다음과 같이 ApolloClient를 초기화 하고 `uri`와 `cache` 인스턴스를 전달합니다.\n\nuri에 서버주소를 작성합니다. endpoint를 따로 지정하지 않았다면 `/graphql`이 됩니다.\n\n사내에서는 `proxy`를 사용하기 때문에 `endpoint`를\n```ts\nconst client = new ApolloClient({\n  uri: '/api/graphql',\n  cache: new InMemoryCache()\n})\n```\n로 작성해주시면 됩니다.\n\n```ts\nfunction App() {\n  return (\n{...}\n        \u003cApolloProvider client={client}\u003e\n            \u003cDefaultRoutes /\u003e\n        \u003c/ApolloProvider\u003e\n{...}\n  )\n}\n```\nreact app에 전역으로 사용하기 위해서는 `ContextApi`를 사용하는 것 처럼 `ApolloProvider`로 앱을 감싸면 됩니다.\n\n---\n\n### 백엔드 데이터 읽기\n이제 `client`는 데이터를 가져올 준비가 되었습니다.\n\n\u003cimg src=\"/assets/blog/javaScript/graphql-2.png\" width=\"49%\" alt=\"post image\"/\u003e\n\u003cimg src=\"/assets/blog/javaScript/graphql-1.png\" width=\"49%\" alt=\"post image\"/\u003e\n\n`playground`에서 정의된 `schema`를 다운로드 받아 프로젝트 `root`에 위치시킵니다.\n\n```ts\n// const client = ...\n\nclient\n  .query({\n    query: gql`\n      query {\n        getAdminOrderProducts {\n          data {\n            id\n            status\n          }\n        }\n      }\n    `\n  })\n  .then((response) =\u003e console.log(response))\n  .catch((error) =\u003e console.log(error))\n```\n\n간단하게 불러올 수 있는 방법입니다. playground에 정의된 query를 요청하면\n타입과 함께 요청한 쿼리들이 response에 담깁니다.\n\n\u003cimg src=\"/assets/blog/javaScript/graphql-3.png\" width=\"49%\" alt=\"post image\"/\u003e\n\u003cimg src=\"/assets/blog/javaScript/graphql-4.png\" width=\"49%\" alt=\"post image\"/\u003e\n\n필드별로 분리하여 요청할 수 있습니다.\n```ts\nimport {gql, useQuery} from '@apollo/client'\n\nconst ORDER_QUERY = gql`\n  query {\n    getAdminOrderProducts {\n      data {\n        id\n        status\n      }\n    }\n  }\n`\n\n  const {loading, error, data} = useQuery(ORDER_QUERY)\n```\n\n`variables`로 `arguments`를 지정할 수 있습니다.\n\n`useQuery`에 옵션 `variables`은 GraphQL 쿼리에 전달하려는 모든 매개변수를 포함하는 객체입니다.\n\n아래와 같이 매개변수를 지정할 수 있습니다.\n```ts\nconst ORDER_QUERY = gql`\n  query getAdminOrderProducts($start: Int!, $perPage: Int!) {\n    getAdminOrderProducts(start: $start, perPage: $perPage) {\n      data {\n        id\n        status\n        product {\n          id\n        }\n        createdAt\n      }\n      total\n    }\n  }\n`\n\n  const {data, loading} = useQuery(ORDER_QUERY, {\n    variables: {\n      start: 0,\n      perPage: 20\n    }\n  })\n```\n\n지금까지는 백엔드의 데이터를 읽는 방법이었습니다.\n\n\n\n\n\n\n\n"])</script><script>self.__next_f.push([1,"1b:Tc85,"])</script><script>self.__next_f.push([1,"\n대기열 → 캐싱 → DNS → 라우팅 → ARP → 초기연결 → 컨텐츠 다운로드 → 브라우저 렌더링\n\n이런 과정을 비캡슐화, 캡슐화 과정을 거침\n\n### 대기열\n\n### 캐싱\n\n- 공유프록시캐시\n- 브라우저 캐시\n\n요청된 값의 결과값을 저장하고 다시 요청하는 기술\n\n브라우저는 IP주소를 찾기 위해 캐시된 DNS 기록을 확인\n\n### DNS 조회\n\n- 브라우저가 IP 주소를 확인하는 단계\n- 도메인 이름과 IP주소를 매핑해주는 서버\n- `www.naver.com` ← 반대로 확인\n- root (.) → .com → naver.com → `www.naver.com`\n\n### 라우팅\n\n- IP주소를 찾아가는 과정\n- 홉 바이 홉 통신\n\n### ARP (**IP 주소를 물리적 네트워크 주소로 대응(bind)시키기 위해 사용되는 프로토콜)**\n\n- ARP를 통해 MAC주소를 찾아 MAC주소를 기반으로 통신\n- 논리적 주소 → 물리적 주소\n- 장치 ↔ 장치 (IP주소를 → MAC주소)\n- 실제 서버에 도달\n\n### 초기 연결\n\n### 콘텐츠 다운로드\n\n- 브라우저는 서버로부터 응답을 수신\n\n### 브라우저 렌더링\n\n- DOM 트리 구축\n- HTML, CSS가 각각 파서로 해석되다가 DOM트리를 구축한다.\n- html, body, div 등 tree형태로\n- 렌더트리와 렌더레이어 생성\n- CSSOM 트리가 생성되고 미리 만들어 놓은 DOM트리 내에 있는 노드와 함께 스타일이 생성\n- 렌더레이어 대상으로 Layout 설정\n- 렌더레이어 대상으로 칠하기 (paint 과정)\n- 레이어 합치기\n- 각각의 레이어들이 합쳐짐\n\n일반적인 모니터는 초당 60FPS, 브라우저도 초당 60FPS로 화면을 그리게 된다.\n\n여기서 브라우저가 60FPS 아래로 그리게 된다면 쟁크 현상이 발생함.\n\n\u003cimg src=\"/assets/blog/javaScript/web-optimization6.png\" width=\"100%\" alt=\"web-optimization\"/\u003e\n\n1. DOM + CSSOM\n\n\u003cimg src=\"/assets/blog/javaScript/web-optimization7.png\" width=\"100%\" alt=\"web-optimization\"/\u003e\n\n1. Render Tree\n\n\u003cimg src=\"/assets/blog/javaScript/web-optimization8.png\" width=\"100%\" alt=\"web-optimization\"/\u003e\n\n위 DOM과 CSSOM을 조합해 RenderTree를 만들어 낸다.\n\n1. Layout\n\n\u003cimg src=\"/assets/blog/javaScript/web-optimization9.png\" width=\"100%\" alt=\"web-optimization\"/\u003e\n\n위치나 크기를 계산해 화면에 레이아웃을 그린다.\n\n1. Paint\n\n이렇게 그려진 레이아웃위에 색을 채워넣음\n\n1. Composite\n\n\u003cimg src=\"/assets/blog/javaScript/web-optimization10.png\" width=\"100%\" height=\"350\" alt=\"web-optimization\"/\u003e\n\n각 레이어들을 합성하는 과정\n\n이 전체의 과정을 Critical Rendering Path, Pixel Pipeline 이라고 부른다.\n\n이 완성된 상태에서 변화가 생긴다면 처음으로 돌아가 다시 이 전체의 과정을 거치게 된다.\n\n- width, height가 변경되면, **1 -\u003e 2 -\u003e 3 -\u003e 4 -\u003e 5** 모두 실행되게 된다 **(Reflow)**\n- 크기나 위치가 아니라 color, background-color(색깔)이 변경됐을땐 **1 -\u003e 2 -\u003e 4 -\u003e 5** **(Repaint)**\n- transform, opacity 등(GPU가 관여하는 속성) 변경일 때 **1 -\u003e 2 -\u003e 5**\n\n따라서 transform, opacity 등(GPU가 관여하는 속성)을 사용하는게 가장 빠르고 끊김없이 보여줄 수 있다.\n"])</script><script>self.__next_f.push([1,"1c:T1a75,"])</script><script>self.__next_f.push([1,"\n인증방식에는 대표적으로 두가지가 있다.\n\n제일 많이 사용하는 세션 방식과 토큰 방식\n\n- 인증 -\u003e 유저가 누구인지 확인\n- 인가 -\u003e 유저의 요청에 대한 권한을 확인하고 허가\n\n---\n\n### 세션방식\n- 로그인 요청 -\u003e 서버에서 세션 key-value로 구분해 정보를 저장\n- 서버 -\u003e 클라이언트 측으로 http header cookie에 세션 id를 담아 전달\n- 클라이언트 쪽에서 response값으로 cookie에 저장된 세션을 확인할 수 있는데, 브라우저에 저장\n\n세션 방식은 HTTP요청이 노출되어도 세션 자체에는 의미있는 값이 없기 때문에 보안상 유리할 수 있다.\n\n각 사용자마다 고유한 id를 갖고 있기 때문에 매번 회원정보를 확인할 필요가 없다.\n\n서버에 따로 세션 저장소를 두기 때문에 사용자가 많아지면 서버에 부담이 간다.\n\n각 브라우저들은 보안상의 이슈로 서버와 프론트간의 도메인이 같아야 쿠키가 전달된다.\n\n- 프론트 측에서는 Axios 사용시 ```withCredentials: true```설정을 통해 서로 다른 도메인간의 요청에도 credential 정보를 받을 것인지 설정해야 한다.\n\n- 서버 측에서는 응답 헤더의 Access-Control-Allow-Credentials 항목을 true로 설정해야 하고,\n응답 헤더의 Access-Control-Allow-Origin의 값을 와일드 카드('*') 제외하고 설정 되어야 한다.\n\n---\n\n우선 localhost와 서버상의 도메인이 달라 proxy 설정을 해줬다.\n\n```ts\n// pages/api/[...path].ts\nimport type { NextApiRequest, NextApiResponse } from \"next\";\nimport httpProxyMiddleware from \"next-http-proxy-middleware\";\n\nexport const config = {\n  api: {\n    externalResolver: true\n  },\n}\n\nexport default (req: NextApiRequest, res: NextApiResponse) =\u003e {\n    httpProxyMiddleware(req, res, {\n        target: process.env.NEXT_PUBLIC_API_URL,\n        changeOrigin: true,\n        pathRewrite: [\n          {\n            patternStr: \"^/api/\",\n            replaceStr: \"/\",\n          },\n        ],\n        cookieDomainRewrite: {\n          \"*\": \"localhost\",\n        },\n      })\n    };\n```\n\n```ts\n/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  swcMinify: true,\n  reactStrictMode: true,\n  compiler: {\n    styledComponents: true,\n    removeConsole: process.env.NODE_ENV === \"production\",\n  },\n  async rewrites() {\n    return process.env.NODE_ENV === \"production\"\n      ? [\n          {\n            source: \"/api/:path*\",\n            destination: `${process.env.NEXT_PUBLIC_API_URL}/:path*`,\n          },\n        ]\n      : [];\n  },\n{...}\n};\n```\n---\n위 처럼 설정해 주니 서버에서 보낸 cookie가 localhost 브라우저에 잘 들어왔다.\n\n여기서 고민했던 부분이 csr환경이 아닌 next의 ssr환경인 프론트측 서버단에서는 유저인증을 어떻게 확인할 것인가 였다.\n\n우선 로그인 상태와 비로그인 상태에서 접근불가능한 페이지 접근시 리다이렉트를 시키는 방법으로 진행했다.\n\nNextjs middleware는 root폴더에 middleware.ts 파일을 만들어 주면 페이지 라우팅 되기 전에 middleware가 자동으로 실행된다.\n\nNextjs에서 지원하는 middleware는 들어오는 요청에 따라서 req, res, header를 다시 작성하거나 리디렉션 등을 수정하거나 재작성할 수 있다.\n```ts\nimport type { NextRequest } from \"next/server\";\nimport { fetchAuth, inValidateAuth, validateAuth } from \"@/lib/validateUser\";\n\nconst validatedUrl = [\n  \"/users/sign-in\",\n  \"/users/sign-up/normal\",\n  \"/users/sign-up/social\",\n  \"/users/sign-up/vendor\",\n  \"/users/password/reset\",\n];\n\nconst inValidateUrl = [\"/users/my-page\"];\n\nexport async function middleware(req: NextRequest) {\n  const url = req.nextUrl;\n\n  if (validatedUrl.includes(url.pathname)) {\n    return await validateAuth(req);\n  }\n\n  if (inValidateUrl.includes(url.pathname)) {\n    return await inValidateAuth(req);\n  }\n\n  return await fetchAuth(req);\n}\n\nexport const config = {\n  matcher: [\"/((?!api|_next/static|_next/image|favicon.ico|assets).*)\"],\n};\n```\n```ts\nimport { NextRequest, NextResponse } from \"next/server\";\n\nexport const validateUser = (req: NextRequest) =\u003e {\n  return fetch(\"url\", {\n    method: \"get\",\n    mode: \"cors\",\n    credentials: \"same-origin\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      cookie: `${req.headers.get(\"cookie\")}`,\n    },\n  });\n};\n\n{...}\n\nexport const fetchAuth = async (req: NextRequest) =\u003e {\n    try {\n        const res = NextResponse.next();\n\n        const response = await validateUser(req);\n        const data = await response.json();\n\n        if (response.ok) {\n            res.cookies.set(\"user\", JSON.stringify(data));\n            return res;\n        }\n\n        if (!response.ok) {\n            res.cookies.delete(\"user\");\n            res.cookies.delete(\"user.sid\");\n            return res;\n        }\n    } catch (e) {\n        throw new Error(\"Validate Error\");\n    }\n};\n```\n\n처음에 이런식으로 미들웨어를 구현했다. matcher로 페이지단만 확인했고, 페이지 라우팅시 유저 인증에 성공하면 cookie를 통해 유저정보와 세션을 전달했다.\n\n또 인증성공시 접근 x, 비인증시 접근 x 한 url을 확인해 리다이렉트 시키도록 했다.\n\n처음 해봤던 작업이었고, 제대로 구현한지 확신이 들지 않아 코드리뷰를 요청했다.\n\nmiddleware를 사용하지 않고 hocs를 사용해 auth를 호출하고, axios config에 headers를 전달하는 방법으로 알려주셨다.\n\n```ts\nimport React from \"react\";\nimport { GetServerSideProps, GetServerSidePropsContext } from \"next\";\nimport { getAuth } from \"@/models/auth\";\nimport merge from \"lodash/merge\";\n\nconst validatedUrl = [\n  \"/users/sign-in\",\n  \"/users/sign-up/normal\",\n  \"/users/sign-up/social\",\n  \"/users/sign-up/vendor\",\n  \"/users/password/reset\",\n];\n\nconst inValidateUrl = [\n  \"/users/my-page\",\n  \"/users/my-page/profile\",\n  \"/users/my-page/review\",\n];\n\nexport default function withAuth(getServerSideProps?: GetServerSideProps) {\n  return async function (context: GetServerSidePropsContext) {\n    const url = context.req.url as string;\n    let user = null;\n    try {\n      const res = await getAuth({ headers: context.req.headers });\n      user = res.data;\n    } catch (e) {}\n    if (inValidateUrl.includes(url) \u0026\u0026 !user) {\n      return {\n        redirect: {\n          permanent: false,\n          destination: \"/users/sign-in\",\n        },\n      };\n    }\n    {...}\n    const ret = await getServerSideProps?.(context);\n    return merge(ret, { props: { user } });\n  };\n}\n```\n\nmiddleware는 nextjs에서 서버도 같이 구성해 사용하면 좋을거라고 조언을 주셨다.\n\n```ts\n// page/*\n{...}\n\nexport const getServerSideProps = withAuth();\n\n{...}\n```\n"])</script><script>self.__next_f.push([1,"1d:Tdf0,"])</script><script>self.__next_f.push([1,"\n예전에 하다가 중단된 프로젝트를 다시 시작해 보려고 새 레포로 마이그레이션 하는 과정에서\n\n패키지 버전도 올리고, 다른 기술을 찾아보다가 예전부터 써보고싶었던 tailwindcss를 써보기로 했다.\n\n```shell\nnpm install -D tailwindcss postcss autoprefixer\nnpx tailwindcss init -p\n```\n테일윈드 설치 init을 하게 되면 `postcss.config.js` 파일과 `tailwind.config.js` 파일이 생성된다\n\n\n```js\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    \"./app/**/*.{js,ts,jsx,tsx}\",\n    \"./pages/**/*.{js,ts,jsx,tsx}\",\n    \"./components/**/*.{js,ts,jsx,tsx}\",\n\n    // Or if using `src` directory:\n    \"./src/**/*.{js,ts,jsx,tsx}\",\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n}\n```\n나는 src 폴더를 사용하기 때문에 `\"./src/**/*.{js,ts,jsx,tsx}\"` 경로로 사용\n\n\n```css\n// globals.css\n@tailwind base; // 테일윈드의 기본 스타일\n@tailwind components; // 모든 클래스 요소\n@tailwind utilities; // 유틸리티\n```\n\n전역으로 설정\n\n---\n\n구글에서 지원하는 폰트를 사용해 tailwind에 적용\n\n```js\n// Layout\nconst roboto = Roboto({\n    subsets: [\"latin\"],\n    weight: [\"400\", \"500\", \"700\"],\n    variable: \"--font-roboto\"\n});\n\nconst Layout = ({ children }: { children: React.ReactNode }) =\u003e {\n    return (\n        \u003cmain className={`max-w-3xl m-auto p-3 text-black-500 ${roboto.className} font-sans`}\u003e\n            \u003cHeader /\u003e\n            {children}\n        \u003c/main\u003e\n    );\n};\n\nexport default Layout;\n```\n\n```js\n// tailwind.config.js\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n    content: [\"./src/**/*.{js,ts,jsx,tsx}\"],\n    theme: {\n        extend: {\n            colors: {\n                primary: {\n                    50: \"#f4f6fa\",\n                    100: \"#e8edf5\",\n                    200: \"#c6d1e5\",\n                    300: \"#a4b6d5\",\n                    400: \"#5f7fb6\",\n                    500: \"#1b4897\",\n                    600: \"#184188\",\n                    700: \"#143671\",\n                    800: \"#102b5b\",\n                    900: \"#0d234a\"\n                },\n                secondary: {\n                    50: \"#fefaf5\",\n                    100: \"#fcf5eb\",\n                    200: \"#f9e6cd\",\n                    300: \"#f5d7af\",\n                    400: \"#edb872\",\n                    500: \"#e59a36\",\n                    600: \"#ce8b31\",\n                    700: \"#ac7429\",\n                    800: \"#895c20\",\n                    900: \"#704b1a\"\n                },\n                black: {\n                    50: \"#f5f5f5\",\n                    100: \"#eaebeb\",\n                    200: \"#cbcccd\",\n                    300: \"#acaeaf\",\n                    400: \"#6d7174\",\n                    500: \"#2f3438\",\n                    600: \"#2a2f32\",\n                    700: \"#23272a\",\n                    800: \"#1c1f22\",\n                    900: \"#17191b\"\n                },\n                white: \"#ffffff\"\n            },\n            fontFamily: {\n                sans: [\"var(--font-roboto)\"]\n            }\n        }\n    }\n};\n\n```\n\n테일윈드 자체에 기본 색상이 지정된 것도 있었고,\n\n이런식으로 색상도 지정하면 자동으로 적용되는것 같다.\n\n기본색상을 완전히 바꾸려면 `theme.colors`서 설정이 가능하다고 한다.\n\n---\n\n- 조건부는 템플릿 리터럴을 사용\n\n- 반응형\n```js\n\u003cimg class=\"w-16 md:w-32 lg:w-48\" src=\"...\"\u003e\n```\n\n- hover나 focus 등\n```js\n\u003cbutton class=\"dark:md:hover:bg-fuchsia-600 ...\"\u003e\n  Save changes\n\u003c/button\u003e\n```\n"])</script><script>self.__next_f.push([1,"1e:T7a1,\n자바스크립트의 함수는 호출될 때, 매개변수 이외에 `arguments` 객체와 `this`를 암묵적으로 전달 받는다.\n\n- Java의 `this` 는 인스턴스 자신을 가르키는 참조변수\n- this가 객체 자신에 대한 참조 값을 가지고 있다.\n\n하지만 자바스크립트의 `this` 는 함수 호출 방식에 따라 `this` 에 바인딩 되는 객체가 달라진다\n\n---\n\n### 일반 함수 호출\n\n\u003cimg src=\"/assets/blog/javaScript/this-1.png\" width=\"100%\" alt=\"post image\"/\u003e\n\n- this → 전역 (window) 객체에 바인딩 됨\n- 기본적으로 `this` 는 전역객체에 바인딩 되고, 내부 함수의 경우에도 전역객체에 바인딩 됨\n\n\u003cimg src=\"/assets/blog/javaScript/this-2.png\" width=\"100%\" alt=\"post image\"/\u003e\n\n- **내부함수는 일반 함수, 메소드, 콜백함수 어디에서 선언되었든 관게없이 this는 전역객체를 바인딩한다.**\n\n---\n\n### 객체 메소드 호출\n\n\u003cimg src=\"/assets/blog/javaScript/this-3.png\" width=\"100%\" alt=\"post image\"/\u003e\n\n- 해당 메소드의 객체에 바인딩 됨\n\n\u003cimg src=\"/assets/blog/javaScript/this-4.png\" width=\"100%\" alt=\"post image\"/\u003e\n\n- 프로토타입 객체도 메소드를 가질 수 있다.\n\n프로토 타입 방식이란 자바스크립트에서 객체를 상속하기 위해 사용된다 (템플릿 같은 것)\n\n---\n\n### 생성자 함수 호출\n\n- 생성자 함수란 객체를 생성하는 역할을 함\n- **기존 함수에 new 연산자를 붙여서 호출하면 해당 함수는 생성자 함수로 동작**\n\n\u003cimg src=\"/assets/blog/javaScript/this-5.png\" width=\"100%\" alt=\"post image\"/\u003e\n\n1. 빈 객체 생성 및 this 바인딩 → 2. this를 통한 프로퍼티 생성 → 3. 생성된 객체 반환\n\n---\n\n### apply/call/bind 호출\n\n- this 객체에 명시적으로 바인딩 하는 방법\n\n---\n\n일반 함수\n\n- 일반 함수 → 화살표 함수\n- 생성자 함수 → class\n- 객체 메서드 → 객체 메서드 축약형\n1f:T1aed,"])</script><script>self.__next_f.push([1,"\n```shell\nnpm create svelte@latest my-app\ncd my-app\nnpm install\nnpm run dev\n```\n\nSSG 정적 페이지를 구성하는 어댑터\n```shell\nnpm i -D @sveltejs/adapter-static\n```\n---\nsvelte.config.js\n```js\nimport adapter from '@sveltejs/adapter-static';\n\nexport default {\n  kit: {\n    adapter: adapter()\n  }\n};\n```\n---\nsrc/routes/+layout.js\n```js\n// This can be false if you're using a fallback (i.e. SPA mode)\nexport const prerender = true;\n```\n---\n\n### 레이아웃 구성\n\n```js\n\u003cscript\u003e\n\timport Header from '$lib/components/Layout/Header.svelte';\n\timport Footer from '$lib/components/Layout/Footer.svelte';\n\n\texport let data;\n\u003c/script\u003e\n\n\u003cHeader /\u003e\n    \u003cmain\u003e\n\t\t\u003cslot /\u003e\n    \u003c/main\u003e\n\u003cFooter /\u003e\n```\nslot에 스벨트 페이지들이 렌더되게 된다.\n\n스벨트킷은 넥스트와 비슷하게 routes에서 라우팅이 된다.\n\n---\n\n### 데이터 가져오기\n\nsrc/routes/+page.svelte\n```js\n\u003cscript\u003e\n\timport Pagination from '$lib/components/Posts/Pagination.svelte';\n\timport '$lib/styles/_main.scss';\n\timport PostList from '$lib/components/Posts/PostList.svelte';\n\timport Category from '$lib/components/Posts/Category.svelte';\n\timport { MetaTags } from 'svelte-meta-tags';\n\timport { seoMeta, seoOg } from '$lib/config';\n\texport let data;\n\u003c/script\u003e\n\n\u003cMetaTags {...seoMeta} openGraph={{ ...seoOg }} /\u003e\n\n\u003ch1\u003eBlog\u003c/h1\u003e\n\n\u003cCategory categories={data.categories} /\u003e\n\n\u003cPostList posts={data} /\u003e\n\n\u003cPagination currentPage={1} totalPosts={data.total} /\u003e\n\n```\n+page.js는 페이지와 연결된 로드 함수이며, 데이터를 로드한 다음 페이지가 로드된 데이터를 넘겨 받아 렌더링한다.\nSSR, CSR 모두 렌더링 할 수 있다.\n\n+page.server.js 는 항상 서버측에서 로드가 실행된다.\n\n또 src/routes/api 는 독립적인 API 경로이며 페이지와 연결되지 않는다.\n\nsrc/routes/+page.server.js\n```js\nimport { postsPerPage } from '$lib/config';\nimport fetchPosts from '$lib/utils/fetchPosts';\n\nexport const load = async ({ fetch }) =\u003e {\n\tconst options = {\n\t\tlimit: postsPerPage\n\t};\n\tconst { posts } = await fetchPosts(options);\n\n\treturn { posts, total, categories };\n};\n\n```\n\nsrc/routes/api 에서 만든 fetchPosts 함수를 사용해\n\n페이지 진입시 5개의 포스트를 먼저 가져왔다.\n\n---\n\nsrc/lib/_posts에 각 게시글인 마크다운 파일들을 만들었다.\n```js\nimport { postsPerPage } from '$lib/config';\n\nconst fetchPosts = async () =\u003e {\n\tconst posts = await Promise.all(\n\t\tObject.entries(import.meta.glob('/src/lib/_posts/**/*.md')).map(async ([path, resolver]) =\u003e {\n\t\t\tconst { metadata } = await resolver();\n\t\t\tconst slug = path.split('/').pop()?.slice(0, -3);\n\t\t\treturn { ...metadata, slug };\n\t\t})\n\t);\n\n\tsortedPosts = sortedPosts.map((post) =\u003e ({\n\t\tslug: post.slug,\n\t\ttitle: post.title,\n\t\tdescription: post.description,\n\t\tcategory: post.category,\n\t\ttitleImage: post.titleImage,\n\t\tdate: new Intl.DateTimeFormat('ko-KR').format(new Date(post.date))\n\t}));\n\n\treturn {\n\t\tposts: sortedPosts\n\t};\n};\n\nexport default fetchPosts;\n```\n\n마크다운 파일들을 가져오는 함수\n\n```markdown\n---\ntitle: 스벨트킷으로 블로그 만들기\ndate: 2023-01-30\ndescription: 스벨트킷으로 블로그 만든 과정을 정리\ncategory: javaScript\ntitleImage: /postIcon/svelte-icon.webp\n---\n```\n\n\n위에 작성된 title, date, description... 들이 metadata가 된다.\n\n---\n\n```js\nimport { error } from '@sveltejs/kit';\n\nexport const load = async ({ params }) =\u003e {\n\ttry {\n\t\tconst post = await import(`../../../../lib/_posts/${params.category}/${params.post}.md`);\n\n\t\treturn {\n\t\t\tPostContent: post.default.render().html,\n\t\t\tmeta: {\n\t\t\t\t...post.metadata,\n\t\t\t\tdate: new Intl.DateTimeFormat('ko-KR').format(new Date(post.metadata.date)),\n\t\t\t\tslug: params.post\n\t\t\t}\n\t\t};\n\t} catch (err) {\n\t\tthrow error(404, err);\n\t}\n};\n\n```\nsrc/routes/blog/[category]/[post] 진입시 load 함수의 context.params를 통해 해당 게시글을 가져온다.\n\n---\n\n### sitemap, rss 만들기\n\nsrc/sitemap.xml/+server.ts\n\n```js\nimport fetchPosts from '$lib/utils/fetchPosts';\n\nexport const prerender = true;\n\nexport const GET = async () =\u003e {\n\tconst { posts } = await fetchPosts({ limit: -1 });\n\tconst links = posts.map(\n\t\t(p) =\u003e `\n    \u003curl\u003e\n      \u003cloc\u003ehttps://wonbeenna.github.io/blog/${p.category}/${p.slug}\u003c/loc\u003e\n      \u003clastmod\u003e${new Date(p.date).toISOString()}\u003c/lastmod\u003e\n      \u003cpriority\u003e1.0\u003c/priority\u003e\n    \u003c/url\u003e\n  `\n\t);\n\tconst xml = `\n    \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n    \u003curlset\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:schemaLocation=\"http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd\"\n      xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n      xmlns:image=\"http://www.google.com/schemas/sitemap-image/1.1\"\n      xmlns:video=\"http://www.google.com/schemas/sitemap-video/1.1\"\n      xmlns:news=\"http://www.google.com/schemas/sitemap-news/0.9\"\n      xmlns:mobile=\"http://www.google.com/schemas/sitemap-mobile/1.0\"\n      xmlns:pagemap=\"http://www.google.com/schemas/sitemap-pagemap/1.0\"\n      xmlns:xhtml=\"http://www.w3.org/1999/xhtml\"\n    \u003e\n        \u003curl\u003e\n            \u003cloc\u003ehttps://wonbeenna.github.io/\u003c/loc\u003e\n            \u003cpriority\u003e1.0\u003c/priority\u003e\n        \u003c/url\u003e\n\n        \u003curl\u003e\n            \u003cloc\u003ehttps://wonbeenna.github.io/about\u003c/loc\u003e\n            \u003cpriority\u003e1.0\u003c/priority\u003e\n        \u003c/url\u003e\n\n    ${links.join('')}\n    \u003c/urlset\u003e\n  `.trim();\n\treturn new Response(xml, { headers: { 'Content-Type': 'text/xml; charset=utf-8' } });\n};\n```\n\nGET 메소드를 사용해 서버에서 빌드시 sitemap.xml을 생성\n\nrss도 위와 동일하다.\n\n---\n\n### 마치며\n\n최근에 스벨트를 공부해보는 기회가있어, 스벨트킷을 사용해 간단한 블로그를 만들어 봤다.\n\n아직 깊게 사용해보진 못했지만, 먼저 리액트와 비교했을 때 코드량이 많이 줄어든 느낌이다.\n\n- 프레임워크는 코드량이 적을 수록 속도가 빠르다고 들었다.\n\n- 순수한 native가 가장 좋다.\n\n- 아무리 좋은 프레임워크라도 vanilla js를 따라갈 수는 없다.\n\n그런 면에서 virtual DOM을 사용하지 않는 스벨트가 가장 빠를 것이다. 하지만 최적화는 개발자의 몫..\n\n- 스벨트는 런타임이 아닌 컴파일러에 가깝기 때문에 실제 실행 가능한 vanilla js를 만들어 준다.\n\n리액트였으면 useState니 뭐니~ 상태 관리니~ 했을 것 같은데 스벨트는 변수 하나만 선언하면 가능했다.\n\n- 리액트에 hook, jsx, context, use함수 등 규칙들이 필요없었고, 오로지 html, css, js로 개발할 수 있다.\n\n요즘 많이 핫하고 뜨는 프레임워크라고 해서 정보들이 많을줄 알았는데 생각보다 더 정보가 없었다.\n\n구글링을 해도 스벨트 관련된 정보들이 많진 않았다. 거의 공식블로그를 많이 참고했다.\n\n그래도 앞으론 리액트를 더 공부 할 것이다. 먹고 살려면 ㅎㅎ\n\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"section\",null,{\"className\":\"flex flex-col-reverse md:relative md:flex-row\",\"children\":[[\"$\",\"$L15\",null,{\"posts\":{\"posts\":[{\"content\":\"$16\",\"data\":{\"title\":\"Next.js 블로그 만들기\",\"date\":\"$D2023-10-09T00:00:00.000Z\",\"description\":\"Next.js로 블로그 만들기\",\"category\":\"javaScript\",\"titleImage\":\"/assets/postIcon/Nextjs.svg\"},\"slug\":\"next-blog\"},{\"content\":\"$17\",\"data\":{\"title\":\"jwt 토큰 decode 하기\",\"date\":\"$D2023-08-31T00:00:00.000Z\",\"description\":\"jwt 토큰 decode 함수\",\"category\":\"javaScript\",\"titleImage\":\"/assets/postIcon/javascript.png\"},\"slug\":\"jwt-decode\"},{\"content\":\"$18\",\"data\":{\"title\":\"Audio객체를 이용한 음악 재생\",\"date\":\"$D2023-05-27T00:00:00.000Z\",\"description\":\"Audio객체를 사용한 기업 과제 구현\",\"category\":\"javaScript\",\"titleImage\":\"/assets/postIcon/logo192.png\"},\"slug\":\"audio\"},{\"content\":\"$19\",\"data\":{\"title\":\"디바운싱과 쓰로틀링\",\"date\":\"$D2023-05-13T00:00:00.000Z\",\"description\":\"디바운싱과 쓰로틀링의 차이를 구분하고 hook으로 구현\",\"category\":\"javaScript\",\"titleImage\":\"/assets/postIcon/javascript.png\"},\"slug\":\"debouce-throttle\"},{\"content\":\"$1a\",\"data\":{\"title\":\"GraphQl 써보기(1)\",\"date\":\"$D2023-04-29T00:00:00.000Z\",\"description\":\"GraphQl, Apollo Client를 사용\",\"category\":\"javaScript\",\"titleImage\":\"/assets/postIcon/graphql.svg\"},\"slug\":\"graphql-1\"},{\"content\":\"$1b\",\"data\":{\"title\":\"브라우저에 url을 검색하면?\",\"date\":\"$D2023-02-25T00:00:00.000Z\",\"description\":\"사내 스터디\",\"category\":\"study\",\"titleImage\":\"/assets/postIcon/javascript.png\"},\"slug\":\"browser\"},{\"content\":\"$1c\",\"data\":{\"title\":\"Next.js middleware와 getServerSideProps\",\"date\":\"$D2023-02-22T00:00:00.000Z\",\"description\":\"세션방식의 로그인 인증, middleware와 getServerSideProps를 사용해 구현한 기록\",\"category\":\"javaScript\",\"titleImage\":\"/assets/postIcon/Nextjs.svg\"},\"slug\":\"next-middleware\"},{\"content\":\"$1d\",\"data\":{\"title\":\"Nextjs에서 tailwind 써보기\",\"date\":\"$D2023-02-18T00:00:00.000Z\",\"description\":\"공식문서 보면서 tailwind 써보기\",\"category\":\"javaScript\",\"titleImage\":\"/assets/postIcon/tailwind-css-icon.png\"},\"slug\":\"tailwindcss\"},{\"content\":\"$1e\",\"data\":{\"title\":\"JavaScript this\",\"date\":\"$D2023-02-02T00:00:00.000Z\",\"description\":\"사내 스터디 this\",\"category\":\"study\",\"titleImage\":\"/assets/postIcon/javascript.png\"},\"slug\":\"this\"},{\"content\":\"$1f\",\"data\":{\"title\":\"스벨트킷으로 블로그 만들어보기\",\"date\":\"$D2023-01-30T00:00:00.000Z\",\"description\":\"스벨트킷으로 블로그 만든 과정을 정리\",\"category\":\"javaScript\",\"titleImage\":\"/assets/postIcon/svelte-icon.webp\"},\"slug\":\"svelte-blog\"}],\"total\":40},\"page\":\"2\",\"category\":\"$undefined\"}],[\"$\",\"ul\",null,{\"className\":\"relative top-0 flex h-fit min-w-fit flex-row flex-wrap gap-[20px] py-[20px] pl-0 md:sticky md:top-[100px] md:flex-col md:flex-nowrap md:py-0 md:pl-[30px]\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"hidden text-[18px] font-bold md:inline\",\"children\":\"Category\"}],[[\"$\",\"li\",\"javaScript\",{\"children\":[\"$\",\"$L20\",null,{\"className\":\"text-gray700\",\"href\":\"/blog/javaScript\",\"children\":\"javaScript (37)\"}]}],[\"$\",\"li\",\"study\",{\"children\":[\"$\",\"$L20\",null,{\"className\":\"text-gray700\",\"href\":\"/blog/study\",\"children\":\"study (2)\"}]}],[\"$\",\"li\",\"til\",{\"children\":[\"$\",\"$L20\",null,{\"className\":\"text-gray700\",\"href\":\"/blog/til\",\"children\":\"til (1)\"}]}]]]}]]}]\n"])</script><script>self.__next_f.push([1,"13:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Been blog - 2\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Been dev-note\"}],[\"$\",\"meta\",\"3\",{\"name\":\"google-site-verification\",\"content\":\"BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U\"}],[\"$\",\"meta\",\"4\",{\"name\":\"naver-site-verification\",\"content\":\"58945b2bbe2fe86252fa8c7b204b40f6019920e9\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:title\",\"content\":\"Been blog - 2\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:description\",\"content\":\"Been dev-note - 2\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:url\",\"content\":\"https://wonbeenna.github.io/page/2\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:site_name\",\"content\":\"Been blog\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:locale\",\"content\":\"ko_KR\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:image\",\"content\":\"https://wonbeenna.github.io/favicon.png\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image:width\",\"content\":\"800\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image:height\",\"content\":\"600\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image:alt\",\"content\":\"Been blog\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:title\",\"content\":\"Been blog - 2\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:description\",\"content\":\"Been dev-note - 2\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image\",\"content\":\"https://wonbeenna.github.io/favicon.png\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:image:width\",\"content\":\"800\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image:height\",\"content\":\"600\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:image:alt\",\"content\":\"Been blog\"}],[\"$\",\"link\",\"22\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"192x192\"}],[\"$\",\"link\",\"23\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"sizes\":\"any\"}],[\"$\",\"link\",\"24\",{\"rel\":\"icon\",\"href\":\"/favicon.png\",\"sizes\":\"32x32\",\"type\":\"image/png\"}],[\"$\",\"link\",\"25\",{\"rel\":\"apple-touch-icon\",\"href\":\"/favicon.png\",\"sizes\":\"32x32\",\"type\":\"image/png\"}]]\n"])</script><script>self.__next_f.push([1,"f:null\n"])</script></body></html>