1:HL["/_next/static/media/0e4fe491bf84089c-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
2:HL["/_next/static/media/627622453ef56b0d-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
3:HL["/_next/static/media/7d8c9b0ca4a64a5a-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
4:HL["/_next/static/media/8db47a8bf03b7d2f-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
5:HL["/_next/static/media/934c4b7cb736f2a3-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
6:HL["/_next/static/css/0da05791a264d82c.css","style"]
0:["O_ycz02b-_o_hgK9R6Le5",[[["",{"children":["blog",{"children":[["category","javaScript","d"],{"children":[["slug","next-middleware","d"],{"children":["__PAGE__?{\"category\":\"javaScript\",\"slug\":\"next-middleware\"}",{}]}]}]}]},"$undefined","$undefined",true],"$L7",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/0da05791a264d82c.css","precedence":"next"}]],"$L8"]]]]
9:HL["/_next/static/css/d2ca7d8f29c2051c.css","style"]
a:I{"id":4244,"chunks":["964:static/chunks/964-25e165a2fc7e6293.js","724:static/chunks/724-31617d2d81601bd9.js","185:static/chunks/app/layout-5fa6eb5e3953020f.js"],"name":"","async":false}
b:I{"id":4724,"chunks":["964:static/chunks/964-25e165a2fc7e6293.js","724:static/chunks/724-31617d2d81601bd9.js","254:static/chunks/app/blog/[category]/page-7e34afc005822bdb.js"],"name":"","async":false}
c:I{"id":6964,"chunks":["964:static/chunks/964-25e165a2fc7e6293.js","724:static/chunks/724-31617d2d81601bd9.js","254:static/chunks/app/blog/[category]/page-7e34afc005822bdb.js"],"name":"Image","async":false}
d:I{"id":1443,"chunks":["272:static/chunks/webpack-7f8e37c778ddb15e.js","971:static/chunks/fd9d1056-aa1b7ad4013ab4d6.js","864:static/chunks/864-63b4fa4ac0454e1a.js"],"name":"","async":false}
e:I{"id":8639,"chunks":["272:static/chunks/webpack-7f8e37c778ddb15e.js","971:static/chunks/fd9d1056-aa1b7ad4013ab4d6.js","864:static/chunks/864-63b4fa4ac0454e1a.js"],"name":"","async":false}
7:[null,["$","html",null,{"lang":"ko","children":[null,["$","$La",null,{"src":"https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN"}],["$","$La",null,{"id":"google-analytics","children":"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n \n          gtag('config', 'G-LFDRQZPCBN');\n        "}],["$","body",null,{"suppressHydrationWarning":true,"className":"__className_471caf","children":[["$","header",null,{"className":"sticky top-0 z-10 mx-auto my-0 h-[56px] border-b-[1px] border-b-gray200 bg-white px-[24px] py-0","children":["$","section",null,{"className":"m-auto flex h-full max-w-[970px] items-center justify-between","children":[["$","div",null,{"className":"flex items-center gap-[20px]","children":[["$","$Lb",null,{"href":"/","children":["$","$Lc",null,{"src":"/assets/icons/been-logo.svg","width":60,"height":56,"alt":"logo"}]}],["$","div",null,{"className":"flex items-center gap-[20px]","children":["$","$Lb",null,{"href":"/about","children":"About"}]}]]}],["$","div",null,{"className":"flex items-center gap-[20px]","children":[["$","$Lb",null,{"href":"https://github.com/wonbeenna","target":"_blank","rel":"noopener noreferrer","children":["$","$Lc",null,{"src":"/assets/icons/github.svg","width":30,"height":30,"alt":"github"}]}],["$","$Lb",null,{"href":"mailto:nwbnwb@naver.com","children":["$","$Lc",null,{"src":"/assets/icons/mail.svg","width":34,"height":34,"alt":"email"}]}]]}]]}]}],["$","main",null,{"className":"mx-auto my-0 max-w-[970px] p-[16px]","children":["$","$Ld",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$Le",null,{}],"templateStyles":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"childProp":{"current":["$","$Ld",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$Le",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$Ld",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children",["category","javaScript","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$Le",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$Ld",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children",["category","javaScript","d"],"children",["slug","next-middleware","d"],"children"],"loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","template":["$","$Le",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$Lf","$L10",null],"segment":"__PAGE__?{\"category\":\"javaScript\",\"slug\":\"next-middleware\"}"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d2ca7d8f29c2051c.css","precedence":"next"}]]}],"segment":["slug","next-middleware","d"]},"styles":[]}],"segment":["category","javaScript","d"]},"styles":[]}],"segment":"blog"},"styles":[]}]}],["$","footer",null,{"className":"flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600","children":"Copyright © Been."}]]}]]}],null]
8:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Next.js middleware와 getServerSideProps"}],["$","meta","2",{"name":"description","content":"세션방식의 로그인 인증, middleware와 getServerSideProps를 사용해 구현한 기록"}],["$","meta","3",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","4",{"name":"google-site-verification","content":"BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U"}],["$","meta","5",{"name":"naver-site-verification","content":"58945b2bbe2fe86252fa8c7b204b40f6019920e9"}],["$","meta","6",{"property":"og:title","content":"Next.js middleware와 getServerSideProps"}],["$","meta","7",{"property":"og:description","content":"세션방식의 로그인 인증, middleware와 getServerSideProps를 사용해 구현한 기록"}],["$","meta","8",{"property":"og:url","content":"https://wonbeenna.github.io/javaScript/next-middleware"}],["$","meta","9",{"property":"og:image","content":"https://wonbeenna.github.io/assets/postIcon/Nextjs.svg"}],["$","meta","10",{"property":"og:image:width","content":"800"}],["$","meta","11",{"property":"og:image:height","content":"600"}],["$","meta","12",{"property":"og:image:alt","content":"Next.js middleware와 getServerSideProps"}],["$","meta","13",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","14",{"name":"twitter:title","content":"Next.js middleware와 getServerSideProps"}],["$","meta","15",{"name":"twitter:description","content":"세션방식의 로그인 인증, middleware와 getServerSideProps를 사용해 구현한 기록"}],["$","meta","16",{"name":"twitter:image","content":"https://wonbeenna.github.io/assets/postIcon/Nextjs.svg"}],["$","meta","17",{"name":"twitter:image:width","content":"800"}],["$","meta","18",{"name":"twitter:image:height","content":"600"}],["$","meta","19",{"name":"twitter:image:alt","content":"Next.js middleware와 getServerSideProps"}],["$","link","20",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"192x192"}],["$","meta","21",{"name":"next-size-adjust"}]]
f:null
11:I{"id":2266,"chunks":["964:static/chunks/964-25e165a2fc7e6293.js","819:static/chunks/app/blog/[category]/[slug]/page-54a0c01a0f1cf06c.js"],"name":"","async":false}
12:Te9d0,var l=Object.defineProperty,u=Object.defineProperties;var i=Object.getOwnPropertyDescriptors;var t=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var c=(n,e,s)=>e in n?l(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,a=(n,e)=>{for(var s in e||(e={}))o.call(e,s)&&c(n,s,e[s]);if(t)for(var s of t(e))m.call(e,s)&&c(n,s,e[s]);return n},N=(n,e)=>u(n,i(e));var r=(n,e)=>{var s={};for(var p in n)o.call(n,p)&&e.indexOf(p)<0&&(s[p]=n[p]);if(n!=null&&t)for(var p of t(n))e.indexOf(p)<0&&m.call(n,p)&&(s[p]=n[p]);return s};const layoutProps={},MDXLayout="wrapper";function MDXContent(s){var p=s,{components:n}=p,e=r(p,["components"]);return mdx(MDXLayout,N(a(a({},layoutProps),e),{components:n,mdxType:"MDXLayout"}),mdx("p",null,"\uC778\uC99D\uBC29\uC2DD\uC5D0\uB294 \uB300\uD45C\uC801\uC73C\uB85C \uB450\uAC00\uC9C0\uAC00 \uC788\uB2E4."),mdx("p",null,"\uC81C\uC77C \uB9CE\uC774 \uC0AC\uC6A9\uD558\uB294 \uC138\uC158 \uBC29\uC2DD\uACFC \uD1A0\uD070 \uBC29\uC2DD"),mdx("ul",null,mdx("li",{parentName:"ul"},"\uC778\uC99D -> \uC720\uC800\uAC00 \uB204\uAD6C\uC778\uC9C0 \uD655\uC778"),mdx("li",{parentName:"ul"},"\uC778\uAC00 -> \uC720\uC800\uC758 \uC694\uCCAD\uC5D0 \uB300\uD55C \uAD8C\uD55C\uC744 \uD655\uC778\uD558\uACE0 \uD5C8\uAC00")),mdx("hr",null),mdx("h3",null,"\uC138\uC158\uBC29\uC2DD"),mdx("ul",null,mdx("li",{parentName:"ul"},"\uB85C\uADF8\uC778 \uC694\uCCAD -> \uC11C\uBC84\uC5D0\uC11C \uC138\uC158 key-value\uB85C \uAD6C\uBD84\uD574 \uC815\uBCF4\uB97C \uC800\uC7A5"),mdx("li",{parentName:"ul"},"\uC11C\uBC84 -> \uD074\uB77C\uC774\uC5B8\uD2B8 \uCE21\uC73C\uB85C http header cookie\uC5D0 \uC138\uC158 id\uB97C \uB2F4\uC544 \uC804\uB2EC"),mdx("li",{parentName:"ul"},"\uD074\uB77C\uC774\uC5B8\uD2B8 \uCABD\uC5D0\uC11C response\uAC12\uC73C\uB85C cookie\uC5D0 \uC800\uC7A5\uB41C \uC138\uC158\uC744 \uD655\uC778\uD560 \uC218 \uC788\uB294\uB370, \uBE0C\uB77C\uC6B0\uC800\uC5D0 \uC800\uC7A5")),mdx("p",null,"\uC138\uC158 \uBC29\uC2DD\uC740 HTTP\uC694\uCCAD\uC774 \uB178\uCD9C\uB418\uC5B4\uB3C4 \uC138\uC158 \uC790\uCCB4\uC5D0\uB294 \uC758\uBBF8\uC788\uB294 \uAC12\uC774 \uC5C6\uAE30 \uB54C\uBB38\uC5D0 \uBCF4\uC548\uC0C1 \uC720\uB9AC\uD560 \uC218 \uC788\uB2E4."),mdx("p",null,"\uAC01 \uC0AC\uC6A9\uC790\uB9C8\uB2E4 \uACE0\uC720\uD55C id\uB97C \uAC16\uACE0 \uC788\uAE30 \uB54C\uBB38\uC5D0 \uB9E4\uBC88 \uD68C\uC6D0\uC815\uBCF4\uB97C \uD655\uC778\uD560 \uD544\uC694\uAC00 \uC5C6\uB2E4."),mdx("p",null,"\uC11C\uBC84\uC5D0 \uB530\uB85C \uC138\uC158 \uC800\uC7A5\uC18C\uB97C \uB450\uAE30 \uB54C\uBB38\uC5D0 \uC0AC\uC6A9\uC790\uAC00 \uB9CE\uC544\uC9C0\uBA74 \uC11C\uBC84\uC5D0 \uBD80\uB2F4\uC774 \uAC04\uB2E4."),mdx("p",null,"\uAC01 \uBE0C\uB77C\uC6B0\uC800\uB4E4\uC740 \uBCF4\uC548\uC0C1\uC758 \uC774\uC288\uB85C \uC11C\uBC84\uC640 \uD504\uB860\uD2B8\uAC04\uC758 \uB3C4\uBA54\uC778\uC774 \uAC19\uC544\uC57C \uCFE0\uD0A4\uAC00 \uC804\uB2EC\uB41C\uB2E4."),mdx("ul",null,mdx("li",{parentName:"ul"},mdx("p",{parentName:"li"},"\uD504\uB860\uD2B8 \uCE21\uC5D0\uC11C\uB294 Axios \uC0AC\uC6A9\uC2DC ",mdx("inlineCode",{parentName:"p"},"withCredentials: true"),"\uC124\uC815\uC744 \uD1B5\uD574 \uC11C\uB85C \uB2E4\uB978 \uB3C4\uBA54\uC778\uAC04\uC758 \uC694\uCCAD\uC5D0\uB3C4 credential \uC815\uBCF4\uB97C \uBC1B\uC744 \uAC83\uC778\uC9C0 \uC124\uC815\uD574\uC57C \uD55C\uB2E4.")),mdx("li",{parentName:"ul"},mdx("p",{parentName:"li"},`\uC11C\uBC84 \uCE21\uC5D0\uC11C\uB294 \uC751\uB2F5 \uD5E4\uB354\uC758 Access-Control-Allow-Credentials \uD56D\uBAA9\uC744 true\uB85C \uC124\uC815\uD574\uC57C \uD558\uACE0,
\uC751\uB2F5 \uD5E4\uB354\uC758 Access-Control-Allow-Origin\uC758 \uAC12\uC744 \uC640\uC77C\uB4DC \uCE74\uB4DC('*') \uC81C\uC678\uD558\uACE0 \uC124\uC815 \uB418\uC5B4\uC57C \uD55C\uB2E4.`))),mdx("hr",null),mdx("p",null,"\uC6B0\uC120 localhost\uC640 \uC11C\uBC84\uC0C1\uC758 \uB3C4\uBA54\uC778\uC774 \uB2EC\uB77C proxy \uC124\uC815\uC744 \uD574\uC92C\uB2E4."),mdx("pre",a({},{className:"language-ts"}),mdx("code",a({parentName:"pre"},{className:"language-ts code-highlight"}),mdx("span",a({parentName:"code"},{className:"code-line"}),mdx("span",a({parentName:"span"},{className:"token comment"}),"// pages/api/[...path].ts"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"import")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"type")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{")," NextApiRequest",mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," NextApiResponse ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"from")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"next"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"import")," httpProxyMiddleware ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"from")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"next-http-proxy-middleware"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"export")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," config ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  api",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    externalResolver",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token boolean"}),"true"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"export")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"default")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"req",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," NextApiRequest",mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," res",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," NextApiResponse",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=>")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token function"}),"httpProxyMiddleware"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"req",mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," res",mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        target",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," process",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"env",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token constant"}),"NEXT_PUBLIC_API_URL"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        changeOrigin",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token boolean"}),"true"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        pathRewrite",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"["),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"          ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"            patternStr",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"^/api/"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"            replaceStr",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"          ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"]"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        cookieDomainRewrite",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"          ",mdx("span",a({parentName:"span"},{className:"token string-property property"}),'"*"'),mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"localhost"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"      ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`))),mdx("pre",a({},{className:"language-ts"}),mdx("code",a({parentName:"pre"},{className:"language-ts code-highlight"}),mdx("span",a({parentName:"code"},{className:"code-line"}),mdx("span",a({parentName:"span"},{className:"token comment"}),"/** @type {import('next').NextConfig} */"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," nextConfig ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  swcMinify",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token boolean"}),"true"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  reactStrictMode",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token boolean"}),"true"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  compiler",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    styledComponents",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token boolean"}),"true"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    removeConsole",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," process",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"env",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token constant"}),"NODE_ENV")," ",mdx("span",a({parentName:"span"},{className:"token operator"}),"===")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"production"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"async")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"rewrites"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," process",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"env",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token constant"}),"NODE_ENV")," ",mdx("span",a({parentName:"span"},{className:"token operator"}),"===")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"production"'),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"      ",mdx("span",a({parentName:"span"},{className:"token operator"}),"?")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"["),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"          ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"            source",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/api/:path*"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"            destination",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token template-string"}),mdx("span",a({parentName:"span"},{className:"token template-punctuation string"}),"`"),mdx("span",a({parentName:"span"},{className:"token interpolation"}),mdx("span",a({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"process",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"env",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token constant"}),"NEXT_PUBLIC_API_URL"),mdx("span",a({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),mdx("span",a({parentName:"span"},{className:"token string"}),"/:path*"),mdx("span",a({parentName:"span"},{className:"token template-punctuation string"}),"`")),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"          ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"]"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"      ",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"["),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"]"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),mdx("span",a({parentName:"span"},{className:"token operator"}),"..."),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`))),mdx("hr",null),mdx("p",null,"\uC704 \uCC98\uB7FC \uC124\uC815\uD574 \uC8FC\uB2C8 \uC11C\uBC84\uC5D0\uC11C \uBCF4\uB0B8 cookie\uAC00 localhost \uBE0C\uB77C\uC6B0\uC800\uC5D0 \uC798 \uB4E4\uC5B4\uC654\uB2E4."),mdx("p",null,"\uC5EC\uAE30\uC11C \uACE0\uBBFC\uD588\uB358 \uBD80\uBD84\uC774 csr\uD658\uACBD\uC774 \uC544\uB2CC next\uC758 ssr\uD658\uACBD\uC778 \uD504\uB860\uD2B8\uCE21 \uC11C\uBC84\uB2E8\uC5D0\uC11C\uB294 \uC720\uC800\uC778\uC99D\uC744 \uC5B4\uB5BB\uAC8C \uD655\uC778\uD560 \uAC83\uC778\uAC00 \uC600\uB2E4."),mdx("p",null,"\uC6B0\uC120 \uB85C\uADF8\uC778 \uC0C1\uD0DC\uC640 \uBE44\uB85C\uADF8\uC778 \uC0C1\uD0DC\uC5D0\uC11C \uC811\uADFC\uBD88\uAC00\uB2A5\uD55C \uD398\uC774\uC9C0 \uC811\uADFC\uC2DC \uB9AC\uB2E4\uC774\uB809\uD2B8\uB97C \uC2DC\uD0A4\uB294 \uBC29\uBC95\uC73C\uB85C \uC9C4\uD589\uD588\uB2E4."),mdx("p",null,"Nextjs middleware\uB294 root\uD3F4\uB354\uC5D0 middleware.ts \uD30C\uC77C\uC744 \uB9CC\uB4E4\uC5B4 \uC8FC\uBA74 \uD398\uC774\uC9C0 \uB77C\uC6B0\uD305 \uB418\uAE30 \uC804\uC5D0 middleware\uAC00 \uC790\uB3D9\uC73C\uB85C \uC2E4\uD589\uB41C\uB2E4."),mdx("p",null,"Nextjs\uC5D0\uC11C \uC9C0\uC6D0\uD558\uB294 middleware\uB294 \uB4E4\uC5B4\uC624\uB294 \uC694\uCCAD\uC5D0 \uB530\uB77C\uC11C req, res, header\uB97C \uB2E4\uC2DC \uC791\uC131\uD558\uAC70\uB098 \uB9AC\uB514\uB809\uC158 \uB4F1\uC744 \uC218\uC815\uD558\uAC70\uB098 \uC7AC\uC791\uC131\uD560 \uC218 \uC788\uB2E4."),mdx("pre",a({},{className:"language-ts"}),mdx("code",a({parentName:"pre"},{className:"language-ts code-highlight"}),mdx("span",a({parentName:"code"},{className:"code-line"}),mdx("span",a({parentName:"span"},{className:"token keyword"}),"import")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"type")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{")," NextRequest ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"from")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"next/server"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"import")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{")," fetchAuth",mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," inValidateAuth",mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," validateAuth ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"from")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"@/lib/validateUser"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," validatedUrl ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"["),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/sign-in"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/sign-up/normal"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/sign-up/social"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/sign-up/vendor"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/password/reset"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"]"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," inValidateUrl ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"["),mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/my-page"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"]"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"export")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"async")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"function")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"middleware"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"req",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," NextRequest",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," url ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," req",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"nextUrl",mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"if")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"validatedUrl",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"includes"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"url",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"pathname",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"await")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"validateAuth"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"req",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"if")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"inValidateUrl",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"includes"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"url",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"pathname",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"await")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"inValidateAuth"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"req",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"await")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"fetchAuth"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"req",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"export")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," config ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  matcher",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"["),mdx("span",a({parentName:"span"},{className:"token string"}),'"/((?!api|_next/static|_next/image|favicon.ico|assets).*)"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"]"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`))),mdx("pre",a({},{className:"language-ts"}),mdx("code",a({parentName:"pre"},{className:"language-ts code-highlight"}),mdx("span",a({parentName:"code"},{className:"code-line"}),mdx("span",a({parentName:"span"},{className:"token keyword"}),"import")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{")," NextRequest",mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," NextResponse ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"from")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"next/server"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"export")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," ",mdx("span",a({parentName:"span"},{className:"token function-variable function"}),"validateUser")," ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"req",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," NextRequest",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=>")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"fetch"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token string"}),'"url"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    method",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"get"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    mode",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"cors"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    credentials",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"same-origin"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    headers",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"      ",mdx("span",a({parentName:"span"},{className:"token string-property property"}),'"Content-Type"'),mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"application/json"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"      cookie",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token template-string"}),mdx("span",a({parentName:"span"},{className:"token template-punctuation string"}),"`"),mdx("span",a({parentName:"span"},{className:"token interpolation"}),mdx("span",a({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"req",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"headers",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"get"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token string"}),'"cookie"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),mdx("span",a({parentName:"span"},{className:"token template-punctuation string"}),"`")),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),mdx("span",a({parentName:"span"},{className:"token operator"}),"..."),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"export")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," ",mdx("span",a({parentName:"span"},{className:"token function-variable function"}),"fetchAuth")," ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"async")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"req",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," NextRequest",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=>")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"try")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," res ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," NextResponse",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"next"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," response ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"await")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"validateUser"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"req",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," data ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"await")," response",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"json"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"if")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"response",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"ok",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"            res",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"cookies",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"set"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token string"}),'"user"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," ",mdx("span",a({parentName:"span"},{className:"token constant"}),"JSON"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"stringify"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"data",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"            ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," res",mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"if")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token operator"}),"!"),"response",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"ok",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"            res",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"cookies",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"delete"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token string"}),'"user"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"            res",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"cookies",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"delete"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token string"}),'"user.sid"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"            ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," res",mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"catch")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"e",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"throw")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"new")," ",mdx("span",a({parentName:"span"},{className:"token class-name"}),"Error"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token string"}),'"Validate Error"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`))),mdx("p",null,"\uCC98\uC74C\uC5D0 \uC774\uB7F0\uC2DD\uC73C\uB85C \uBBF8\uB4E4\uC6E8\uC5B4\uB97C \uAD6C\uD604\uD588\uB2E4. matcher\uB85C \uD398\uC774\uC9C0\uB2E8\uB9CC \uD655\uC778\uD588\uACE0, \uD398\uC774\uC9C0 \uB77C\uC6B0\uD305\uC2DC \uC720\uC800 \uC778\uC99D\uC5D0 \uC131\uACF5\uD558\uBA74 cookie\uB97C \uD1B5\uD574 \uC720\uC800\uC815\uBCF4\uC640 \uC138\uC158\uC744 \uC804\uB2EC\uD588\uB2E4."),mdx("p",null,"\uB610 \uC778\uC99D\uC131\uACF5\uC2DC \uC811\uADFC x, \uBE44\uC778\uC99D\uC2DC \uC811\uADFC x \uD55C url\uC744 \uD655\uC778\uD574 \uB9AC\uB2E4\uC774\uB809\uD2B8 \uC2DC\uD0A4\uB3C4\uB85D \uD588\uB2E4."),mdx("p",null,"\uCC98\uC74C \uD574\uBD24\uB358 \uC791\uC5C5\uC774\uC5C8\uACE0, \uC81C\uB300\uB85C \uAD6C\uD604\uD55C\uC9C0 \uD655\uC2E0\uC774 \uB4E4\uC9C0 \uC54A\uC544 \uCF54\uB4DC\uB9AC\uBDF0\uB97C \uC694\uCCAD\uD588\uB2E4."),mdx("p",null,"middleware\uB97C \uC0AC\uC6A9\uD558\uC9C0 \uC54A\uACE0 hocs\uB97C \uC0AC\uC6A9\uD574 auth\uB97C \uD638\uCD9C\uD558\uACE0, axios config\uC5D0 headers\uB97C \uC804\uB2EC\uD558\uB294 \uBC29\uBC95\uC73C\uB85C \uC54C\uB824\uC8FC\uC168\uB2E4."),mdx("pre",a({},{className:"language-ts"}),mdx("code",a({parentName:"pre"},{className:"language-ts code-highlight"}),mdx("span",a({parentName:"code"},{className:"code-line"}),mdx("span",a({parentName:"span"},{className:"token keyword"}),"import")," React ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"from")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"react"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"import")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{")," GetServerSideProps",mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," GetServerSidePropsContext ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"from")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"next"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"import")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{")," getAuth ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"from")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"@/models/auth"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"import")," merge ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"from")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"lodash/merge"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," validatedUrl ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"["),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/sign-in"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/sign-up/normal"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/sign-up/social"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/sign-up/vendor"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/password/reset"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"]"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," inValidateUrl ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"["),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/my-page"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/my-page/profile"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/my-page/review"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"]"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"export")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"default")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"function")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"withAuth"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"getServerSideProps",mdx("span",a({parentName:"span"},{className:"token operator"}),"?"),mdx("span",a({parentName:"span"},{className:"token operator"}),":")," GetServerSideProps",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"async")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"function")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"context",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," GetServerSidePropsContext",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," url ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," context",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"req",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"url ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"as")," ",mdx("span",a({parentName:"span"},{className:"token builtin"}),"string"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"let")," user ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"null"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"try")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"      ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," res ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"await")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"getAuth"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{")," headers",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," context",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"req",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"headers ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"      user ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," res",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),"data",mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"catch")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"e",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"if")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"inValidateUrl",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"."),mdx("span",a({parentName:"span"},{className:"token function"}),"includes"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"url",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token operator"}),"&&")," ",mdx("span",a({parentName:"span"},{className:"token operator"}),"!"),"user",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"      ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        redirect",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"          permanent",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token boolean"}),"false"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"          destination",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token string"}),'"/users/sign-in"'),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"        ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),","),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"      ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),mdx("span",a({parentName:"span"},{className:"token operator"}),"..."),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," ret ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"await")," getServerSideProps",mdx("span",a({parentName:"span"},{className:"token operator"}),"?."),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"context",mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"    ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"return")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"merge"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),"ret",mdx("span",a({parentName:"span"},{className:"token punctuation"}),",")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{")," props",mdx("span",a({parentName:"span"},{className:"token operator"}),":")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{")," user ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}")," ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"  ",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`))),mdx("p",null,"middleware\uB294 nextjs\uC5D0\uC11C \uC11C\uBC84\uB3C4 \uAC19\uC774 \uAD6C\uC131\uD574 \uC0AC\uC6A9\uD558\uBA74 \uC88B\uC744\uAC70\uB77C\uACE0 \uC870\uC5B8\uC744 \uC8FC\uC168\uB2E4."),mdx("pre",a({},{className:"language-ts"}),mdx("code",a({parentName:"pre"},{className:"language-ts code-highlight"}),mdx("span",a({parentName:"code"},{className:"code-line"}),mdx("span",a({parentName:"span"},{className:"token comment"}),"// page/*"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),mdx("span",a({parentName:"span"},{className:"token operator"}),"..."),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token keyword"}),"export")," ",mdx("span",a({parentName:"span"},{className:"token keyword"}),"const")," getServerSideProps ",mdx("span",a({parentName:"span"},{className:"token operator"}),"=")," ",mdx("span",a({parentName:"span"},{className:"token function"}),"withAuth"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"("),mdx("span",a({parentName:"span"},{className:"token punctuation"}),")"),mdx("span",a({parentName:"span"},{className:"token punctuation"}),";"),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),`
`),mdx("span",a({parentName:"code"},{className:"code-line"}),"",mdx("span",a({parentName:"span"},{className:"token punctuation"}),"{"),mdx("span",a({parentName:"span"},{className:"token operator"}),"..."),mdx("span",a({parentName:"span"},{className:"token punctuation"}),"}"),`
`))))}MDXContent.isMDXComponent=!0;
10:["$","div",null,{"className":"prose w-full max-w-none","children":[["$","div",null,{"className":"border-b-2 border-b-gray500","children":[["$","h1",null,{"className":"my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]","children":"Next.js middleware와 getServerSideProps"}],["$","h2",null,{"className":"my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]","children":"세션방식의 로그인 인증, middleware와 getServerSideProps를 사용해 구현한 기록"}],["$","p",null,{"className":"text-[12px] text-gray700 md:text-[16px]","children":"2023-02-22"}]]}],["$","$L11",null,{"compiledSource":"$12","scope":{"title":"Next.js middleware와 getServerSideProps","date":"$D2023-02-22T00:00:00.000Z","description":"세션방식의 로그인 인증, middleware와 getServerSideProps를 사용해 구현한 기록","category":"javaScript","titleImage":"/assets/postIcon/Nextjs.svg"}}]]}]
