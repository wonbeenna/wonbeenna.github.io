1:"$Sreact.fragment"
2:I[1402,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-a9b64631cefab65a.js"],""]
3:I[6300,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-a9b64631cefab65a.js"],"Providers"]
4:I[2619,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","974","static/chunks/app/page-210b2dff0315fedd.js"],""]
5:I[1356,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-a9b64631cefab65a.js"],"Image"]
6:I[379,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-a9b64631cefab65a.js"],"default"]
7:I[9766,[],""]
8:I[8924,[],""]
a:I[4431,[],"OutletBoundary"]
c:I[5278,[],"AsyncMetadataOutlet"]
e:I[4431,[],"ViewportBoundary"]
10:I[4431,[],"MetadataBoundary"]
11:"$Sreact.suspense"
13:I[7150,[],""]
:HL["/_next/static/media/ff840cfebfb63b0c-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/9df1db2dc1d09068.css","style"]
0:{"P":null,"b":"YEbqh6AOdMeQ3yk5PpYJ4","p":"","c":["",""],"i":false,"f":[[["",{"children":["__PAGE__",{}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/9df1db2dc1d09068.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":[["$","$L2",null,{"src":"https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN"}],["$","$L2",null,{"id":"google-analytics","children":"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n \n          gtag('config', 'G-LFDRQZPCBN');\n        "}],["$","body",null,{"suppressHydrationWarning":true,"className":"__className_fde3a9","children":["$","$L3",null,{"children":[["$","header",null,{"className":"sticky top-0 z-10 mx-auto my-0 h-[56px] border-b border-b-gray200 bg-white px-[24px] py-0 dark:bg-darkBg01","children":["$","section",null,{"className":"m-auto flex h-full max-w-[970px] items-center justify-between","children":[["$","div",null,{"className":"flex items-center gap-[20px]","children":[["$","$L4",null,{"href":"/","children":["$","$L5",null,{"className":"h-[56px] w-[60px]","src":"/assets/icons/been-logo.svg","width":60,"height":56,"priority":true,"alt":"logo"}]}],["$","div",null,{"className":"flex items-center gap-[20px]","children":["$","$L4",null,{"href":"/about","children":"About"}]}]]}],["$","$L6",null,{}]]}]}],["$","main",null,{"className":"mx-auto my-0 max-w-[970px] p-[16px]","children":["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}],["$","footer",null,{"className":"flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600","children":"Copyright Â© Been."}]]}]}]]}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L9",null,["$","$La",null,{"children":["$Lb",["$","$Lc",null,{"promise":"$@d"}]]}]]}],{},null,false]},null,false],["$","$1","h",{"children":[null,[["$","$Le",null,{"children":"$Lf"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L10",null,{"children":["$","div",null,{"hidden":true,"children":["$","$11",null,{"fallback":null,"children":"$L12"}]}]}]]}],false]],"m":"$undefined","G":["$13",[]],"s":false,"S":true}
14:I[4879,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","974","static/chunks/app/page-210b2dff0315fedd.js"],"default"]
15:T1a7b,
## ì›¹ ì ‘ê·¼ì„±ì´ë€?

ì›¹ ì ‘ê·¼ì„±ì´ë€ ì¥ì• ê°€ ìˆëŠ” ì‚¬ëŒì„ í¬í•¨í•´ ëª¨ë“  ì‚¬ìš©ìê°€ ë™ë“±í•˜ê²Œ ì›¹ì— ì ‘ê·¼í•˜ê³  ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ëŠ” ê²ƒì„ ì˜ë¯¸

ë” ë§ì€ ì‚¬ìš©ìì—ê²Œ ë„ë‹¬í•  ìˆ˜ ìˆê³ , ì„±ëŠ¥ ìµœì í™”, ì‚¬ìš©ì ê²½í—˜(UX)ì„ ê°œì„ í•˜ë©°, ê²€ìƒ‰ì—”ì§„ ìµœì í™”(SEO)ì—ë„ ê¸ì •ì ì¸ íš¨ê³¼ê°€ ìˆìŒ

ì›¹ ì ‘ê·¼ì„±ì€ â€œíŠ¹ì • ì§‘ë‹¨(ì¥ì• ì¸)â€ì´ ì•„ë‹Œ ëª¨ë“  ì‚¬ëŒì„ ìœ„í•œ ê¸°ë³¸ ì„¤ê³„ ì›ì¹™

## ì‹œë©˜í‹± ë§ˆí¬ì—…

[mdn](https://developer.mozilla.org/ko/docs/Glossary/Semantics)

divì™€ span ëŒ€ì‹  header, main, nav, article, section, footerì™€ ê°™ì€ ì‹œë§¨í‹± íƒœê·¸ í™œìš©.

ë²„íŠ¼ì€ ë°˜ë“œì‹œ `<button>` íƒœê·¸ë¥¼ ì‚¬ìš©. (divì— onClick ëŒ€ì‹ )

```html
<!-- X -->
<div onclick="submitForm()">ì œì¶œ</div>

<!-- O -->
<button type="submit">ì œì¶œ</button>
```

## ëŒ€ì²´ í…ìŠ¤íŠ¸

ì´ë¯¸ì§€ì—ëŠ” í•­ìƒ alt ì†ì„±ì„ ì œê³µ

ì¥ì‹ìš© ì´ë¯¸ì§€ëŠ” alt=""ë¡œ ì„¤ì •í•˜ì—¬ ìŠ¤í¬ë¦° ë¦¬ë”ê°€ ì½ì§€ ì•Šë„ë¡ í•¨

```html
    <img src="logo.png" alt="pass ë¡œê³ " />
```

## ìƒí˜¸ì‘ìš© ìš”ì†Œ ëª©ë¡

ìƒí˜¸ì‘ìš© ìš”ì†Œ ì¤‘ í•˜ë‚˜ë¥¼ í¬í•¨í•˜ëŠ” ìš”ì†Œ ì•ˆì—ëŠ” ë˜ ë‹¤ë¥¸ ìƒí˜¸ì‘ìš© ìš”ì†Œë¥¼ ë„£ì„ ìˆ˜ ì—†ë‹¤

```html
    <!-- X -->
    <a href="/">
      <Button>í™•ì¸</Button>
    </a>

    <!-- X -->
    <button>
      ì‹œì„¤ê´€ë¦¬
      <button>
        x
      </button>
    </button>
```

- `<a>`
- `<audio>`
- `<button>`
- `<details>`
- `<embed>`
- `<iframe>`
- `<img>`
- `<input>`
- `<keygen>`
- `<label>`
- `<menu>`
- `<object>`
- `<select>`
- `<textarea>`
- `<video>`

## a íƒœê·¸ì™€ button íƒœê·¸

ë¼ìš°íŒ…ì‹œì—ëŠ” `<a>` íƒœê·¸ ì‚¬ìš©

`<a>` íƒœê·¸: ì›¹ í‘œì¤€ìƒ â€œë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ë¡œ ì´ë™â€ì„ ì˜ë¯¸ â†’ í˜ì´ì§€ ì´ë™, ë¼ìš°íŒ…ì— ì í•©

`<button>` íƒœê·¸: í˜„ì¬ í˜ì´ì§€ ë‚´ì—ì„œ íŠ¹ì • ë™ì‘(í¼ ì œì¶œ, ëª¨ë‹¬ ì—´ê¸° ë“±)ì„ ì‹¤í–‰í•˜ëŠ” ìš”ì†Œ

```jsx
// react-router-dom

// O
<Link to="/profile">í”„ë¡œí•„</Link>

// X
<button onClick={() => navigate('/profile')}>í”„ë¡œí•„</button>
```

ì‹œë§¨í‹± íƒœê·¸ì— ë”°ë¼ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ê°€ ë‹¤ë¥´ë‹¤

<div style={{
    display: 'flex',
    gap: '16px',
    flexWrap: 'wrap',
    justifyContent: 'center',
    alignItems: 'center',
}}>
    <img style={{
        width: 250,
        height: 300
    }} src="/assets/blog/javaScript/a-tag.png" alt="a íƒœê·¸ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´" />
    <img style={{
        width: 250,
        height: 300
    }} src="/assets/blog/javaScript/button-tag.png" alt="button íƒœê·¸ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´" />
</div>

```html
<a> íƒœê·¸
<button> íƒœê·¸
```

## ARIA

ARIA (Accessible Rich Internet Applications)ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë³´ì¡°ê¸°ê¸°(ìŠ¤í¬ë¦°ë¦¬ë” ë“±)ì—ì„œë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ì†ì„±ë“¤ì˜ ëª¨ìŒ

HTMLì˜ ì‹œë§¨í‹± íƒœê·¸ë§Œìœ¼ë¡œëŠ” í‘œí˜„í•˜ê¸° ì–´ë ¤ìš´ ìƒíƒœ, ì—­í• , ì†ì„±ì„ ì „ë‹¬í•  ë•Œ ì‚¬ìš©

ğŸ‘‰ ARIAëŠ” ë³´ì™„ ìˆ˜ë‹¨, HTML ê¸°ë³¸ ì‹œë§¨í‹± ìš”ì†Œë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ë©´ ARIAë³´ë‹¤ íƒœê·¸ë¥¼ ìš°ì„  ì‚¬ìš©í•˜ëŠ” ê²Œ ì›ì¹™

### ì£¼ìš” êµ¬ì„± ìš”ì†Œ

- role
ìš”ì†Œì˜ ì—­í• ì„ ì •ì˜ (button, switch, dialog, tab ë“±)

- aria-ì†ì„±
ìƒíƒœë‚˜ ì„¤ëª…ì„ ë³´ì¡°ê¸°ê¸°ì— ì „ë‹¬ (aria-checked, aria-hidden, aria-expanded, aria-describedby ë“±)

### ì˜ˆì‹œ

```jsx
    <button
        type="button"
        role="switch"
        aria-checked={checked}
        disabled={disabled}
        onClick={handleCheckedClick}
        {...rest}
    >
    {...}
    </button>
```

1. role="switch"

HTMLì—ëŠ” í† ê¸€ ìŠ¤ìœ„ì¹˜(Switch)ë¼ëŠ” ì‹œë§¨í‹± íƒœê·¸ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ

role="switch"ë¥¼ ì£¼ë©´, ìŠ¤í¬ë¦°ë¦¬ë”ëŠ” â€œìŠ¤ìœ„ì¹˜â€ë¡œ ì½ê³ , ì¼œì§/êº¼ì§ ìƒíƒœë¥¼ ì¸ì§€í•  ìˆ˜ ìˆìŒ

2. aria-checked=checked

ìŠ¤ìœ„ì¹˜ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì „ë‹¬

true â†’ â€œì¼œì§(on)â€, false â†’ â€œêº¼ì§(off)â€ ìœ¼ë¡œ ì½ì–´ì¤Œ

ìŠ¤í¬ë¦°ë¦¬ë” ì‚¬ìš©ìëŠ” ë²„íŠ¼ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë°”ë¡œ ì•Œ ìˆ˜ ìˆìŒ

3. disabled=disabled

ë„¤ì´í‹°ë¸Œ HTML ì†ì„±. ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŒì„ ì•Œë ¤ì¤Œ

ìŠ¤í¬ë¦°ë¦¬ë”ëŠ” â€œë¹„í™œì„±í™”ë¨â€ì´ë¼ê³  ì½ì–´ì¤Œ

4. onClick=handleCheckedClick

ìŠ¤ìœ„ì¹˜ë¥¼ í† ê¸€í•˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

ë³´ì¡°ê¸°ê¸° ì‚¬ìš©ìë„ í‚¤ë³´ë“œ Enter / Spaceë¡œ ì¡°ì‘í•  ìˆ˜ ìˆìŒ (ë²„íŠ¼ì˜ ê¸°ë³¸ ê¸°ëŠ¥)


---

## í‚¤ë³´ë“œ ì ‘ê·¼ì„±

- ëª¨ë“  ê¸°ëŠ¥ì€ í‚¤ë³´ë“œë§Œìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•´ì•¼ í•¨ (Tab, Shift+Tab, Enter, Space, í™”ì‚´í‘œ ë“±)
- í¬ì»¤ìŠ¤ ìˆœì„œëŠ” ì‹œê°ì /ë…¼ë¦¬ì  ìˆœì„œì™€ ì¼ì¹˜í•´ì•¼ í•¨
- `tabindex`ëŠ” 0 ë˜ëŠ” -1ë§Œ ì‚¬ìš© (ì–‘ìˆ˜ ì‚¬ìš© ê¸ˆì§€)

```html
    <!-- ë¹„ëŒ€í™”í˜• ìš”ì†Œì— í¬ì»¤ìŠ¤ í•„ìš”í•  ë•Œë§Œ -->
    <div tabindex="-1" id="result" aria-live="polite"></div>
```

## í¬ì»¤ìŠ¤ í‘œì‹œì™€ ìŠ¤íƒ€ì¼

- í¬ì»¤ìŠ¤ëŠ” í•­ìƒ **ë³´ì´ê²Œ** í•´ì•¼ í•¨ (outline ì œê±° ê¸ˆì§€)
- `:focus-visible`ë¡œ í‚¤ë³´ë“œ ì‚¬ìš©ìì—ê²Œë§Œ ëšœë ·í•œ í¬ì»¤ìŠ¤ ì œê³µ

```css
    button:focus-visible,
    a:focus-visible {
        outline: 2px solid currentColor;
        outline-offset: 2px;
    }
```

## ë§í¬ í…ìŠ¤íŠ¸

- ë§í¬ í…ìŠ¤íŠ¸ë§Œìœ¼ë¡œ ëª©ì  ì´í•´ ê°€ëŠ¥í•´ì•¼ í•¨ (â€œì—¬ê¸°â€, â€œë”ë³´ê¸°â€ ì§€ì–‘)
- ë™ì¼í•œ í…ìŠ¤íŠ¸ê°€ ì—¬ëŸ¬ ê³³ì´ë©´ ì‹œê°ì ìœ¼ë¡œ ê°™ì•„ë„ **ì ‘ê·¼ì„± ì´ë¦„**ì€ êµ¬ë¶„

```html
    <a href="/docs" aria-label="ë¬¸ì„œ ì„¼í„° ë°”ë¡œê°€ê¸°">ë¬¸ì„œ</a>
    <a href="/pricing" aria-label="ìš”ê¸ˆì œ ì•ˆë‚´ ë°”ë¡œê°€ê¸°">ë¬¸ì„œ</a>
```

## í¼ê³¼ ì—ëŸ¬ ì²˜ë¦¬

- ëª¨ë“  ì…ë ¥ì€ `<label for>`ë¡œ ì—°ê²°
- íŒíŠ¸/ì—ëŸ¬ ë©”ì‹œì§€ëŠ” `aria-describedby`ë¡œ ë¬¶ì–´ ì½íˆê²Œ í•¨
- ìœ íš¨ì„± ê²€ì‚¬ëŠ” ì‹¤ì‹œê°„ ì œê³µ + ì œì¶œ ì‹œ ìš”ì•½ ì œê³µ

```html
    <label for="email">ì´ë©”ì¼</label>
    <input id="email" name="email" type="email" aria-describedby="email-hint email-err" required>
    <p id="email-hint">íšŒì‚¬ ì´ë©”ì¼ í˜•ì‹ ê¶Œì¥</p>
    <p id="email-err" class="visually-hidden" role="alert"></p>

    <script>
        const input = document.getElementById('email');
        const err = document.getElementById('email-err');
        input.addEventListener('invalid', () => { err.textContent = 'ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥'; });
    </script>
```

## í—¤ë”© êµ¬ì¡°

- `<h1>`ì€ í˜ì´ì§€ ë‹¹ í•˜ë‚˜, ì´í›„ ìˆœì°¨ì ìœ¼ë¡œ `<h2>`, `<h3>`â€¦
- ì‹œê°ì  í¬ê¸° ì¡°ì ˆì€ CSSë¡œ, í—¤ë”© ë ˆë²¨ì€ ê±´ë“œë¦¬ì§€ ì•Šê¸°

```html
    <h1>ì œí’ˆ</h1>
    <h2>ê°œìš”</h2>
    <h3>ì£¼ìš” ê¸°ëŠ¥</h3>
```

## ëª¨ë‹¬/ë‹¤ì´ì–¼ë¡œê·¸

- ì—´ë¦´ ë•Œ í¬ì»¤ìŠ¤ ëª¨ë‹¬ ì•ˆìœ¼ë¡œ ì´ë™, ë‹«íˆë©´ íŠ¸ë¦¬ê±°ë¡œ ë³µê·€
- ë°°ê²½ì€ ìŠ¤í¬ë¦°ë¦¬ë”/íƒ­ íƒìƒ‰ì—ì„œ ì œì™¸ (`aria-modal="true"`)
- ì œëª©/ì„¤ëª… ì—°ê²°

```html
<div role="dialog" aria-modal="true" aria-labelledby="dlg-title" aria-describedby="dlg-desc">
    <h2 id="dlg-title">ì„¤ì •</h2>
    <p id="dlg-desc">ì•Œë¦¼ ì„¤ì •ì„ ë³€ê²½</p>
    <button type="button">ì €ì¥</button>
</div>
```
16:T1840,
ê°œë°œ ì§„í–‰ì¤‘ ë‹¤ì–‘í•œ svg íŒŒì¼ì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•´ì•¼í•  í•„ìš”ê°€ ìˆë‹¤.
ë§¤ë²ˆ svg íŒŒì¼ì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ë„ ë²ˆê±°ë¡­ê³ , ë³€í™˜ ê³¼ì •ì—ì„œ ì‹¤ìˆ˜ë¡œ svg íŒŒì¼ì„ ì˜ëª» ìˆ˜ì •í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.
ë˜, ì•„ì´ì½˜ì€ ìƒí™©ì—ë”°ë¼ ìƒ‰ìƒ, í¬ê¸°, íšŒì „ ë“±ì„ ë³€ê²½í•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.

---

ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ rollup ì„ ì‚¬ìš©í•˜ì—¬ svg íŒŒì¼ì„ React ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œë” íŒ¨í‚¤ì§€í•˜ì—¬ ì‚¬ìš©í•˜ì˜€ë‹¤.

## rollup-config.mjs

ì•„ì´ì½˜ë“¤ì€ /icons/*.svg ê²½ë¡œì— ìœ„ì¹˜í–ˆê³ , svg íŒŒì¼ì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•´ export + íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì •ì˜ë˜ë„ë¡ í–ˆë‹¤.

ë¨¼ì € ì•„ì´ì½˜ë“¤ì˜ ê° ê²½ë¡œë“¤ì„ ìˆ˜ì§‘í–ˆë‹¤.
```javascript
const iconBasePath = new URL('./icons', import.meta.url).pathname;
const iconFileNames = fs.readdirSync(iconBasePath, 'utf-8');
```

ì•„ì´ì½˜ì˜ ì´ë¦„ì„ search-icon.svg í˜•íƒœë¡œ ì €ì¥í–ˆê³ ,
ì´ë¦„ì„ PascalCase í˜•íƒœë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í–ˆë‹¤.

iconFileNames ëŠ”

```javascript
[
'date-picker.svg',
'info.svg',
'link.svg',
'logout.svg',
'upload-trash.svg',
'upload.svg',
...
]
```

ì´ëŸ°í˜•íƒœë¡œ ì˜ ë¶ˆëŸ¬ì™€ì¡Œë‹¤.

```javascript
function toPascalCase(str) {
    return str
        .replace(/[-_](.)/g, (_, c) => c.toUpperCase())
        .replace(/^(.)/, (_, c) => c.toUpperCase());
}
```

iconFileNames ë¥¼ ìˆœíšŒí•˜ë©°, ê° ì•„ì´ì½˜ì˜ ì´ë¦„ì„ PascalCase í˜•íƒœë¡œ ë³€í™˜í•˜ê³ , import/export ë¬¸ì„ ë³„ë„ ë°°ì—´ì— ì €ì¥í–ˆë‹¤.

```javascript
    iconImportLines.push(`import ${iconModuleName} from '../icons/${iconFileName}'`);
    iconComponentTypes.push(`export declare const ${iconModuleName}: SVGIconType`);
```

---

### svg -> ì»´í¬ë„ŒíŠ¸ ë³€í™˜

```javascript
const jsCode = await transform(
  rawSvg,
  {
    plugins: ['@svgr/plugin-jsx'],
    icon: true,
    jsxRuntime: 'classic',
    template: reactIconTemplate,
  }
);
```

ì—¬ê¸°ì„œ reactIconTemplate ì€ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤.

```javascript
    function reactIconTemplate({ imports, componentName, props, jsx }, { tpl }) {
        return tpl`
      ${imports}
      function ${componentName}(${props}) {
        return (
          ${jsx}
        );
      }
      export default ${componentName};
    `;
    }
```

tpl í•¨ìˆ˜ëŠ” í…œí”Œë¦¿ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¡œ, ìœ„ì˜ ì½”ë“œë¥¼ í†µí•´ svg íŒŒì¼ì„ React ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.

---

### íƒ€ì… ì„ ì–¸ ìë™ ìƒì„±

ë¹Œë“œì‹œ index.d.ts íŒŒì¼ì„ ìƒì„±í•´, ê° ì•„ì´ì½˜ ë³„ë¡œ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ìƒì„±ë˜ë„ë¡ í–ˆë‹¤.

```javascript
    const entryTypesContent = `
    declare module '*.svg' {
      const content: string
      export default content
    }

    export declare type IconSource = React.FunctionComponent<React.SVGProps<SVGSVGElement>>
    export declare type SVGIconType = IconSource

    export declare type IconName = ${iconNames.join(' | ')}

    export declare const icons: Record<IconName, SVGIconType>

    ${iconComponentTypes.join('\n')}
    `.trim();


    emitFile({
        fileName: 'index.d.ts',
        source: entryTypesContent,
    }),
```

emitFile í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ index.d.ts íŒŒì¼ì„ ìƒì„±í•˜ê³ , ìœ„ì—ì„œ ì €ì¥í•´ë‘” iconComponentTypesë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ì•„ì´ì½˜ì˜ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì •ì˜í–ˆë‹¤.

---

### defineConfig

```javascript
export default defineConfig({
    input: 'src/index.ts',
    output: [
        {
            dir: 'dist',
            format: 'cjs',
            entryFileNames: '[name].js',
            chunkFileNames: '[name].js',
            interop: 'auto',
        },
        {
            dir: 'dist',
            format: 'esm',
            entryFileNames: '[name].mjs',
            chunkFileNames: '[name].mjs',
        },
    ],
    external: ['react'],
    plugins: [
        virtual({ 'src/index.ts': entryModuleContent }),
        nodeResolve({ extensions }),
        svgBuild({ include: `${iconBasePath}/*.svg` }),
        babel({
            exclude: 'node_modules/**',
            extensions,
            babelHelpers: 'bundled',
        }),
        emitFile({
            fileName: 'index.d.ts',
            source: entryTypesContent,
        }),
        terser(),
    ],
});
```

`@rollup/plugin-virtual` ë¥¼ ì‚¬ìš©í•´ index.ts íŒŒì¼ì„ ê°€ìƒìœ¼ë¡œ ìƒì„±í–ˆë‹¤.

```javascript
output: [
  {
    dir: 'dist',
    format: 'cjs',
    entryFileNames: '[name].js',
    chunkFileNames: '[name].js',
    interop: 'auto',
  },
  {
    dir: 'dist',
    format: 'esm',
    entryFileNames: '[name].mjs',
    chunkFileNames: '[name].mjs',
  },
],
```

ê²°ê³¼ë¬¼ë“¤ì„ dist í´ë”ì— ì €ì¥ë˜ë„ë¡ í•˜ê³ , commonjs ì™€ esm í˜•ì‹ìœ¼ë¡œ ê°ê° ì €ì¥ë˜ë„ë¡ ì„¤ì •í–ˆë‹¤.

```javascript
svgBuild({ include: `${iconBasePath}/*.svg` }),
```

svg ë¥¼ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•´ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ë‹¤.
- @svgr/coreë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œ .svg â†’ React Componentë¡œ ë³€í™˜
- UploadIcon, SearchIcon ì´ëŸ° ì»´í¬ë„ŒíŠ¸ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±
- ê²°ê³¼ëŠ” virtual entryì—ì„œ import UploadIcon from '../icons/upload.svg'ì²˜ëŸ¼ ì“°ì´ê²Œ ë¼

```javascript
    babel({
        exclude: 'node_modules/**',
        extensions,
        babelHelpers: 'bundled',
    }),
```

ë°”ë²¨ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•´ js ì½”ë“œë¡œ ë³€í™˜í•´ì¤€ë‹¤.

```javascript
    emitFile({
        fileName: 'index.d.ts',
        source: entryTypesContent,
    }),
```

ì»¤ìŠ¤í…€ emitFile í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•´ ë¹Œë“œê°€ ëë‚œ ì‹œì ì— index.d.ts íƒ€ì… ì„ ì–¸ íŒŒì¼ì„ ìƒì„±í•˜ì—¬ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì •ì˜í•œë‹¤.

```javascript
    terser(),
```
ê²°ê³¼ë¬¼ì˜ í¬ê¸°ë¥¼ ì¤„ì´ê¸° ìœ„í•´ terser í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•´ ì½”ë“œë¥¼ ì••ì¶•í•œë‹¤.

---

icons/*.svgì— svg íŒŒì¼ë“¤ì„ ìœ„ì¹˜ì‹œí‚¤ê³  ë¹Œë“œë¥¼ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ React ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ê³  dist/index.js, dist/index.mjsë¡œ ê°ê° ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ê³ 
index.d.tsë¡œ íƒ€ì… ì„ ì–¸ê¹Œì§€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

```javascript
import { UploadIcon, SearchIcon } from 'your-icon-package';

function App() {
  return (
    <div>
      <UploadIcon width={24} height={24} fill="blue" />
      <SearchIcon width={24} height={24} fill="red" />
    </div>
  );
}
```17:T1760,
## ì´ë²¤íŠ¸ ë²„ë¸”ë§(Event Bubbling)ê³¼ ì´ë²¤íŠ¸ ìº¡ì²˜ë§(Event Capturing)

### ì´ë²¤íŠ¸ ì „íŒŒ(Event Propagation)ì´ë€?

ì´ë²¤íŠ¸ ì „íŒŒëŠ” DOM ì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ê°€ ì „ë‹¬ë˜ëŠ” ê³¼ì •ì´ë‹¤. ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìš”ì†Œ(target element)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¶€ëª¨ ìš”ì†Œê¹Œì§€ ì˜¬ë¼ê°€ê±°ë‚˜ ìì‹ìš”ì†Œë¡œ ë‚´ë ¤ê°€ë©´ì„œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
ì´ë²¤íŠ¸ ì „íŒŒëŠ” í¬ê²Œ ë‘ ê°€ì§€ ë‹¨ê³„ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.

- ì´ë²¤íŠ¸ ë²„ë¸”ë§(Event Bubbling)
- ì´ë²¤íŠ¸ ìº¡ì²˜ë§(Event Capturing)

---

### ì´ë²¤íŠ¸ ë²„ë¸”ë§(Event Bubbling)

ì´ë²¤íŠ¸ê°€ íŠ¹ì • DOM ìš”ì†Œì—ì„œ ë°œìƒí•˜ë©´, ê·¸ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìš”ì†Œ(target)ì—ì„œë¶€í„° DOM íŠ¸ë¦¬ë¥¼ ë”°ë¼ ìƒìœ„ ìš”ì†Œë¡œ ì ì  ì˜¬ë¼ê°€ë©° ì „íŒŒë˜ëŠ” ê³¼ì •ì´ë‹¤.
ì´ë•Œ ê° ìƒìœ„ ìš”ì†Œì—ì„œë„ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ê²ƒ ì²˜ëŸ¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

íŠ¹ì • ìš”ì†Œì—ì„œì˜ ì´ë²¤íŠ¸ ë°œìƒ -> ì´ë²¤íŠ¸ íƒ€ê²Ÿì—ì„œë¶€í„° ë¶€ëª¨ ìš”ì†Œë¡œ ì´ë™ -> (ë¶€ëª¨ ìš”ì†Œ -> ë¶€ëª¨ì˜ ë¶€ëª¨ -> ë£¨íŠ¸) -> ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë“±ë¡ëœ ë¶€ëª¨ ìš”ì†Œë“¤ì—ì„œë„ ì´ë²¤íŠ¸ ì²˜ë¦¬ ê°€ëŠ¥

```html
<div id="parent">
    <button id="child">ë²„íŠ¼</button>
</div>
```

ë§Œì•½ ìœ„ì— ë²„íŠ¼ì„ í´ë¦­í•œë‹¤ë©´,

1. ë²„íŠ¼ì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
2. ë²„íŠ¼ì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ divë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
3. divì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
4. divì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ bodyë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
5. bodyì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
6. bodyì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ htmlë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
7. htmlì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
8. htmlì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ documentë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
9. documentì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
10. documentì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ windowë¡œ ì´ë²¤íŠ¸ ì „íŒŒ

ì˜ íë¦„ìœ¼ë¡œ ì´ë²¤íŠ¸ ë²„ë¸”ë§ì´ ë°œìƒí•œë‹¤.

```javascript
document.getElementById('parent').addEventListener('click', () => {
    console.log('parent í´ë¦­ë¨');
});

document.getElementById('child').addEventListener('click', () => {
    console.log('child í´ë¦­ë¨');
});
```

ìœ„ì™€ ê°™ì´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ë©´, ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤.

```
child í´ë¦­ë¨
parent í´ë¦­ë¨
```

ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ, ë²„íŠ¼ì—ì„œ ë°œìƒí•œ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë¶€ëª¨ ìš”ì†Œì¸ divë¡œ ì „íŒŒë˜ë©´ì„œ divì—ì„œë„ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤. ì´ë•Œ, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë“±ë¡ëœ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ëœë‹¤.

---

### ì´ë²¤íŠ¸ ìº¡ì²˜ë§(Event Capturing)

ì´ë²¤íŠ¸ ìº¡ì²˜ë§ì€ ì´ë²¤íŠ¸ ë²„ë¸”ë§ê³¼ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ, DOM íŠ¸ë¦¬ì˜ ìµœìƒìœ„ ìš”ì†Œì—ì„œë¶€í„° ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìš”ì†Œ(target)ê¹Œì§€ ë‚´ë ¤ê°€ëŠ” ê³¼ì •ì´ë‹¤.

DOMì˜ ìµœìƒìœ„(window ë˜ëŠ” document)ì—ì„œ ì‹œì‘ -> (ìµœìƒìœ„ -> í•˜ìœ„ -> target ìš”ì†Œ) -> ì´ë²¤íŠ¸ íƒ€ê²Ÿì— ë„ì°© í›„, ë‹¤ì‹œ ì´ë²¤íŠ¸ ë²„ë¸”ë§ìœ¼ë¡œ ì „í™˜

1. windowì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
2. windowì—ì„œ ìì‹ ìš”ì†Œì¸ documentë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
3. documentì—ì„œ ìì‹ ìš”ì†Œì¸ bodyë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
4. bodyì—ì„œ ìì‹ ìš”ì†Œì¸ divë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
5. divì—ì„œ ìì‹ ìš”ì†Œì¸ buttonìœ¼ë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
6. buttonì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
7. buttonì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ divë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
8. divì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
9. divì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ bodyë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
10. bodyì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
11. bodyì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ documentë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
12. documentì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
13. documentì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ windowë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
14. windowì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ

```javascript
document.getElementById('parent').addEventListener('click', () => {
    console.log('parent í´ë¦­ë¨');
}, true); // trueë¥¼ ì¶”ê°€í•˜ì—¬ ìº¡ì²˜ë§ ë‹¨ê³„ì—ì„œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡

document.getElementById('child').addEventListener('click', () => {
    console.log('child í´ë¦­ë¨');
});
```
ìœ„ì™€ ê°™ì´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ë©´, ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤.

```
parent í´ë¦­ë¨
child í´ë¦­ë¨
```

ì¦‰, í•˜ë‚˜ì˜ í´ë¦­ì´ ë°œìƒí•˜ë©´ ë¶€ëª¨ ìš”ì†Œì—ì„œë¶€í„° ìì‹ ìš”ì†Œë¡œ ë‚´ë ¤ê°€ë©´ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ê³ , ë‹¤ì‹œ ìì‹ ìš”ì†Œì—ì„œ ë¶€ëª¨ ìš”ì†Œë¡œ ì˜¬ë¼ê°€ë©´ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤. ì´ë•Œ, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë“±ë¡ëœ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ëœë‹¤.

---

## ì´ë²¤íŠ¸ ë²„ë¸”ë§, ìº¡ì²˜ë§ ì œì–´

### ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€ (event.stopPropagation())

ì´ë²¤íŠ¸ê°€ ë¶€ëª¨ë¡œ ì „ë‹¬ë˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

```javascript
document.getElementById('child').addEventListener('click', (event) => {
    event.stopPropagation(); // ë¶€ëª¨ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€
    console.log('child í´ë¦­ë¨');
});
```

### ê¸°ë³¸ ì´ë²¤íŠ¸ ë°©ì§€ (event.preventDefault())

stopPropagation()ì™€ëŠ” ë‹¬ë¦¬, ê¸°ë³¸ ë™ì‘(ex: ë§í¬ í´ë¦­, í¼ ì œì¶œ ë“±)ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

```javascript
document.getElementById('link').addEventListener('click', (event) => {
    event.preventDefault(); // ê¸°ë³¸ ë™ì‘ ë°©ì§€
    console.log('ë§í¬ í´ë¦­ë¨');
});
```

---

## ì´ë²¤íŠ¸ ë²„ë¸”ë§ê³¼ ìº¡ì²˜ë§ ì‚¬ìš©?

### ì´ë²¤íŠ¸ ë²„ë¸”ë§ í™œìš©

- ì´ë²¤íŠ¸ ìœ„ì„(event delegation) : ìì‹ ìš”ì†Œì— ì§ì ‘ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ì§€ ì•Šê³ , ë¶€ëª¨ ìš”ì†Œì—ì„œ ìì‹ ìš”ì†Œì˜ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬ í•œë‹¤.stopPropagation
- ì„±ëŠ¥ ìµœì í™” : ë§ì€ ìì‹ ìš”ì†Œì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ëŠ” ê²ƒë³´ë‹¤ ë¶€ëª¨ ìš”ì†Œì— í•˜ë‚˜ì˜ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ìƒ ìœ ë¦¬í•˜ë‹¤.
```javaScript
document.querySelector('ul').addEventListener('click', (e) => {
    if(e.target.tagName === 'li'){
        console.log('í´ë¦­í•œ í•­ëª©:', e.target.innerText);
    }
});
```

### ì´ë²¤íŠ¸ ìº¡ì²˜ë§ í™œìš©

- ì¼ë°˜ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì§€ë§Œ, íŠ¹ì • ìš”ì†Œê°€ ì´ë²¤íŠ¸ë¥¼ ê°€ë¡œì±„ì•¼ í•  ë•Œ ìœ ìš©í•˜ë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´, íŠ¹ì • ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ, ë¶€ëª¨ ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ì „ì— ë¨¼ì € íŠ¹ì • ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•´ì•¼ í•  ê²½ìš°ì— ì‚¬ìš©ëœë‹¤.
18:T16ad,
## ì„¸ì…˜ê³¼ ì¿ í‚¤ì˜ ê°œë…

### ì„¸ì…˜(session)

ì„¸ì…˜ì€ ì„œë²„ê°€ ì‚¬ìš©ì(í´ë¼ì´ì–¸íŠ¸)ë§ˆë‹¤ ì •ë³´ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ì„œë²„ì¸¡ì—ì„œ ê´€ë¦¬í•˜ëŠ” ë°ì´í„° ì €ì¥ì†Œë‹¤.
ì„¸ì…˜ ë°ì´í„° ìì²´ëŠ” ì„œë²„ ë©”ëª¨ë¦¬ë‚˜ ë³„ë„ ì €ì¥ì†Œ(DB, Redis ë“±)ì— ì €ì¥í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì—ê²ŒëŠ” ì„¸ì…˜ì„ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ê³ ìœ  ID(session ID)ë¥¼ ë°œê¸‰í•œë‹¤.
ì„¸ì…˜ IDëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ìš”ì²­í•  ë•Œë§ˆë‹¤ í•¨ê»˜ ì „ì†¡ë˜ë©°, ì„œë²„ëŠ” ì´ IDë¥¼ í†µí•´ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ì˜ ì„¸ì…˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•œë‹¤.

- ì„œë²„ ì¸¡ì—ì„œ ê´€ë¦¬, ì €ì¥ : ë°ì´í„°ëŠ” ì„œë²„ì— ìˆìœ¼ë¯€ë¡œ ë³´ì•ˆì„±ì´ ë†’ë‹¤.
- ì„ì‹œ : ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí•˜ê±°ë‚˜ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•˜ë©´ ì„¸ì…˜ ë°ì´í„°ëŠ” ì‚­ì œëœë‹¤.
- ì„œë²„ ë¦¬ì†ŒìŠ¤ : ì‚¬ìš©ìê°€ ë§ì•„ì§€ë©´ ì„œë²„ ë©”ëª¨ë¦¬ë‚˜ ì €ì¥ì†Œì— ë¶€ë‹´ì´ ë  ìˆ˜ ìˆë‹¤.

---

### ì¿ í‚¤(cookie)

ì¿ í‚¤ëŠ” ì‚¬ìš©ì(í´ë¼ì´ì–¸íŠ¸)ì˜ ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ëŠ” ì‘ì€ ë°ì´í„° ì¡°ê°ì´ë‹¤. ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì¿ í‚¤ë¥¼ ë³´ë‚´ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ë¥¼ ì €ì¥í•˜ê³ , ì´í›„ ì„œë²„ì— ìš”ì²­í•  ë•Œë§ˆë‹¤ í•´ë‹¹ ì¿ í‚¤ë¥¼ ì„œë²„ì— ì „ë‹¬í•œë‹¤.
ì´ë¥¼ í†µí•´ ì„œë²„ëŠ” ì‚¬ìš©ì ì •ë³´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ì‹ë³„í•˜ê±°ë‚˜ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.

- í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ê´€ë¦¬, ì €ì¥ : ì¿ í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ë¯€ë¡œ ì„œë²„ì— ë¶€ë‹´ì´ ì ë‹¤.
- ì§€ì†ì„± : ë§Œë£Œ ê¸°ê°„ì„ ì„¤ì •í•  ìˆ˜ ìˆì–´, ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí•´ë„ ì¿ í‚¤ëŠ” ë‚¨ì•„ìˆì„ ìˆ˜ ìˆë‹¤.
- í¬ê¸° ì œí•œ : ì¿ í‚¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ 4KB ì´í•˜ë¡œ ì œí•œëœë‹¤.
- ë³´ì•ˆì„± : ì¿ í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì— ì €ì¥ë˜ë¯€ë¡œ ë³´ì•ˆì„±ì´ ë‚®ë‹¤. ë¯¼ê°í•œ ì •ë³´ëŠ” ì¿ í‚¤ì— ì €ì¥í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.

---

## ì„¸ì…˜ê³¼ ì¿ í‚¤ì˜ ì°¨ì´ì 

| êµ¬ë¶„       | ì„¸ì…˜(session)                          | ì¿ í‚¤(cookie)                           |
|------------|----------------------------------------|----------------------------------------|
| ì €ì¥ ìœ„ì¹˜  | ì„œë²„ ì¸¡                                | í´ë¼ì´ì–¸íŠ¸ ì¸¡                          |
| ë°ì´í„° í¬ê¸° | ì„œë²„ ë©”ëª¨ë¦¬ë‚˜ ì €ì¥ì†Œì— ì €ì¥            | í´ë¼ì´ì–¸íŠ¸ì˜ ë¸Œë¼ìš°ì €ì— ì €ì¥           |
| ë§Œë£Œ ê¸°ê°„  | ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ë˜ëŠ” ë¸Œë¼ìš°ì € ì¢…ë£Œ ì‹œ ì‚­ì œ | ë§Œë£Œ ê¸°ê°„ ì„¤ì • ê°€ëŠ¥                     |
| ë³´ì•ˆì„±     | ìƒëŒ€ì ìœ¼ë¡œ ë†’ìŒ                        | ìƒëŒ€ì ìœ¼ë¡œ ë‚®ìŒ                        |
| ì‚¬ìš© ìš©ë„   | ì‚¬ìš©ì ì¸ì¦, ì¥ë°”êµ¬ë‹ˆ ë“± ìƒíƒœ ìœ ì§€      | ì‚¬ìš©ì ì„¤ì •, ë¡œê·¸ì¸ ì •ë³´ ë“± ì§€ì†ì  ì €ì¥ |
| ì„œë²„ ë¦¬ì†ŒìŠ¤ | ì‚¬ìš©ìê°€ ë§ì•„ì§€ë©´ ë¶€ë‹´ì´ ë  ìˆ˜ ìˆìŒ     | ì„œë²„ì— ë¶€ë‹´ì´ ì ìŒ                      |
| í¬ê¸° ì œí•œ  | ì—†ìŒ                                   | ì¼ë°˜ì ìœ¼ë¡œ 4KB ì´í•˜                    |
| HTTP ì „ì†¡  | ì„¸ì…˜ IDë¥¼ í†µí•´ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì „ì†¡ | ì¿ í‚¤ë¥¼ í†µí•´ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì „ì†¡  |
| ë³´ì•ˆ ì„¤ì •   | HTTPS ì „ì†¡ ì‹œ ë³´ì•ˆ ì„¤ì • ê°€ëŠ¥            | HttpOnly, Secure ì†ì„±ìœ¼ë¡œ ë³´ì•ˆ ì„¤ì • ê°€ëŠ¥ |
| ë§Œë£Œ ì„¤ì •   | ì„œë²„ì—ì„œ ê´€ë¦¬                          | í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê´€ë¦¬                     |
| ì‚¬ìš© ì˜ˆì‹œ   | ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€, ì¥ë°”êµ¬ë‹ˆ ì •ë³´ ì €ì¥    | ì‚¬ìš©ì ì„¤ì •, ë¡œê·¸ì¸ ì •ë³´ ì €ì¥           |
| ì‚­ì œ ë°©ë²•   | ì„œë²„ì—ì„œ ì„¸ì…˜ ì‚­ì œ                     | í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¿ í‚¤ ì‚­ì œ                |

---

## ì„¸ì…˜ê³¼ ì¿ í‚¤ì˜ ì‚¬ìš© ì˜ˆì‹œ

### ì„¸ì…˜ ì‚¬ìš© ì˜ˆì‹œ

- ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ : ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ë©´ ì„œë²„ëŠ” ì„¸ì…˜ì„ ìƒì„±í•˜ê³ , ì„¸ì…˜ IDë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•œë‹¤. ì´í›„ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ì„¸ì…˜ IDë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì— ìš”ì²­í•  ë•Œë§ˆë‹¤ ë¡œê·¸ì¸ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
- ì¥ë°”êµ¬ë‹ˆ ì •ë³´ : ì‚¬ìš©ìê°€ ì‡¼í•‘ëª°ì—ì„œ ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆì„ ë‹´ìœ¼ë©´, ì„œë²„ëŠ” ì„¸ì…˜ì— ì¥ë°”êµ¬ë‹ˆ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤. ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ì´ë™í•˜ë”ë¼ë„ ì¥ë°”êµ¬ë‹ˆ ì •ë³´ëŠ” ìœ ì§€ëœë‹¤.
- ì‚¬ìš©ì ë§ì¶¤í˜• ì •ë³´ : ì‚¬ìš©ìê°€ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì„¤ì •í•œ ê°œì¸í™”ëœ ì •ë³´ë¥¼ ì„¸ì…˜ì— ì €ì¥í•˜ì—¬, ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ì´ë™í•˜ë”ë¼ë„ í•´ë‹¹ ì •ë³´ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
```javaScript
const session = require('express-session');

app.use(session({
  secret: 'secret-key', // ì•”í˜¸í™”ìš© í‚¤
  resave: false,
  saveUninitialized: true,
  cookie: { secure: true }
}));

app.post('/login', (req, res) => {
  req.session.user = { id: 'user123', name: 'john' };
});
```

---

### ì¿ í‚¤ ì‚¬ìš© ì˜ˆì‹œ
- ë¡œê·¸ì¸ ì •ë³´ : ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ë©´ ì„œë²„ëŠ” ì¿ í‚¤ì— ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì €ì¥í•˜ê³ , ì´í›„ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆë‹¤.
- ì‚¬ìš©ì ì„¤ì • : ì‚¬ìš©ìê°€ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì„¤ì •í•œ ì–¸ì–´, í…Œë§ˆ ë“±ì„ ì¿ í‚¤ì— ì €ì¥í•˜ì—¬, ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ì´ë™í•˜ë”ë¼ë„ í•´ë‹¹ ì„¤ì •ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
- ê´‘ê³  ì¶”ì  : ê´‘ê³  ë„¤íŠ¸ì›Œí¬ëŠ” ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ í–‰ë™ì„ ì¶”ì í•˜ê³ , ë§ì¶¤í˜• ê´‘ê³ ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.

```javaScript
// Cookie ìƒì„± ì˜ˆì‹œ
document.cookie = "username=john; expires=Fri, 31 Dec 2024 23:59:59 GMT; path=/";

// ì„œë²„ì—ì„œ ì¿ í‚¤ ì„¤ì • (Express ì˜ˆì‹œ)
res.cookie('username', 'john', { maxAge: 900000, httpOnly: true });
```

---

### ì •ë¦¬

ê²°êµ­, ë‘˜ì˜ í•µì‹¬ì ì¸ ì°¨ì´ëŠ” ì €ì¥ ìœ„ì¹˜(ì„œë²„ vs í´ë¼ì´ì–¸íŠ¸)ì™€ ì§€ì†ì„±, ë³´ì•ˆì„±ì— ìˆë‹¤.

- ì„¸ì…˜(Session): ë¯¼ê°í•œ ë°ì´í„°ë‚˜ ì¼ì‹œì ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ë°ì´í„°, ì„œë²„ì—ì„œ ê´€ë¦¬ê°€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì €ì¥.
- ì¿ í‚¤(Cookie): ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì—ì„œ ì €ì¥í•˜ëŠ” ê°„ë‹¨í•˜ê³  ê°€ë²¼ìš´ ë°ì´í„°ë¥¼ ì €ì¥, ì‚¬ìš©ìì˜ ì„¤ì • ê°’, ì§€ì†ì ì¸ ì¶”ì , ê°œì¸í™” ë°ì´í„°ì— ì í•©.
19:T1494,
### React Parallel Routesì™€ View Transitions API

ì›¹ë·° ê°œë°œì‹œ AOSì—ì„œ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëª¨ë‹¬ì´ ë‹«íˆì§€ ì•Šê³ , ì•±ì´ ì¢…ë£Œë˜ê±°ë‚˜ ì›¹ë·°ê°€ ë‹«íˆëŠ” ì´ìŠˆê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.
ë³´í†µ ëª¨ë‹¬ì„ ë§Œë“¤ ë•Œ ì—´ê³  ë‹«íˆëŠ” ìƒíƒœ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë‹¬ì„ ë§Œë“ ë‹¤. ì´ëŸ° ê²½ìš° ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬ë‚˜ URL ë™ê¸°í™”, ë’¤ë¡œê°€ê¸° ë™ì‘ì„ ì²˜ë¦¬í•˜ê¸°ê°€ ë¶ˆí¸í•  ìˆ˜ ìˆë‹¤.

ì´ëŸ¬í•œ ë‹¨ì ì„ í•´ê²°í•˜ê¸°ìœ„í•´ `react-router-dom`ìœ¼ë¡œ ë³‘ë ¬ ë¼ìš°íŒ…ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
ì´ ê¸€ì—ì„œëŠ” `react-router-dom`ì„ ì‚¬ìš©í•˜ì—¬ ë³‘ë ¬ ë¼ìš°íŒ…ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ê³¼ `View Transitions API`ë¥¼ í™œìš©í•˜ì—¬ ëª¨ë‹¬ ì• ë‹ˆë©”ì´ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì‘ì„±í•˜ê³ ì í•œë‹¤.

Nextjs ì—ì„œëŠ” appRouterì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë³‘ë ¬ ë¼ìš°íŒ…ì„ ì§€ì›í•œë‹¤.

```
app/
â”œâ”€â”€ layout.tsx
â”œâ”€â”€ page.tsx              # í™ˆ
â”œâ”€â”€ inbox/
â”‚   â”œâ”€â”€ page.tsx          # ë¦¬ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ @modal/           # ë³‘ë ¬ ìŠ¬ë¡¯
â”‚   â”‚   â”œâ”€â”€ default.tsx   # ëª¨ë‹¬ ì—†ëŠ” ê¸°ë³¸ í™”ë©´
â”‚   â”‚   â””â”€â”€ [id]/page.tsx # íŠ¹ì • ëª¨ë‹¬ ì—´ë¦´ ë•Œ
```

```typescript jsx
export default function InboxLayout({
  children,
  modal,
}: {
  children: React.ReactNode;
  modal: React.ReactNode;
}) {
  return (
    <div>
      {children}
      {modal}
    </div>
  );
}
```
ëŒ€ì¶© ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. ê·¸ëŸ¼ Reactì—ì„œëŠ” ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì„ê¹Œ?

ë¨¼ì € ê°„ë‹¨í•˜ê²Œ ë¼ìš°íŒ…ì„ êµ¬ì„±í•´ë³´ì

```typescript jsx
// App.tsx
import {createBrowserRouter, RouterProvider} from "react-router-dom";
import ListPage from "./routes/ListPage.tsx";
import DetailModal from "./components/DetailModal.tsx";

const router = createBrowserRouter([
    {
        path: '/list',
        element: <ListPage />,
        children: [
            {
                path: ':id',
                element: <DetailModal />,
            },
        ],
    },
]);

function App() {
    return <RouterProvider router={router} />;
}


export default App
```
/list/1 ë¡œ ì ‘ê·¼í–ˆì„ ë•Œ, createPortalë¡œ êµ¬ì„±í•œ ëª¨ë‹¬ì´ ì—´ë¦¬ê²Œí•˜ê³ , ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëª¨ë‹¬ì´ ë‹«íˆê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```typescript jsx
// ListPage.tsx
import {Outlet} from 'react-router-dom';
import useViewTransitionNavigate from "../hooks/useViewTransitionnavigate.ts";

export default function ListPage() {
    const navigate = useViewTransitionNavigate();

    return (
        <div>
            <h2>ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€</h2>
            <ul>
                {[1, 2, 3].map(id => (
                    <li key={id}>
                        <button onClick={() => navigate(`/list/${id}`)}>Item {id} ë³´ê¸°</button>
                    </li>
                ))}
            </ul>

            <Outlet />
        </div>
    );
}
```

ListPageì—ì„œëŠ” Outletì„ ì‚¬ìš©í•˜ì—¬ ë³‘ë ¬ ë¼ìš°íŒ…ì„ êµ¬í˜„í–ˆë‹¤.
ì—¬ê¸°ì„œ Outletì€ ì¤‘ì²© ë¼ìš°íŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì¸ë°, ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.
`<Outlet />`ì„ ì‚¬ìš©í•˜ì—¬ ListPageì˜ ìì‹ì¸ ëª¨ë‹¬ì„ ë Œë”ë§í•  ìˆ˜ ìˆë‹¤.

```typescript jsx
    children: [
        {
            path: ':id',
            element: <DetailModal />,
        },
    ]
````

```typescript jsx
// DetailModal.tsx
import {useParams} from 'react-router-dom';
import Modal from './Modal';
import useViewTransitionNavigate from "../hooks/useViewTransitionnavigate.ts";

export default function DetailModal() {
    const { id } = useParams();
    const navigate = useViewTransitionNavigate();

    return (
        <Modal onClose={() => navigate('/list')}>
            <h3>Item {id} ìƒì„¸</h3>
            <p>ì´ê±´ ëª¨ë‹¬ì…ë‹ˆë‹¤</p>
        </Modal>
    );
}
```

```typescript jsx
// useViewTransitionNavigate.tsx
import {useNavigate} from 'react-router-dom';

export default function useViewTransitionNavigate() {
    const navigate = useNavigate();

    return (to: string | number) => {
        if (typeof to === 'number') {
            return navigate(to);
        }

        if ('startViewTransition' in document) {
            (document).startViewTransition(() => navigate(to));
        } else {
            navigate(to);
        }
    };
}
```

ê°„ë‹¨í•œ hookì„ ë§Œë“¤ì–´ì„œ `startViewTransition`ì´ ì§€ì›ë˜ëŠ” ê²½ìš°ì—ë§Œ ì• ë‹ˆë©”ì´ì…˜ì„ ì ìš©í•˜ë„ë¡ í–ˆë‹¤.
View Transitions APIëŠ” DOM ë³€ê²½ì„ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” APIë¡œ, ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›í•˜ëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ëŒ€ë¶€ë¶„ í¬ë¡¬ê³„ì—´ì˜ ë¸Œë¼ìš°ì €ë§Œ ì§€ì›í•˜ê³ , ì•„ì§ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ê°€ ë§ì•„ì„œ ëª¨ë°”ì¼ í™˜ê²½ì˜ ì›¹ë·°ì—ì„œëŠ” ì‚¬ìš©í•˜ê¸° í˜ë“¤ê²ƒ ê°™ë‹¤.

View Transitions API ëŒ€í•´ì„œëŠ” ë‹¤ìŒì— ì‘ì„±í•˜ëŠ”ê±¸ë¡œí•˜ê³ ,, ìœ„ì²˜ëŸ¼ êµ¬í˜„í•´ì„œ ëª¨ë‹¬ì„ ë„ìš°ë©´ URLì´ /list/1ë¡œ ë³€ê²½ë˜ê³ , /list í˜ì´ì§€ì—ì„œ ëª¨ë‹¬ì´ ì—´ë¦¬ê²Œ ëœë‹¤.

<img src="/assets/blog/javaScript/parallel-routes.gif" width={300} height={300} alt="post image"/>

ì´ëŸ° ì‹ìœ¼ë¡œ ëª¨ë‹¬ì„ êµ¬í˜„í•˜ë©´ ì¢€ ë” ì•±ìŠ¤ëŸ¬ìš´ UXë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.
ë’¤ë¡œê°€ê¸°ì‹œì—ë„ ëª¨ë‹¬ì´ ë‹«íˆê³ , URLë„ ë³€ê²½ë˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìê°€ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ëª¨ë‹¬ì´ ë‹«íˆëŠ” ë™ì‘ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

1a:T3de5,
### ë“¤ì–´ê°€ë©°
ë‹¨ìˆœí•œ ìŠ¤í„°ë””ì—ì„œ ì‹œì‘í–ˆì§€ë§Œ, ì˜ˆë¹„ì°½ì—…íŒ¨í‚¤ì§€ì—ë„ ì„ ì •ë˜ë©° ì•„ì£¼ ì‘ì€ ìŠ¤íƒ€íŠ¸ì—…ì²˜ëŸ¼ ìš´ì˜í•˜ê²Œ ëœ ìŠ¤í„°ë””ë¥¼ íšŒê³ í•˜ë©° ëŠë‚€ ì ê³¼ ë°°ìš´ ì ì„ ì •ë¦¬í•´ë³´ë ¤ í•œë‹¤.

ìš°ë¦¬íŒ€ì€ ì´ˆê¸°ì— 9ëª…ì •ë„ë¡œ êµ¬ì„±ë˜ì—ˆê³ , íŒ€ì¥ì€ ëŒ€í•™ìƒì´ì—ˆìœ¼ë©°, ë‚˜ë¨¸ì§€ êµ¬ì„±ì›ì˜ ëŒ€ë¶€ë¶„ì´ ì§ì¥ì¸ì´ì—ˆë‹¤.

ê¸°íšì, ë””ìì´ë„ˆ, ë°±ì—”ë“œ, í”„ë¡ íŠ¸ ë“± ë‹¤ì–‘í•œ ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” íŒ€ì›ë“¤ì´ ëª¨ì—¬ í˜‘ì—…ì„ ì§„í–‰í–ˆìœ¼ë©°, ê±°ì˜ ìŠ¤íƒ€íŠ¸ì—…ê³¼ ìœ ì‚¬í•œ í˜•íƒœë¡œ ìš´ì˜ë˜ì—ˆë‹¤.

2ë…„ê°„ íœ´ì¼ì„ ì œì™¸í•˜ê³ ëŠ” ë§¤ì£¼ ë¹ ì§ì—†ì´ 1íšŒì”© ì •ê¸° íšŒì˜ë¥¼ ì§„í–‰í•˜ì˜€ë‹¤.

---

ì´ˆê¸° FEëŠ” nxë¥¼ ì´ìš©í•˜ì—¬ monorepoë¡œ êµ¬ì„±í•˜ì˜€ë‹¤.

Next.jsì„ ì´ìš©í•˜ì—¬ ì›¹ë·°ê¸°ë°˜ì˜ ì•±ì„ êµ¬ì„±í•˜ì˜€ê³ , ì•±ì€ react-nativeë¡œ ë¹Œë“œí•´ ë°°í¬í•˜ì˜€ë‹¤.

---

### ì›¹ë·°ëŠ” ë¶ˆí¸í–ˆë‹¤
ì›¹ë·°ì—ì„œì˜ ì œì•½ë“¤ì´ ë„ˆë¬´ ë§ë‹¤ê³  ëŠê»´ì¡Œë‹¤.
- ë””ë°”ì´ìŠ¤ì˜ GPSë¥¼ ë°›ì•„ì™€ ì‚¬ìš©ìì˜ ìœ„ì¹˜ë¥¼ ì›¹ë·°ë¡œ ì „ì†¡í•˜ì—¬ ì›¹ë·°ì—ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë³‘ì›ë“¤ì„ ê²€ìƒ‰í•˜ê¸°ë„ í–ˆê³ , í•´ë‹¹ ìœ„ì¹˜ë¥¼ ë§ˆì»¤ë¡œ ê·¸ë¦¬ê¸°ë„ í–ˆë‹¤.


ë˜í•œ ì•±ì—ì„œ ë°›ì€ ê¶Œí•œë“¤ì„ ì›¹ë·°ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•œ ëª¨ë“  ê³¼ì •ë“¤ì´ ê°œë°œì ì¸¡ë©´ì—ì„œ ë„ˆë¬´ ë¶ˆí¸í•˜ê²Œ ë‹¤ê°€ì™”ë‹¤.
<img src="/assets/blog/javaScript/web-react-native.png" width="100%" alt="ë¦¬ì•¡íŠ¸ì™€ ë¦¬ì•¡íŠ¸ë„¤ì´í‹°ë¸Œ ì°¨ì´"/>
ì´ë¯¸ì§€ ì¶œì²˜ : [toss](https://toss.tech/article/react-native-2024)
- ì•± ë¡œë”© ì†ë„ì™€ í˜ì´ì§€ ì „í™˜ ì†ë„ì— ìˆì–´ì„œë„, ì•±ì— ë¹„í•´ ì›¹ë·°ëŠ” ë„¤íŠ¸ì›Œí¬ê°€ ì¡°ê¸ˆë§Œ ëŠë ¤ì§„ë‹¤ê±°ë‚˜, html, css, jsë¥¼ ëª¨ë‘ ë‹¤ìš´ë°›ì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìì…ì¥ì—ì„œ ì•±ì´ êµ‰ì¥íˆ ëŠë¦¬ê²Œ ëŠê»´ì¡Œë‹¤.
- ë°°í¬ ë°©ì‹ê³¼ ë¹„ìš©ì ì¸ ì¸¡ë©´
    - ì´ˆê¸° MVPë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì›¹ë·°ê°€ ì¢‹ì§€ë§Œ, ì´í›„ì— ë³´ë‹¤ ì •êµí•œ ì•±ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì›¹ë·°ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤ê³  ëŠê¼ˆë‹¤.
    - ì›¹ë·°ëŠ” ë³„ë„ì˜ ë„ë©”ì¸ ë¹„ìš©ê³¼ í˜¸ìŠ¤íŒ…ë¹„ìš©ì´ ë”°ë¡œ ë“¤ê¸° ë•Œë¬¸ì—, ì¥ê¸°ì ìœ¼ë¡œ ë´¤ì„ë•Œ ì•±ì„ ë°°í¬í•˜ê¸° ìœ„í•´ì„œëŠ” ì›¹ë·°ë¥¼ ì‚¬ìš©í•˜ê¸°ë³´ë‹¤ëŠ” ì•±ì„ ê°œë°œí•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì´ë¼ê³  ëŠê»´ì¡Œë‹¤.
    - ì›¹ë³´ë‹¤ëŠ” ì•±ì„œë¹„ìŠ¤ê°€ ì£¼ë ¥ì´ì—ˆë‹¤.

---

### React Nativeë¡œì˜ ì „í™˜
ì›¹ë·°ë¥¼ ê³¼ê°íˆ ë²„ë¦¬ê³ , ìƒˆë¡­ê²Œ react-nativeë¡œ ì•±ì„ ê°œë°œí•˜ê¸°ë¡œ í–ˆë‹¤.

ë‹¤í–‰íˆ ì´ì „íšŒì‚¬ì—ì„œ react-nativeë¡œ ëª‡ê°€ì§€ ì•±ì„ ê°œë°œí•´ë³¸ ê²½í—˜ë„ìˆì—ˆê³ , ê°œì¸ì ìœ¼ë¡œ ì•± ê°œë°œì— ëŒ€í•´ ê´€ì‹¬ì´ ë§ì•˜ê¸° ë•Œë¬¸ì—, react-nativeë¡œì˜ ì „í™˜ì€ í° ì–´ë ¤ì›€ì´ ì—†ì—ˆë‹¤.
ëª‡ê°€ì§€ ê¸°ì–µë‚˜ëŠ” ì ë“¤ì„ ì •ë¦¬í•´ë³´ìë©´
- íŠ¹íˆ ì§€ë„ ì´ìŠˆê°€ ì»¸ë‹¤. ì¹´ì¹´ì˜¤, ë„¤ì´ë²„ ì§€ë„ì˜ ê³µì‹ SDKê°€ ë¶€ì¬í–ˆê³ , ì§€ì› ê°€ëŠ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ëŒ€ë¶€ë¶„ ì—…ë°ì´íŠ¸ê°€ ì¤‘ë‹¨ëœ ìƒíƒœì˜€ë‹¤. ê·¸ ì¤‘ í•œë¶„ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ https://github.com/mym0404/react-native-naver-map ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.
    - í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” v2 ì´ìƒì€ react-nativeì— ìƒˆë¡œìš´ì•„í‚¤í…ì²˜ë§Œ ì§€ì›í•˜ì˜€ê³ , v1ì€ í´ëŸ¬ìŠ¤í„°ë¥¼ ì§€ì›í•˜ì§€ ì•Šì•„ í´ëŸ¬ìŠ¤í„°ë§Œ ë”°ë¡œ êµ¬í˜„í•˜ê¸°ë¡œ í–ˆë‹¤.
    - í´ëŸ¬ìŠ¤í„°ë¥¼ ì–´ë–¤ì‹ìœ¼ë¡œ êµ¬í˜„í• ì§€ ì„œì¹˜í•´ë³´ë‹¤ê°€ k-meansì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œ react-native-maps ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ í´ëŸ¬ìŠ¤í„°ë§ì„ êµ¬í˜„í•œ ê²ƒì„ ë³´ê³ , í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¸ê³ í•˜ì—¬ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤.
```typescript
export const kMeansClustering = (
  points: { latitude: number; longitude: number }[],
  k: number,
  maxIterations: number = 100,
  mergeDistance: number = 500, // ë³‘í•© ê±°ë¦¬ (ë¯¸í„°)
): { latitude: number; longitude: number; points: { latitude: number; longitude: number }[] }[] => {
  if (points.length === 0 || k <= 0) {
    throw new Error('Invalid input: No points or invalid number of clusters.');
  }

  // ì´ˆê¸° ì¤‘ì‹¬ì  ëœë¤ ì„ íƒ
  const centroids = Array.from(new Set(points))
    .sort(() => Math.random() - 0.5)
    .slice(0, k)
    .map(point => ({
      latitude: point.latitude,
      longitude: point.longitude,
    }));

  let clusters: { latitude: number; longitude: number; points: { latitude: number; longitude: number }[] }[] = [];
  let iteration = 0;

  while (iteration < maxIterations) {
    // í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™”
    clusters = centroids.map(centroid => ({
      ...centroid,
      points: [],
    }));

    // ê° í¬ì¸íŠ¸ë¥¼ ê°€ì¥ ê°€ê¹Œìš´ ì¤‘ì‹¬ì ì— í• ë‹¹
    points.forEach(point => {
      let closestIndex = 0;
      let minDistance = Infinity;

      centroids.forEach((centroid, index) => {
        const distance = calculateDistance(point.latitude, point.longitude, centroid.latitude, centroid.longitude);
        if (distance < minDistance) {
          minDistance = distance;
          closestIndex = index;
        }
      });

      clusters[closestIndex].points.push(point);
    });

    // ë¹ˆ í´ëŸ¬ìŠ¤í„° ì²˜ë¦¬ (ì¬ë°°ì¹˜)
    clusters.forEach((cluster, index) => {
      if (cluster.points.length === 0) {
        const largestCluster = clusters.reduce((max, current) =>
          current.points.length > max.points.length ? current : max,
        );
        const pointToMove = largestCluster.points.pop();
        if (pointToMove) {
            clusters[index].points.push(pointToMove);
        }
      }
    });

    // ìƒˆë¡œìš´ ì¤‘ì‹¬ì  ê³„ì‚°
    const newCentroids = clusters.map(cluster => {
      const count = cluster.points.length;
      if (count === 0) {
          return cluster;  // ë¹ˆ í´ëŸ¬ìŠ¤í„°ëŠ” ê¸°ì¡´ ì¤‘ì‹¬ ìœ ì§€
      }

      const avgLat = cluster.points.reduce((sum, point) => sum + point.latitude, 0) / count;
      const avgLon = cluster.points.reduce((sum, point) => sum + point.longitude, 0) / count;

      return { latitude: avgLat, longitude: avgLon };
    });

    // ì¤‘ì‹¬ì  ì—…ë°ì´íŠ¸
    centroids.splice(0, centroids.length, ...newCentroids);

    iteration++;
  }

  // í´ëŸ¬ìŠ¤í„°ì˜ í¬ì¸íŠ¸ê°€ 1ê°œì¸ ê²½ìš° ì²˜ë¦¬
  clusters = clusters.map(cluster => {
    if (cluster.points.length === 1) {
      const singlePoint = cluster.points[0];
      const nearbyPoints = points.filter(point => {
        const distance = calculateDistance(
          singlePoint.latitude,
          singlePoint.longitude,
          point.latitude,
          point.longitude,
        );
        return distance <= mergeDistance && point !== singlePoint;
      });

      // ì£¼ë³€ í¬ì¸íŠ¸ ì¶”ê°€
      cluster.points.push(...nearbyPoints);

      // ë³‘í•© í›„ ì¤‘ì‹¬ì  ì¬ê³„ì‚°
      cluster.latitude = cluster.points.reduce((sum, point) => sum + point.latitude, 0) / cluster.points.length;
      cluster.longitude = cluster.points.reduce((sum, point) => sum + point.longitude, 0) / cluster.points.length;
    }
    return cluster;
  });

  return clusters;
};
```
`1. ì´ˆê¸° ì¤‘ì‹¬ì (Centroids) ì„¤ì •`
- ì…ë ¥ë°›ì€ í¬ì¸íŠ¸ ì¤‘ ëœë¤ìœ¼ë¡œ kê°œì˜ ì¤‘ì‹¬ì ì„ ì„ íƒ

`2. í¬ì¸íŠ¸ í• ë‹¹`
- ê° í¬ì¸íŠ¸ë¥¼ ê°€ì¥ ê°€ê¹Œìš´ ì¤‘ì‹¬ì ì— í• ë‹¹

`3. ë¹ˆ í´ëŸ¬ìŠ¤í„° ì²˜ë¦¬`
- íŠ¹ì • ì¤‘ì‹¬ì ì— ì•„ë¬´ í¬ì¸íŠ¸ë„ í• ë‹¹ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸°ë•Œë¬¸ì—, ê°€ì¥ í° í´ëŸ¬ìŠ¤í„°ì—ì„œ í¬ì¸íŠ¸ë¥¼ í•˜ë‚˜ ê°€ì ¸ì™€ì„œ ë¹ˆ í´ëŸ¬ìŠ¤í„°ì— ë°°ì¹˜

`4. ì¤‘ì‹¬ì  ì¬ê³„ì‚°`
- ê° í´ëŸ¬ìŠ¤í„°ì˜ ì¤‘ì‹¬ì  ìœ„ì¹˜ë¥¼ í´ëŸ¬ìŠ¤í„°ì— ì†í•œ í¬ì¸íŠ¸ë“¤ì˜ í‰ê·  ì¢Œí‘œë¡œ ë‹¤ì‹œ ê³„ì‚°

`5. ë°˜ë³µ`
- ì¤‘ì‹¬ì  ìœ„ì¹˜ê°€ ê±°ì˜ ë³€í•˜ì§€ ì•Šì„ ë•Œê¹Œì§€ ë˜ëŠ” ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜ê¹Œì§€ ì´ ê³¼ì •ì„ ë°˜ë³µ

`6. í¬ì¸íŠ¸ê°€ 1ê°œì¸ í´ëŸ¬ìŠ¤í„° ì²˜ë¦¬`
- í´ëŸ¬ìŠ¤í„°ì— í¬ì¸íŠ¸ê°€ í•˜ë‚˜ë¿ì¸ ê²½ìš°, ì¼ì • ê±°ë¦¬ ë‚´ ë‹¤ë¥¸ í¬ì¸íŠ¸ë¥¼ ì¶”ê°€

---

### ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜
<img src="/assets/blog/javaScript/medical-animation.gif" width="300px" alt="ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜"/>

```typescript jsx
  const scrollY = useSharedValue(0);
  const { top, right, left, bottom } = useSafeAreaInsets();
  const viewRef = useRef<FlatList>(null);

  const scrollHandler = useAnimatedScrollHandler({
    onScroll: event => {
      scrollY.value = event.contentOffset.y;
    },
  });

  const petWrapperStyle = useAnimatedStyle(() => {
    const translateY = interpolate(scrollY.value, [0, 100], [0, -100], Extrapolation.CLAMP);
    const opacity = interpolate(scrollY.value, [0, 100], [1, 0], Extrapolation.CLAMP);
    const height = interpolate(scrollY.value, [0, 180], [180, 0], Extrapolation.CLAMP);

    return {
      transform: [{ translateY: translateY }],
      opacity,
      height: withTiming(height, {
        duration: 50,
      }),
      overflow: 'hidden',
      useNativeDriver: true,
    };
  });

<>
      <Animated.View
        style={[
          styles.petWrapper,
          petWrapperStyle,
          {
            paddingTop: top,
            paddingLeft: left,
            paddingRight: right,
          },
        ]}
      >
        {...}
      </Animated.View>

      <View style={{ backgroundColor: color.white['500'] }}>
        {...}
      </View>

      <Animated.FlatList
        ref={viewRef}
        scrollEventThrottle={16}
        onScroll={scrollHandler}
        contentContainerStyle={[styles.listWrapper]}
        data={hospitalData}
        keyExtractor={keyExtractor}
        renderItem={renderItem}
        stickyHeaderHiddenOnScroll={false}
        ListHeaderComponent={
          ...
        }
        ListFooterComponent={
          ...
        }
        onEndReached={loadMore}
        onEndReachedThreshold={0.5}
        ListEmptyComponent={
          ...
        }
      />
    </>
```
ìœ„ì™€ ê°™ì€ êµ¬ì¡°ì—ì„œ ìŠ¤í¬ë¡¤ì„ ë‚´ë ¸ì„ë•Œ
```typescript jsx
      <View style={{ backgroundColor: color.white['500'] }}>
        {...}
      </View>
```

í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë§Œ ìµœìƒë‹¨ìœ¼ë¡œ ë°°ì¹˜í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì‚¬ë¼ì§€ê²Œ í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í–ˆë‹¤.

ë¨¼ì €, useSharedValue(0)ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì í•˜ê³ , ìŠ¤í¬ë¡¤ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ scrollHandlerê°€ í˜¸ì¶œë˜ë©´ì„œ, í˜„ì¬ì˜ ìŠ¤í¬ë¡¤ ê°’ì„ scrollY.valueì— ì €ì¥í–ˆë‹¤.

ì €ì¥ëœ scrollYì— ë”°ë¼ ì‚¬ë¼ì§€ê²Œ í•´ì•¼í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ìŠ¤íƒ€ì¼ì„ useAnimatedStyleì„ ì‚¬ìš©í•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ì£¼ì—ˆë‹¤.

```typescript jsx
  const petWrapperStyle = useAnimatedStyle(() => {
    const translateY = interpolate(scrollY.value, [0, 100], [0, -100], Extrapolation.CLAMP);
    const opacity = interpolate(scrollY.value, [0, 100], [1, 0], Extrapolation.CLAMP);
    const height = interpolate(scrollY.value, [0, 180], [180, 0], Extrapolation.CLAMP);

    return {
      transform: [{ translateY: translateY }],
      opacity,
      height: withTiming(height, {
        duration: 50,
      }),
      overflow: 'hidden',
      useNativeDriver: true,
    };
  });
```

react-native-reanimatedì˜ interpolateë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì— ë”°ë¼ translateY, opacity, heightë¥¼ ì¡°ì •í•˜ì˜€ë‹¤.

- translateY: ìŠ¤í¬ë¡¤ì´ 0 ~ 100ì¼ ë•Œ ìœ„ë¡œ ìµœëŒ€ -100ë§Œí¼ ì´ë™.
- opacity: ìŠ¤í¬ë¡¤ì´ 0 ~ 100ì¼ ë•Œ íˆ¬ëª…ë„ê°€ 1 â†’ 0ìœ¼ë¡œ ë³€í™”.
- height: ìŠ¤í¬ë¡¤ì´ 0 ~ 180ì¼ ë•Œ ë†’ì´ê°€ 180 â†’ 0ìœ¼ë¡œ ì¤„ì–´ë“¬.

ê²°ê³¼ì ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ìœ„ë¡œ ìŠ¤í¬ë¡¤í•˜ë©´, ì˜ì—­ì€ ì ì  ìœ„ë¡œ ì´ë™í•˜ë©° íˆ¬ëª…í•˜ê²Œ ì‚¬ë¼ì§€ê³  ë†’ì´ë„ ì¶•ì†Œëœë‹¤.

### 1ì°¨ MVP ë°°í¬ì™€ ì˜ˆë¹„ì°½ì—…íŒ¨í‚¤ì§€ ì„ ì •
ë³‘ì›ì§€ë„, ë³‘ì›ìƒì„¸í˜ì´ì§€, ê°€ê²©ì •ë³´ì™€ ë¦¬ë·° ë“±ì„ ì œê³µí•˜ëŠ” ì•±ì„ ê°œë°œí•˜ì—¬ 1ì°¨ MVPë¥¼ ë°°í¬í•˜ì˜€ë‹¤.

ì´ë•Œ ì˜ˆë¹„ì°½ì—…íŒ¨í‚¤ì§€ì— ì„ ì •ë˜ì—ˆê³ , ì•½ 5ì²œë§Œì› ì´ìƒì˜ ì§€ì›ê¸ˆì„ ë°›ì„ ìˆ˜ ìˆì—ˆë‹¤.

í•´ë‹¹ê¸ˆì•¡ì€ ë§ˆì¼€íŒ…, ì¸ê±´ë¹„, ì„œë²„ë¹„ìš©, ê¸°íƒ€ ì‘ì—… íˆ´ ë¹„ìš© ë“±ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆë‹¤.

---

### ì˜ˆë¹„ì°½ì—…íŒ¨í‚¤ì§€ ì´í›„: 2ì°¨, 3ì°¨ ì—…ë°ì´íŠ¸
ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ 9ëª… ì •ë„ì—ì„œ ì‹œì‘í–ˆë˜ íŒ€ì›ì€ 5ëª…ê¹Œì§€ ì¤„ê²Œë˜ì—ˆë‹¤. ë‚˜ëŠ” ê³„ì† í‡´ê·¼ í›„ íŒŒíŠ¸ë¡œ ì‘ì—…ì„ í–ˆê³ , í’€íƒ€ì„ìœ¼ë¡œ ì‘ì—…ì„ í•˜ì‹¤ ì¸ì›ë“¤ì´ ìƒˆë¡œ í•©ë¥˜í•˜ì‹  ì‹œê¸°ì´ê¸°ë„ í–ˆë‹¤.

1ì°¨ ë•Œë³´ë‹¤ëŠ” ì¢€ ë” ì°½ì—…ì˜ í˜•íƒœë¡œ ë°”ë€Œì—ˆê³  ë‹¤ë¥¸ êµ¬ì„±ì›ë“¤ì˜ ì±…ì„ê°ê³¼ ëª°ì…ë„ê°€ ë” í•„ìš”í–ˆë˜ ì‹œê¸°ì˜€ë˜ê²ƒ ê°™ë‹¤.

2ì°¨ì™€ 3ì°¨ì—ëŠ” ì•±ì˜ ë””ìì¸ì„ ë¦¬ë‰´ì–¼í•˜ê³ , ë¡œê·¸ì¸ê³¼ ìœ ì €ì˜ í«ì •ë³´ ë“±ë¡, ì§„ë£Œë³„ë¡œ ë³‘ì›ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” ë¦¬ìŠ¤íŠ¸, ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ë¥¼ ì´ìš©í•œ ìƒí’ˆíŒë§¤, ë³‘ì›ì˜ˆì•½ ë“± ë§ì€ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•˜ê²Œ ë˜ì—ˆë‹¤.

<div style={{
    display: 'flex',
    justifyContent: 'space-between',
}}>
    <div>
        <h3>as-is</h3>
        <img src="/assets/blog/javaScript/old-main.png" alt="êµ¬ ë©”ì¸í˜ì´ì§€"/>
    </div>
    <div>
        <h3>to-be</h3>
        <img src="/assets/blog/javaScript/new-main.png" alt="ìƒˆë¡œìš´ ë©”ì¸í˜ì´ì§€"/>
    </div>
</div>

---

### SEOë¥¼ ìœ„í•œ ì›¹ì‚¬ì´íŠ¸
2, 3ì°¨ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ë§ˆì¼€íŒ…ì— í•„ìš”í•œ ì›¹ì‚¬ì´íŠ¸ê°€ í•„ìš”í–ˆë‹¤.

ì›¹ì‚¬ì´íŠ¸ëŠ” ì•±ë‚´ì— ê¸°ëŠ¥ ì¤‘ ëª‡ê°€ì§€ë§Œ ì œê³µí•˜ê¸°ë¡œ í–ˆê³ , ê²€ìƒ‰ì—”ì§„ì— ë…¸ì¶œë˜ëŠ” ê²ƒê³¼, ë§ˆì¼€íŒ…ì„ ìœ„í•œ ëœë”©í˜ì´ì§€ë¡œ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

Next.jsë¡œ ëŒì•„ê°€ì„œ ê°œë°œí•˜ëŠ”ë° SEOì— ìµœëŒ€í•œ ì´ˆì ì„ ë§ì¶”ì–´ ì‘ì—…ì„ ì§„í–‰í–ˆë‹¤.

<img src="/assets/blog/javaScript/lighthouse.png" alt="lighthouse ì ìˆ˜"/>

ì´ë•Œ ì•„ë§ˆ SEOì— ëŒ€í•œ ê´€ì‹¬ì´ ë§ì´ ìƒê²¼ë˜ê²ƒ ê°™ë‹¤. meta íƒœê·¸ì™€ og íƒœê·¸, sitemap.xml, robots.txt ë“±ì„ ì„¤ì •í•˜ê³ , SSRê³¼ SSGë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ì˜€ë‹¤.

lighthouse ì ìˆ˜ë¥¼ ìµœëŒ€í•œ ë†’ì´ê¸° ìœ„í•´ ë…¸ë ¥í–ˆê³ , ì‹¤ì œë¡œë„ ê²€ìƒ‰ì—”ì§„ì— ì˜ ë…¸ì¶œë˜ëŠ”ì§€ í™•ì¸í•˜ê¸°ìœ„í•´ êµ¬ê¸€ ì„œì¹˜ì½˜ì†”, ë„¤ì´ë²„ ì„œì¹˜ì–´ë“œë°”ì´ì €ì— ë“±ë¡í•˜ì—¬ í™•ì¸í•˜ì˜€ê³ , êµ¬ê¸€ ì• ë„ë¦¬í‹±ìŠ¤ì™€ íƒœê·¸ë§¤ë‹ˆì €ë¥¼ ì´ìš©í•˜ì—¬ ë°©ë¬¸ì ìˆ˜ì™€ í˜ì´ì§€ë·° ë“±ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

---

### 2ë…„ì˜ ê³¼ì • ì†ì—ì„œ ì–»ì€ ê²ƒê³¼ ì•„ì‰¬ìš´ ì 
ì‘ì€ ìŠ¤í„°ë””ë¡œ ì‹œì‘í•œ ëª¨ì„ì´ ì´ë ‡ê²Œ ê¸´ ì‹œê°„ë™ì•ˆ ì§€ì†ë˜ëŠ”ê²Œ ì‰½ì§€ ì•Šë‹¤ëŠ”ê±¸ ì•Œê³ ìˆë‹¤. ì´ì „ì—ë„ ë¹„ìŠ·í•œ ìŠ¤í„°ë””ë¥¼ ë§ì´ í•´ë´¤ì§€ë§Œ, ì—¬ëŸ¬ ì‚¬ì •ë“¤ë¡œ ì¸í•´ ì¤‘ê°„ì— íì§€ë¶€ì§€ë˜ê±°ë‚˜, íŒ€ì›ë“¤ì´ ë°”ë€ŒëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤.

í•˜ì§€ë§Œ, íŒ€ì›ë“¤ ì„œë¡œê°€ ê°ìì˜ ìœ„ì¹˜ì—ì„œ ìµœì„ ì„ ë‹¤í•˜ê³ , ì„œë¡œë¥¼ ì¡´ì¤‘í•˜ë©° ë°°ë ¤í•˜ëŠ” ëª¨ìŠµì´ ë„ˆë¬´ ì¢‹ì•˜ë‹¤. íŠ¹íˆ, íŒ€ì›ë“¤ì´ ê°ìì˜ ì—­í• ì„ ì¶©ì‹¤íˆ ìˆ˜í–‰í•˜ê³ , ì„œë¡œì˜ ì˜ê²¬ì„ ì¡´ì¤‘í•˜ë©° í˜‘ì—…í•˜ëŠ” ëª¨ìŠµì´ ì¸ìƒì ì´ì—ˆë‹¤.

ê¸°ìˆ ì  ì„±ì¥ì€ ë¬¼ë¡ ì´ê³  ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì ì—ì„œë„ ë§ì€ ê²ƒì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆë‹¤.

<div style={{
    display: 'flex',
    width: '100%',
}}>
    <div style={{
        display: 'flex',
        width: '100%',
        flex: 1
    }}>
        <img src="/assets/blog/javaScript/gift-1.JPG" width='50%' alt="ì„ ë¬¼1"/>
        <img src="/assets/blog/javaScript/gift-2.JPG" width='50%' alt="ì„ ë¬¼2"/>
    </div>
    <div style={{
        display: 'flex',
        width: '100%',
        flex: 1,

    }}>
        <img src="/assets/blog/javaScript/gift-3.JPG" width='50%' alt="ì„ ë¬¼3"/>
        <img src="/assets/blog/javaScript/gift-4.JPG" width='50%' alt="ì„ ë¬¼4"/>
    </div>
</div>

<p>ë§¤ë…„ ëª…ì ˆë§ˆë‹¤ ê³¼ì¼ì„ ë³´ë‚´ì£¼ì‹œëŠ” íŒ€ì¥ë‹˜</p>



ì•„ì‰¬ì› ë˜ ì ì€ ì´ˆë°˜ì— ê¸°ìˆ  ìŠ¤íƒ ì„ íƒì— ëŒ€í•œ ê²€ì¦ê³¼, ì•„ë¬´ë˜ë„ íŒ€ì›ë“¤ ëª¨ë‘ í‡´ê·¼ í›„ ë¹ ë“¯í•œ ì‹œê°„ì— ì‘ì—…ì„ í•˜ë‹¤ë³´ë‹ˆ, ê¹Šê²Œ ë‚˜ëˆ„ì§€ ëª»í•œ ë¦¬ë·°ë‚˜ íšŒê³  ë“± ì´ì—ˆë‹¤.

ì•ìœ¼ë¡œëŠ” ìŠ¤í„°ë””ë¥¼ ì§„í–‰í•˜ëŠ” ê³¼ì •ë™ì•ˆ ê¸°ìˆ ì ì¸ íšŒê³ ì™€ ì´ìŠˆ ê¸°ë¡, ê³ ë¯¼í–ˆë˜ ë¶€ë¶„ë“¤ì„ ì •ë¦¬í•˜ëŠ” ì‹œê°„ì„ ê°€ì§ˆ ê²ƒì´ë‹¤.

---

25ë…„ë„ ì§€ì›ì‚¬ì—…ì€ ì•„ì‰½ê²Œë„ ë–¨ì–´ì¡Œë‹¤. ë‚®ì€ ì§„ì…ì¥ë²½, ë°ì´í„° ìˆ˜ì§‘ í•œê³„, êµ¬ì¡°ê°€ ë¹„ìŠ·í•œ í”Œë«í¼ì— ì†ìµë¶„ê¸° ë‹¬ì„± ì‹¤íŒ¨, ë‚®ì€ ì¬ë°©ë¬¸ ì£¼ê¸° ë“±ì´ ì´ìœ ì˜€ë‹¤.

í˜„ì¬ ë‚´ë¶€ì—ì„œëŠ” ë‹¤ì–‘í•œ ì˜ê²¬ë“¤ì´ ì˜¤ê°€ê³ ìˆë‹¤. ì•„ë¬´ë˜ë„ í”„ë¡œì íŠ¸ë¥¼ ìœ ì§€í•˜ëŠ”ë°ëŠ” ë¹„ìš©ì ì¸ ë¬¸ì œê°€ ê°€ì¥ í¬ê¸°ë•Œë¬¸ì—, ìˆ˜ìµëª¨ë¸ ê°œì„ , ë‹¤ë¥¸ ì‹ ì‚¬ì—… ì•„ì´í…œë“¤ì„ ê³ ë¯¼í•˜ê³  ìˆë‹¤.
1b:T1750,
### ë”¥ë§í¬
- ì›¹ë§í¬ URLì´ ì‚¬ìš©ìë¥¼ íŠ¹ì • ì›¹ì‚¬ì´íŠ¸ë¡œ ì´ë™ì‹œí‚¤ëŠ” ê²ƒì²˜ëŸ¼, ë”¥ë§í¬ëŠ” ì‚¬ìš©ìë¥¼ íŠ¹ì • ì•±ì´ë‚˜ ì•±ì˜ ì›í•˜ëŠ” í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ë„ë¡ ìœ ë„í•˜ëŠ” ë§í¬ì´ë‹¤.

### ë”¥ë§í¬ ìœ í˜•
<div>
    <img style={{
        margin: 0
    }} src="/assets/blog/javaScript/deep-link-2.png" width="100%" alt="post image"/>
    <p style={{
        margin: 0,
        textAlign: "center"
    }}>[ì¶œì²˜ tosspayments](https://docs.tosspayments.com/resources/glossary/deep-link)</p>
</div>

- ë”¥ë§í¬ëŠ” AOS, IOS ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ì»¤ìŠ¤í…€ ìŠ¤í‚´ì€ `ì•± ë§í¬`, `URI ìŠ¤í‚´`ìœ¼ë¡œ ë¶ˆë¦¬ê¸°ë„ í•œë‹¤.

### ë”¥ë§í¬ êµ¬í˜„
- ì§„í–‰ì¤‘ì¸ ì‚¬ì´ë“œí”„ë¡œì íŠ¸ì—ì„œëŠ” SEOë¥¼ ìœ„í•œ ì›¹ì‚¬ì´íŠ¸ì™€ ì•±ì„ ì—°ê²°í•˜ê¸° ìœ„í•´ ë”¥ë§í¬ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤.

## 1. ì›¹ì—ì„œ ì•±ìœ¼ë¡œ ì´ë™

```tsx
const useAppOpen = () => {
  const [appOpened, setAppOpened] = useState(false);
  const { os } = useFetchCookie();
  const router = useRouter();

  useVisibilityChange({
    onVisible: () => setAppOpened(true),
    onHidden: () => setAppOpened(false),
  });

  const handleAppOpen = ({ appScheme }: { appScheme: string }) => {
    router.replace(
      os === 'ios'
        ? `${APP_SCHEME}${appScheme}`
        : `intent://${appScheme}#Intent;scheme=myapp;package=com.myapp.app;end;`,
    );

    setTimeout(() => {
      if (!appOpened) {
        window.location.href =
          os === 'ios' ? APPLE_STORE_URL : GOOGLE_PLAY_STORE_URL;
      }
    }, 500);
  };

  return {
    handleAppOpen,
  };
};

export default useAppOpen;
```
ì›¹ì—ì„œëŠ” ìš°ì„  `os`ë¥¼ ì €ì¥í–ˆê³ , `os`ë³„ë¡œ ë‹¤ë¥¸ ê²½ë¡œë¥¼ ì§€ì •í–ˆë‹¤.

ios ì—ì„œëŠ” `myapp://`ë¡œ ë°”ë¡œ `Deep Link`ë¥¼ ì´ìš©í•´ ì´ë™í•˜ê³ , aosì—ì„œëŠ” `intent://`ë¡œ ì‹œì‘í•˜ëŠ” `IntentìŠ¤í‚´`ì„ ì‚¬ìš©í•´ ì„œë¡œ ë‹¤ë¥¸ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤.

ê·¸ë¦¬ê³  ë”¥ë§í¬ì— ì•±ì´ ì—´ë¦¬ì§€ ì•Šìœ¼ë©´ `setTimeout`ì„ ì´ìš©í•´ ì•±ìŠ¤í† ì–´ë¡œ ì´ë™í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤.

`setTimeout`ì„ ì‚¬ìš©í•œ ì´ìœ ëŠ” ì•±ì´ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´, ë¸Œë¼ìš°ì €ëŠ” ì¦‰ì‹œ ì•±ì„ ì‹¤í–‰í•˜ê³ , ë°˜ëŒ€ë¡œ ì•±ì´ ì„¤ì¹˜ë˜ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ëŸ° ë³€í™”ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.
ì´ ìƒíƒœë¥¼ ê°ì§€í•˜ê¸°ìœ„í•´ì„œ 500msì˜ ì‹œê°„ë™ì•ˆ ì•±ì´ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•±ìŠ¤í† ì–´ë¡œ ì´ë™í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤.

## 2. ì•±ì—ì„œ ë§í¬ ì´ë™

### AOS

```xml
// android/app/src/main/AndroidManifest.xml

    <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data android:scheme="myapp" />
    </intent-filter>
```
ìœ„ ê²½ë¡œì—ì„œ `scheme`ì„ `myapp`ë¡œ ì§€ì •í•´ì£¼ë©´ ëœë‹¤.

### IOS

```
// ios/MyApp/Info.plist

<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLName</key>
        <string>com.myapp.app</string>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>myapp</string>
        </array>
    </dict>
</array>
```

`CFBundleURLSchemes`ì— `myapp`ì„ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.


---

### react-navigation

í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” `@react-navigation/native` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ, `NavigationContainer`ì—ì„œ ì§€ì›í•˜ëŠ” `linking props`ì‚¬ìš©í•´ ë”¥ë§í¬ë¥¼ êµ¬í˜„í–ˆë‹¤.

```tsx
// App.tsx

{...}
<NavigationContainer
  linking={linkingConfig}
  ref={navigationRef}
  {...}
>
    {...}
</NavigationContainer>
{...}

```

```tsx
// ../linkingConfig.ts

export const linkingConfig: LinkingOptions<NavigationProps> = {
  prefixes: ['myapp://'],
  config: {
    screens: {
      [RootNavigatorName.rootTab]: {
        screens: {
          [TabNavigatorName.HOME_TAB]: {
            path: 'open',
            screens: {
              [StackNavigatorName.HOME_SCREEN]: '',
            },
          },
          [TabNavigatorName.ECOMMERCE_TAB]: {
            path: 'ecommerce',
            screens: {
              [StackNavigatorName.ECOMMERCE_SCREEN]: '',
            },
          },
        },
      },
      [StackNavigatorName.AUTH_ONBOARDING_SCREEN]: 'onboarding',
      [StackNavigatorName.AUTH_SCREEN]: 'auth',
    },
  },
  {...}
};
```
ë¨¼ì € `prefixes`ì— `myapp://`ì„ ì¶”ê°€í•´ì£¼ê³ , `screens`ì— ê° ìŠ¤í¬ë¦°ì— ë“±ë¡í•œ ê²½ë¡œë“¤ì„ `path`ë¡œ ì§€ì •í•´ì£¼ë©´ ëœë‹¤.

```tsx
  async getInitialURL() {
    const url = await Linking.getInitialURL();

    if (url) {
      const redirectUrl = await handleGetUserInfo();
      return redirectUrl || url;
    }
  },
```
`getInitialURL`ì„ ì´ìš©í•´ ì•±ì´ ì²˜ìŒ ì‹¤í–‰ë  ë•Œ, ë”¥ë§í¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆë‹¤.
ì—¬ê¸°ì„œ `handleGetUserInfo` í•¨ìˆ˜ëŠ” ì•±ì´ ë”¥ë§í¬ë¥¼ í†µí•´ ì§„ì…í–ˆì„ ê²½ìš° ìŠ¤í”Œë˜ì‰¬ìŠ¤í¬ë¦°ì„ ê±°ì¹˜ì§€ì•Šì•„, ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì™€ ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

```tsx
  subscribe(listener) {
    const onReceiveURL = async (event: { url: any }) => {
      if (event.url) {
        const redirectUrl = await handleGetUserInfo();
        listener(redirectUrl || event.url);
      }
    };

    const linkingListener = Linking.addEventListener('url', onReceiveURL);
    const appStateListener = AppState.addEventListener('change', async nextAppState => {
      if (nextAppState === 'active') {
        const url = await Linking.getInitialURL();

        if (url) {
          const redirectUrl = await handleGetUserInfo();
          listener(redirectUrl || url);
        }
      }
    });

    return () => {
      linkingListener.remove();
      appStateListener.remove();
    };
  },
```
`subscribe`ë¥¼ ì´ìš©í•´ ì•±ì´ ì‹¤í–‰ì¤‘ì¼ ë•Œ, ë”¥ë§í¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆë‹¤.

---

- ì•±ì´ ì²˜ìŒ ì‹¤í–‰ë  ë•Œ : `getInitialURL`ì„ ì´ìš©í•´ ë”¥ë§í¬ ì²˜ë¦¬
- ì•±ì´ ë°±ê·¸ë¼ìš´ë“œ -> í¬ê·¸ë¼ìš´ë“œ ì „í™˜ë  ë•Œ : `subscribe`ì— `Appstate`ë¥¼ ì´ìš©í•´ ë”¥ë§í¬ ì²˜ë¦¬
- ì•±ì´ ì‹¤í–‰ì¤‘ì¼ ë•Œ : `subscribe`ì— `Linking`ì„ ì´ìš©í•´ ë”¥ë§í¬ ì²˜ë¦¬
1c:T6a2,
ì›¹ í˜ì´ì§€ê°€ í˜„ì¬ ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.

`document.visibilityState`ë¥¼ ì‚¬ìš©í•˜ë©´ í˜ì´ì§€ê°€ í˜„ì¬ ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

`document.visibilityState`ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒíƒœë¥¼ ê°€ì§„ë‹¤.

- 'visible' : í˜ì´ì§€ ë‚´ìš©ì€ ì ì–´ë„ ë¶€ë¶„ì ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ ì´ëŠ” í˜ì´ì§€ê°€ ìµœì†Œí™” ë˜ì§€ ì•Šì€ ì°½(ë¸Œë¼ìš°ì €)ì—ì„œì˜ ì„ íƒëœ íƒ­ ì„ ì˜ë¯¸

- 'hidden' : í˜ì´ì§€ ë‚´ìš©ì€ ì‚¬ìš©ìì—ê²Œ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤. ì‹¤ì œë¡œ ì´ëŠ” documentê°€ background-tap(ë‹¤ë¥¸ íƒ­)ì´ê±°ë‚˜, ìµœì†Œí™” ëœ ì°½ì˜ ì¼ë¶€ì´ê±°ë‚˜, OS í™”ë©´ ì ê¸ˆì´ í™œì„± ìƒíƒœì„ì„ ì˜ë¯¸

```jsx
if (document.visibilityState === 'visible') {
    // í˜ì´ì§€ê°€ ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ” ìƒíƒœ
} else {
    // í˜ì´ì§€ê°€ ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ ì•ŠëŠ” ìƒíƒœ
}
```

```jsx
import { useEffect } from 'react';

interface UseVisibilityChangeProps {
  onVisible: () => void;
  onHidden: () => void;
  dependencies?: unknown[];
}

const useVisibilityChange = ({
  onVisible,
  onHidden,
  dependencies = [],
}: UseVisibilityChangeProps) => {
  useEffect(() => {
    const onVisibilityChange = () => {
      document.visibilityState === 'visible' ? onVisible() : onHidden();
    };

    document.addEventListener('visibilitychange', onVisibilityChange);
    return () => {
      document.removeEventListener('visibilitychange', onVisibilityChange);
    };
  }, [onHidden, onVisible, ...dependencies]);
};

export default useVisibilityChange;
```

ì›¹ í˜ì´ì§€ ì´íƒˆì„ ê°ì§€í•  ìˆ˜ ìˆê³ , ëª¨ë°”ì¼ ì›¹ë·°ì—ì„œ ì•±ì˜ ë°±ê·¸ë¼ìš´ë“œ ìƒíƒœë‚˜ ì „í™˜ì„ ê°ì§€í•  ìˆ˜ ìˆë‹¤.
1d:Taca,
ì‚¬ë‚´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ IOS ì›¹ë·°ì—ì„œ ì•ˆì „ ì˜ì—­ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œê²Œë˜ì—ˆë‹¤.

ì•„ì´í° X ë¶€í„°ëŠ” ë””ìŠ¤í”Œë ˆì´ì— ë…¸ì¹˜ ë””ìì¸ì´ ì ìš©ë˜ê³ , í•˜ë‹¨ì—ëŠ” ë¬¼ë¦¬ ë²„íŠ¼ì´ ì‚¬ë¼ì§€ê³  ì œìŠ¤ì²˜ë¡œ ëŒ€ì²´ë˜ì—ˆë‹¤.

ì´ë¡œ ì¸í•´ ê¸°ì¡´ì˜ ì›¹ë·°ì—ì„œëŠ” ë…¸ì¹˜ ë””ìì¸ê³¼ í•˜ë‹¨ì˜ ì œìŠ¤ì²˜ ì˜ì—­ì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.

ì²«ë²ˆì§¸ë¡œ ì›¹ë‚´ì—ì„œ safe area ì˜ì—­ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤.

```css
padding-top: env(safe-area-inset-top);
padding-right: env(safe-area-inset-right);
padding-left: env(safe-area-inset-left);
padding-bottom: env(safe-area-inset-bottom);
```

ìœ„ì™€ ê°™ì´ ì„¤ì •í•˜ë©´ IOS ì›¹ë·°ì—ì„œëŠ” safe area ì˜ì—­ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

ì ìš©í•˜ê³  ê°œë°œì ë„êµ¬ë¡œ í™•ì¸í•´ë³´ë‹ˆ í•´ë‹¹ ì˜ì—­ë§Œí¼ padding ì´ ì ìš©ë˜ì–´ ìˆì—ˆë‹¤.

---

ë‘ë²ˆì§¸ë¡œ safe area ì˜ì—­ì„ ë¬´ì‹œí•˜ê³  ì „ì²´ í™”ë©´ì„ ì‚¬ìš©í•˜ë ¤ë©´

```html
<meta name="viewport" content="viewport-fit=cover" />
```

ìœ„ì™€ ê°™ì´ ì„¤ì •í•˜ë©´ safe area ì˜ì—­ì„ ë¬´ì‹œí•˜ê³  ì „ì²´ í™”ë©´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

í”„ë¡œì íŠ¸ëŠ” Next.js ë¡œ ê°œë°œë˜ì–´ layout ì— í•´ë‹¹ meta íƒœê·¸ë¥¼ ì¶”ê°€í•˜ì—¬ í•´ê²°í•˜ì˜€ë‹¤.

```tsx
import type { Metadata } from 'next';

export const metadata: Metadata = {
    title: 'title',
    description: 'description',
    other: {
    viewport:
        'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover',
    }
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body>
        <main>{children}</main>
      </body>
    </html>
  );
}
```

ì¶”ê°€ë¡œ í•€ì¹˜ì¤Œì„ ë§‰ê¸° ìœ„í•´ `maximum-scale=1.0`ê³¼ `user-scalable=0`ì„ ì„¤ì •í•˜ì˜€ë‹¤.

---

ìœ„ ì‘ì—…ì„ í•˜ë©´ì„œ ê¸°ì¡´ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ëª¨ë‹¬ì´ ì—´ë ¸ì„ ë•Œ ë’¤ ìŠ¤í¬ë¡¤ì„ ë§‰ìœ¼ë ¤ê³  ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ëŠ”ë°,

```tsx
  useEffect(() => {
      document.body.style.cssText = `
            position: fixed;
            top: -${window.scrollY}px;
            overflow: hidden;
            width: 100%;
        `;

      return () => {
        const scrollY = document.body.style.top;
        document.body.style.cssText = '';
        window.scrollTo(0, parseInt(scrollY || '0', 10) * -1);
      };
  }, []);
```

ì›¹ë·°ë‚´ì—ì„œ ëª¨ë‹¬ì´ ì—´ë ¸ì„ ë•Œ `fixed` ì†ì„±ìœ¼ë¡œ ì¸í•´ ì›¹ë·°ì—ì„œ safe area ì˜ì—­ë§Œí¼ ëª¨ë‹¬ì´ ë°€ë¦¬ëŠ” í˜„ìƒì´ ë°œìƒí–ˆë‹¤.

```tsx
  useEffect(() => {
      document.body.style.cssText = `
            overflow: hidden;
        `;

      return () => {
        document.body.style.cssText = '';
      };
  }, []);
```

ìœ„ì™€ ê°™ì´ overflow ë§Œ hidden ì²˜ë¦¬í•˜ì—¬ í•´ê²°í•˜ì˜€ë‹¤.
1e:T1359,
monorepoë¥¼ ì‚¬ìš©í•´ íŒ¨í‚¤ì§€ë“¤ì„ ë¶„ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ì´ìŠˆë¥¼ í™•ì¸í–ˆë‹¤.

ë²ˆë“¤ë§ í•˜ì§€ì•Šê³ , íŒ¨í‚¤ì§€ë“¤ì„ `index.ts`ì—ì„œ ì§ì ‘ ë‚´ë³´ë‚´ ì‚¬ìš©í–ˆì„ ë•Œ, ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œë“¤ë„ í•¨ê»˜ í¬í•¨ë˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.
ì´ ë¬¸ì œì ì„ í™•ì¸í•˜ê³  tree-shakingì„ ì ìš©í•˜ê¸° ìœ„í•´ rollupì„ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤.

---

### tree-shaking

tree-shakingì€ ìµœì¢… ë²ˆë“¤ë§í•œ ê²°ê³¼ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ì œê±°í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.
ë¶ˆí•„ìš”í•œ ì½”ë“œê°€ ì—†ì–´ì§€ê¸° ë•Œë¬¸ì— ë²ˆë“¤ íŒŒì¼ì˜ í¬ê¸°ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

tree-shakingì€ ES6 ë¶€í„°(esm) ì§€ì›ë˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.

---

### rollup

ë¨¼ì € ì•½ 10ê°œì •ë„ ë˜ëŠ” íŒ¨í‚¤ì§€ë“¤ì„ ê°ê° ì„¤ì •í•˜ëŠ”ê±´ ë¹„íš¨ìœ¨ ì ì´ë¼ ìƒê°í–ˆë‹¤.
ê·¸ë˜ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•  rollup.config.mjs íŒŒì¼ì„ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

```javascript
import path from 'path';
import { readFileSync } from 'fs';
import { DEFAULT_EXTENSIONS } from '@babel/core';
import babel from '@rollup/plugin-babel';
import commonjs from '@rollup/plugin-commonjs';
import resolve from '@rollup/plugin-node-resolve';
import typescript from '@rollup/plugin-typescript';
import builtins from 'builtin-modules';
import json from '@rollup/plugin-json';
import { defineConfig } from 'rollup';
import terser from '@rollup/plugin-terser';

const extensions = [...DEFAULT_EXTENSIONS, '.ts', '.tsx'];

export function generateRollupConfig({ packageDir }) {

  {...}

  const plugins = [
    resolve({
      extensions,
    }),
    commonjs(),
    babel({
      exclude: 'node_modules/**',
      extensions,
      babelHelpers: 'bundled',
    }),
    json(),
    typescript({
      compilerOptions: {
        outDir: 'dist',
        module: 'esnext',
        moduleResolution: 'bundler',
      },
      tsconfig: path.join(packageDir, 'tsconfig.json'),
    }),
    terser(),
  ];

  const generateConfig = (output) => {
    return {
      input,
      output,
      external,
      plugins,
    };
  };

  return defineConfig([
    generateConfig([
      {
        dir: output,
        format: 'cjs',
        entryFileNames: '[name].js',
      },
      {
        dir: output,
        format: 'esm',
        entryFileNames: '[name].mjs',
        preserveModules: true,
        preserveModulesRoot: path.dirname(input),
      },
    ]),
  ]);
}
```

- `@rollup/plugin-babel` : rollup + babel ì—°ë™

**Note. @rollup/plugin-commonjs ë³´ë‹¤ ë’¤ì—*

- `@rollup/plugin-commonjs` : CommonJS ëª¨ë“ˆì„ ES6ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë¡¤ì—… ë²ˆë“¤ì— í¬í•¨

**Note. @rollup/plugin-node-resolveì™€ í•¨ê»˜ ì‚¬ìš©*

- `@rollup/plugin-node-resolve` : node_modulesì— ì™¸ë¶€ ëª¨ë“ˆ í™•ì¸

**Note. @rollup/plugin-commonjsì™€ í•¨ê»˜ ì‚¬ìš©*

- `@rollup/plugin-terser` : ê°„ê²°í•˜ê³  ì¶•ì†Œëœ ë²ˆë“¤ ìƒì„± (ë„ì–´ì“°ê¸°ë‚˜ ì£¼ì„ ì œê±°)
- `@rollup/plugin-url` : data-URIs, ESMìœ¼ë¡œ ê°€ì ¸ì˜´
- `@rollup/plugin-virtual` : ë©”ëª¨ë¦¬ì—ì„œ ê°€ìƒ ëª¨ë“ˆì„ ë¡œë“œ

**Note. Use this plugin before any others such as node-resolve or commonjs, so they do not alter the output.*

- `@svgr/rollup` : svgr í”ŒëŸ¬ê·¸ì¸
- `builtin-modules` : node.js ë¹ŒíŠ¸ì¸ ëª¨ë“ˆ

- `external` : íŠ¹ì • ëª¨ë“ˆì„ ë²ˆë“¤ì— í¬í•¨í•˜ì§€ ì•Šê³ , ì™¸ë¶€ ëª¨ë“ˆë¡œ ì„¤ì •

---

### ê° íŒ¨í‚¤ì§€ë³„ ë²ˆë“¤ë§

```javascript
import path from 'path';
import { generateRollupConfig } from '@repo/rollup-config';

const __dirname = path.resolve();

export default generateRollupConfig({ packageDir: __dirname });
```

utilsì—ì„œ ë‚´ë³´ë‚´ëŠ” í•¨ìˆ˜ ì¤‘ í”„ë¡œì íŠ¸ë³„ë¡œ ì‚¬ìš©í•˜ëŠ”ê³³ê³¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê³³ì´ ìˆì—ˆëŠ”ë°,
ì´ˆê¸°ì— ë²ˆë“¤ë§ê³¼ì •ì„ ê±°ì¹˜ì§€ ì•Šì•˜ì„ ë•Œ í”„ë¡œì íŠ¸ ë¹Œë“œì‹œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ê° í”„ë¡œì íŠ¸ì— ëª¨ë‘ í¬í•¨ë˜ì—ˆë‹¤.

ë²ˆë“¤ë§ ê³¼ì •ì„ í™•ì¸í•˜ê¸° ìœ„í•´ vite.config.jsì—

```javascript
{...}

    build: {
      rollupOptions: {
        output: {
          manualChunks: {
            utils: ['@repo/utils']
          },
        },
      },
    },

{...}
```

ì˜µì…˜ì„ ì¶”ê°€í•´ ë¹„êµí•´ë³´ì•˜ë‹¤.

<img src="/assets/blog/javaScript/rollup-1.png" width="100%" alt="bundle-test"/>
<img src="/assets/blog/javaScript/rollup-2.png" width="100%" alt="bundle-test"/>

ì „, í›„ ìš©ëŸ‰ì— ì°¨ì´ê°€ ìˆë‹¤ëŠ”ê±¸ í™•ì¸í–ˆê³ , jsíŒŒì¼ì„ í™•ì¸í•´ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë§Œ í¬í•¨ë˜ëŠ”ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ì•˜ë‹¤.

---

ì²˜ìŒ rollupì„ ì‚¬ìš©í•´ íŒ¨í‚¤ì§€ë“¤ì„ ë²ˆë“¤ë§í•˜ë©´ì„œ tree-shakingì´ë¼ëŠ” ê°œë…ë„ ì•Œê²Œë˜ì—ˆê³ , cjsì™€ esmì˜ ì°¨ì´ì ë„ ì•Œê²Œë˜ì—ˆë‹¤.

ë‹¤ë¥¸ ê¸°ì—…ë“¤ì˜ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì„ ë’¤ì ¸ê°€ë©° ì‘ì—…ì„ ì§„í–‰í•˜ë©´ì„œ ë§ì€ ê²ƒì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆë˜ ì‹œê°„ì´ì—ˆë‹¤.

rollup ì„¤ì •ì— ëŒ€í•´ì„œ ì•„ì§ ì™„ë²½í•˜ê²Œ ì´í•´í•˜ì§€ëŠ” ëª»í–ˆìœ¼ë©°, ë‚´ê°€ ì˜ë„í•œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ë„ ì¡°ê¸ˆ í™•ì‹ ì´ ë“¤ì§€ ì•Šì§€ë§Œ ì´ë²ˆ ê¸°íšŒì— ì¡°ê¸ˆ ë” ê¹Šê²Œ ê³µë¶€í•´ë³´ê³  ê³„ì†í•´ì„œ í™•ì¸í•´ë³´ë©° ìˆ˜ì •í•´ë‚˜ê°€ì•¼ê² ë‹¤.
ê°œì¸ì ìœ¼ë¡œëŠ” ìµœì í™”í•´ ë‚˜ê°€ëŠ” ê³¼ì •ì´ ë§¤ìš° ì¬ë°Œì—ˆë˜ ì‘ì—…ì´ì—ˆë‹¤!
9:["$","section",null,{"className":"flex flex-col-reverse md:relative md:flex-row","children":[["$","$L14",null,{"posts":{"posts":[{"content":"$15","data":{"title":"ì›¹ ì ‘ê·¼ì„± (A11y)","date":"$D2025-08-29T00:00:00.000Z","description":"ì›¹ ì ‘ê·¼ì„±(A11y)ì— ëŒ€í•œ ì´í•´ì™€ ì‹¤ì²œ ë°©ë²•","category":"study","titleImage":"/assets/postIcon/javascript.webp"},"slug":"a11y"},{"content":"$16","data":{"title":"svg íŒŒì¼ì„ rollup ìœ¼ë¡œ ë²ˆë“¤ë§í•˜ê¸°","date":"$D2025-05-26T00:00:00.000Z","description":"svg íŒŒì¼ì„ rollup ìœ¼ë¡œ ë²ˆë“¤ë§í•´ React ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©í•˜ê¸°","category":"javaScript","titleImage":"/assets/postIcon/rollup-logo.svg"},"slug":"rollup-svg"},{"content":"$17","data":{"title":"ì´ë²¤íŠ¸ ë²„ë¸”ë§ê³¼ ì´ë²¤íŠ¸ ìº¡ì²˜ë§","date":"$D2025-05-23T00:00:00.000Z","description":"ì´ë²¤íŠ¸ ë²„ë¸”ë§ê³¼ ì´ë²¤íŠ¸ ìº¡ì²˜ë§ì— ëŒ€í•œ ì´í•´","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"event-bubble-capture"},{"content":"$18","data":{"title":"ì„¸ì…˜ê³¼ ì¿ í‚¤","date":"$D2025-05-13T00:00:00.000Z","description":"ì„¸ì…˜ê³¼ ì¿ í‚¤ì˜ ê°œë…ê³¼ ì°¨ì´ì ","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"session-cookie"},{"content":"$19","data":{"title":"React Parallel Routes","date":"$D2025-04-14T00:00:00.000Z","description":"AOS ì›¹ë·°ì—ì„œ ë’¤ë¡œê°€ê¸°ì‹œ ëª¨ë‹¬ì„ ë‹«ìœ¼ë ¤ë©´?","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"react-parallel-routes"},{"content":"$1a","data":{"title":"2ë…„ê°„ ìŠ¤í„°ë””í•˜ë©° ë°°ìš´ê²ƒë“¤","date":"$D2025-03-18T00:00:00.000Z","description":"2ë…„ê°„ì˜ ìŠ¤í„°ë””ë¥¼ íšŒê³ í•˜ë©° ëŠë‚€ ì ê³¼ ë°°ìš´ ì ","category":"til","titleImage":"/assets/postIcon/til.webp"},"slug":"study-remind"},{"content":"$1b","data":{"title":"React Native Deep Linking (2)","date":"$D2025-02-03T00:00:00.000Z","description":"React Native Deep Linking ì—°ê²°","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"rn-deep-link-2"},{"content":"$1c","data":{"title":"document.visibilityState","date":"$D2024-12-06T00:00:00.000Z","description":"document.visibilityStateë¥¼ ì´ìš©í•œ í˜ì´ì§€ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"visibilityState"},{"content":"$1d","data":{"title":"IOS ì›¹ë·°ì—ì„œ safe area ì„¤ì •í•˜ê¸°","date":"$D2024-07-02T00:00:00.000Z","description":"IOS ì›¹ë·°ì—ì„œ safe area ë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"webview-safe-area"},{"content":"$1e","data":{"title":"rollupìœ¼ë¡œ ë²ˆë“¤ë§í•˜ëŠ” ê³¼ì •","date":"$D2024-03-09T00:00:00.000Z","description":"ì²˜ìŒ rollupìœ¼ë¡œ ë²ˆë“¤ë§í•˜ëŠ” ê³¼ì •ì—ì„œ ê²ªì€ ë¬¸ì œë“¤ê³¼ í•´ê²°ë°©ë²•","category":"javaScript","titleImage":"/assets/postIcon/rollup-logo.svg"},"slug":"rollup"}],"total":47},"page":"$undefined","isPagination":true}],"$L1f"]}]
1f:["$","ul",null,{"className":"relative top-0 flex h-fit min-w-fit flex-row flex-wrap gap-[20px] py-[20px] pl-0 md:sticky md:top-[100px] md:flex-col md:flex-nowrap md:py-0 md:pl-[30px]","children":[["$","h2",null,{"className":"hidden text-[18px] font-bold md:inline","children":"Category"}],[["$","li","javaScript",{"children":["$","$L4",null,{"className":"text-gray700","href":"/blog/javaScript","children":"javaScript (42)"}]}],["$","li","study",{"children":["$","$L4",null,{"className":"text-gray700","href":"/blog/study","children":"study (3)"}]}],["$","li","til",{"children":["$","$L4",null,{"className":"text-gray700","href":"/blog/til","children":"til (2)"}]}]]]}]
f:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
b:null
20:I[622,[],"IconMark"]
d:{"metadata":[["$","title","0",{"children":"Been blog"}],["$","meta","1",{"name":"description","content":"Been dev-note"}],["$","meta","2",{"name":"google-site-verification","content":"BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U"}],["$","meta","3",{"name":"naver-site-verification","content":"58945b2bbe2fe86252fa8c7b204b40f6019920e9"}],["$","link","4",{"rel":"canonical","href":"https://wonbeenna.github.io"}],["$","meta","5",{"property":"og:title","content":"Been blog"}],["$","meta","6",{"property":"og:description","content":"Been dev-note"}],["$","meta","7",{"property":"og:url","content":"https://wonbeenna.github.io"}],["$","meta","8",{"property":"og:site_name","content":"Been blog"}],["$","meta","9",{"property":"og:locale","content":"ko_KR"}],["$","meta","10",{"property":"og:image","content":"https://wonbeenna.github.io/favicon.png"}],["$","meta","11",{"property":"og:image:width","content":"800"}],["$","meta","12",{"property":"og:image:height","content":"600"}],["$","meta","13",{"property":"og:image:alt","content":"Been blog"}],["$","meta","14",{"property":"og:type","content":"website"}],["$","meta","15",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","16",{"name":"twitter:title","content":"Been blog"}],["$","meta","17",{"name":"twitter:description","content":"Been dev-note"}],["$","meta","18",{"name":"twitter:image","content":"https://wonbeenna.github.io/favicon.png"}],["$","meta","19",{"name":"twitter:image:width","content":"800"}],["$","meta","20",{"name":"twitter:image:height","content":"600"}],["$","meta","21",{"name":"twitter:image:alt","content":"Been blog"}],["$","link","22",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"192x192"}],["$","link","23",{"rel":"icon","href":"/favicon.ico","sizes":"any"}],["$","link","24",{"rel":"icon","href":"/favicon.png","sizes":"32x32","type":"image/png"}],["$","link","25",{"rel":"apple-touch-icon","href":"/favicon.png","sizes":"32x32","type":"image/png"}],["$","$L20","26",{}]],"error":null,"digest":"$undefined"}
12:"$d:metadata"
