1:"$Sreact.fragment"
2:I[1402,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-e509d1a31c7f333f.js"],""]
3:I[6300,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-e509d1a31c7f333f.js"],"Providers"]
4:I[2619,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","974","static/chunks/app/page-210b2dff0315fedd.js"],""]
5:I[1356,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-e509d1a31c7f333f.js"],"Image"]
6:I[379,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","177","static/chunks/app/layout-e509d1a31c7f333f.js"],"default"]
7:I[9766,[],""]
8:I[8924,[],""]
a:I[4431,[],"OutletBoundary"]
c:I[5278,[],"AsyncMetadataOutlet"]
e:I[4431,[],"ViewportBoundary"]
10:I[4431,[],"MetadataBoundary"]
11:"$Sreact.suspense"
13:I[7150,[],""]
:HL["/_next/static/media/47cbc4e2adbc5db9-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/e539936c7dc6b882.css","style"]
:HL["/_next/static/css/e7c7294f242bce08.css","style"]
0:{"P":null,"b":"iWTXvzrkASeYQ5K5Setq_","p":"","c":["","search"],"i":false,"f":[[["",{"children":["search",{"children":["__PAGE__",{}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/e539936c7dc6b882.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/e7c7294f242bce08.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":[["$","$L2",null,{"src":"https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN"}],["$","$L2",null,{"id":"google-analytics","children":"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n \n          gtag('config', 'G-LFDRQZPCBN');\n        "}],["$","body",null,{"suppressHydrationWarning":true,"className":"__className_518cef","children":["$","$L3",null,{"children":[["$","header",null,{"className":"sticky top-0 z-10 mx-auto my-0 h-[56px] border-b border-b-gray200 bg-white px-[24px] py-0 dark:bg-darkBg01","children":["$","section",null,{"className":"m-auto flex h-full max-w-[970px] items-center justify-between","children":[["$","div",null,{"className":"flex items-center gap-[20px]","children":[["$","$L4",null,{"href":"/","children":["$","$L5",null,{"className":"h-[56px] w-[60px]","src":"/assets/icons/been-logo.svg","width":60,"height":56,"priority":true,"alt":"logo"}]}],["$","div",null,{"className":"flex items-center gap-[20px]","children":["$","$L4",null,{"href":"/about","children":"About"}]}]]}],["$","$L6",null,{}]]}]}],["$","main",null,{"className":"mx-auto my-0 max-w-[970px] p-[16px]","children":["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}],["$","footer",null,{"className":"flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600","children":"Copyright Â© Been."}]]}]}]]}]]}],{"children":["search",["$","$1","c",{"children":[null,["$","$L7",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L9",null,["$","$La",null,{"children":["$Lb",["$","$Lc",null,{"promise":"$@d"}]]}]]}],{},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,[["$","$Le",null,{"children":"$Lf"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L10",null,{"children":["$","div",null,{"hidden":true,"children":["$","$11",null,{"fallback":null,"children":"$L12"}]}]}]]}],false]],"m":"$undefined","G":["$13",[]],"s":false,"S":true}
14:I[3385,["619","static/chunks/619-ba102abea3e3d0e4.js","239","static/chunks/239-c2117d3ee033cea8.js","959","static/chunks/app/search/page-694fea43c11cd5c2.js"],"default"]
15:T1a7b,
## ì›¹ ì ‘ê·¼ì„±ì´ë€?

ì›¹ ì ‘ê·¼ì„±ì´ë€ ì¥ì• ê°€ ìˆëŠ” ì‚¬ëŒì„ í¬í•¨í•´ ëª¨ë“  ì‚¬ìš©ìê°€ ë™ë“±í•˜ê²Œ ì›¹ì— ì ‘ê·¼í•˜ê³  ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ëŠ” ê²ƒì„ ì˜ë¯¸

ë” ë§ì€ ì‚¬ìš©ìì—ê²Œ ë„ë‹¬í•  ìˆ˜ ìˆê³ , ì„±ëŠ¥ ìµœì í™”, ì‚¬ìš©ì ê²½í—˜(UX)ì„ ê°œì„ í•˜ë©°, ê²€ìƒ‰ì—”ì§„ ìµœì í™”(SEO)ì—ë„ ê¸ì •ì ì¸ íš¨ê³¼ê°€ ìˆìŒ

ì›¹ ì ‘ê·¼ì„±ì€ â€œíŠ¹ì • ì§‘ë‹¨(ì¥ì• ì¸)â€ì´ ì•„ë‹Œ ëª¨ë“  ì‚¬ëŒì„ ìœ„í•œ ê¸°ë³¸ ì„¤ê³„ ì›ì¹™

## ì‹œë©˜í‹± ë§ˆí¬ì—…

[mdn](https://developer.mozilla.org/ko/docs/Glossary/Semantics)

divì™€ span ëŒ€ì‹  header, main, nav, article, section, footerì™€ ê°™ì€ ì‹œë§¨í‹± íƒœê·¸ í™œìš©.

ë²„íŠ¼ì€ ë°˜ë“œì‹œ `<button>` íƒœê·¸ë¥¼ ì‚¬ìš©. (divì— onClick ëŒ€ì‹ )

```html
<!-- X -->
<div onclick="submitForm()">ì œì¶œ</div>

<!-- O -->
<button type="submit">ì œì¶œ</button>
```

## ëŒ€ì²´ í…ìŠ¤íŠ¸

ì´ë¯¸ì§€ì—ëŠ” í•­ìƒ alt ì†ì„±ì„ ì œê³µ

ì¥ì‹ìš© ì´ë¯¸ì§€ëŠ” alt=""ë¡œ ì„¤ì •í•˜ì—¬ ìŠ¤í¬ë¦° ë¦¬ë”ê°€ ì½ì§€ ì•Šë„ë¡ í•¨

```html
    <img src="logo.png" alt="pass ë¡œê³ " />
```

## ìƒí˜¸ì‘ìš© ìš”ì†Œ ëª©ë¡

ìƒí˜¸ì‘ìš© ìš”ì†Œ ì¤‘ í•˜ë‚˜ë¥¼ í¬í•¨í•˜ëŠ” ìš”ì†Œ ì•ˆì—ëŠ” ë˜ ë‹¤ë¥¸ ìƒí˜¸ì‘ìš© ìš”ì†Œë¥¼ ë„£ì„ ìˆ˜ ì—†ë‹¤

```html
    <!-- X -->
    <a href="/">
      <Button>í™•ì¸</Button>
    </a>

    <!-- X -->
    <button>
      ì‹œì„¤ê´€ë¦¬
      <button>
        x
      </button>
    </button>
```

- `<a>`
- `<audio>`
- `<button>`
- `<details>`
- `<embed>`
- `<iframe>`
- `<img>`
- `<input>`
- `<keygen>`
- `<label>`
- `<menu>`
- `<object>`
- `<select>`
- `<textarea>`
- `<video>`

## a íƒœê·¸ì™€ button íƒœê·¸

ë¼ìš°íŒ…ì‹œì—ëŠ” `<a>` íƒœê·¸ ì‚¬ìš©

`<a>` íƒœê·¸: ì›¹ í‘œì¤€ìƒ â€œë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ë¡œ ì´ë™â€ì„ ì˜ë¯¸ â†’ í˜ì´ì§€ ì´ë™, ë¼ìš°íŒ…ì— ì í•©

`<button>` íƒœê·¸: í˜„ì¬ í˜ì´ì§€ ë‚´ì—ì„œ íŠ¹ì • ë™ì‘(í¼ ì œì¶œ, ëª¨ë‹¬ ì—´ê¸° ë“±)ì„ ì‹¤í–‰í•˜ëŠ” ìš”ì†Œ

```jsx
// react-router-dom

// O
<Link to="/profile">í”„ë¡œí•„</Link>

// X
<button onClick={() => navigate('/profile')}>í”„ë¡œí•„</button>
```

ì‹œë§¨í‹± íƒœê·¸ì— ë”°ë¼ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ê°€ ë‹¤ë¥´ë‹¤

<div style={{
    display: 'flex',
    gap: '16px',
    flexWrap: 'wrap',
    justifyContent: 'center',
    alignItems: 'center',
}}>
    <img style={{
        width: 250,
        height: 300
    }} src="/assets/blog/javascript/a-tag.png" alt="a íƒœê·¸ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´" />
    <img style={{
        width: 250,
        height: 300
    }} src="/assets/blog/javascript/button-tag.png" alt="button íƒœê·¸ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´" />
</div>

```html
<a> íƒœê·¸
<button> íƒœê·¸
```

## ARIA

ARIA (Accessible Rich Internet Applications)ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë³´ì¡°ê¸°ê¸°(ìŠ¤í¬ë¦°ë¦¬ë” ë“±)ì—ì„œë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ì†ì„±ë“¤ì˜ ëª¨ìŒ

HTMLì˜ ì‹œë§¨í‹± íƒœê·¸ë§Œìœ¼ë¡œëŠ” í‘œí˜„í•˜ê¸° ì–´ë ¤ìš´ ìƒíƒœ, ì—­í• , ì†ì„±ì„ ì „ë‹¬í•  ë•Œ ì‚¬ìš©

ğŸ‘‰ ARIAëŠ” ë³´ì™„ ìˆ˜ë‹¨, HTML ê¸°ë³¸ ì‹œë§¨í‹± ìš”ì†Œë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ë©´ ARIAë³´ë‹¤ íƒœê·¸ë¥¼ ìš°ì„  ì‚¬ìš©í•˜ëŠ” ê²Œ ì›ì¹™

### ì£¼ìš” êµ¬ì„± ìš”ì†Œ

- role
ìš”ì†Œì˜ ì—­í• ì„ ì •ì˜ (button, switch, dialog, tab ë“±)

- aria-ì†ì„±
ìƒíƒœë‚˜ ì„¤ëª…ì„ ë³´ì¡°ê¸°ê¸°ì— ì „ë‹¬ (aria-checked, aria-hidden, aria-expanded, aria-describedby ë“±)

### ì˜ˆì‹œ

```jsx
    <button
        type="button"
        role="switch"
        aria-checked={checked}
        disabled={disabled}
        onClick={handleCheckedClick}
        {...rest}
    >
    {...}
    </button>
```

1. role="switch"

HTMLì—ëŠ” í† ê¸€ ìŠ¤ìœ„ì¹˜(Switch)ë¼ëŠ” ì‹œë§¨í‹± íƒœê·¸ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ

role="switch"ë¥¼ ì£¼ë©´, ìŠ¤í¬ë¦°ë¦¬ë”ëŠ” â€œìŠ¤ìœ„ì¹˜â€ë¡œ ì½ê³ , ì¼œì§/êº¼ì§ ìƒíƒœë¥¼ ì¸ì§€í•  ìˆ˜ ìˆìŒ

2. aria-checked=checked

ìŠ¤ìœ„ì¹˜ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì „ë‹¬

true â†’ â€œì¼œì§(on)â€, false â†’ â€œêº¼ì§(off)â€ ìœ¼ë¡œ ì½ì–´ì¤Œ

ìŠ¤í¬ë¦°ë¦¬ë” ì‚¬ìš©ìëŠ” ë²„íŠ¼ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë°”ë¡œ ì•Œ ìˆ˜ ìˆìŒ

3. disabled=disabled

ë„¤ì´í‹°ë¸Œ HTML ì†ì„±. ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŒì„ ì•Œë ¤ì¤Œ

ìŠ¤í¬ë¦°ë¦¬ë”ëŠ” â€œë¹„í™œì„±í™”ë¨â€ì´ë¼ê³  ì½ì–´ì¤Œ

4. onClick=handleCheckedClick

ìŠ¤ìœ„ì¹˜ë¥¼ í† ê¸€í•˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

ë³´ì¡°ê¸°ê¸° ì‚¬ìš©ìë„ í‚¤ë³´ë“œ Enter / Spaceë¡œ ì¡°ì‘í•  ìˆ˜ ìˆìŒ (ë²„íŠ¼ì˜ ê¸°ë³¸ ê¸°ëŠ¥)


---

## í‚¤ë³´ë“œ ì ‘ê·¼ì„±

- ëª¨ë“  ê¸°ëŠ¥ì€ í‚¤ë³´ë“œë§Œìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•´ì•¼ í•¨ (Tab, Shift+Tab, Enter, Space, í™”ì‚´í‘œ ë“±)
- í¬ì»¤ìŠ¤ ìˆœì„œëŠ” ì‹œê°ì /ë…¼ë¦¬ì  ìˆœì„œì™€ ì¼ì¹˜í•´ì•¼ í•¨
- `tabindex`ëŠ” 0 ë˜ëŠ” -1ë§Œ ì‚¬ìš© (ì–‘ìˆ˜ ì‚¬ìš© ê¸ˆì§€)

```html
    <!-- ë¹„ëŒ€í™”í˜• ìš”ì†Œì— í¬ì»¤ìŠ¤ í•„ìš”í•  ë•Œë§Œ -->
    <div tabindex="-1" id="result" aria-live="polite"></div>
```

## í¬ì»¤ìŠ¤ í‘œì‹œì™€ ìŠ¤íƒ€ì¼

- í¬ì»¤ìŠ¤ëŠ” í•­ìƒ **ë³´ì´ê²Œ** í•´ì•¼ í•¨ (outline ì œê±° ê¸ˆì§€)
- `:focus-visible`ë¡œ í‚¤ë³´ë“œ ì‚¬ìš©ìì—ê²Œë§Œ ëšœë ·í•œ í¬ì»¤ìŠ¤ ì œê³µ

```css
    button:focus-visible,
    a:focus-visible {
        outline: 2px solid currentColor;
        outline-offset: 2px;
    }
```

## ë§í¬ í…ìŠ¤íŠ¸

- ë§í¬ í…ìŠ¤íŠ¸ë§Œìœ¼ë¡œ ëª©ì  ì´í•´ ê°€ëŠ¥í•´ì•¼ í•¨ (â€œì—¬ê¸°â€, â€œë”ë³´ê¸°â€ ì§€ì–‘)
- ë™ì¼í•œ í…ìŠ¤íŠ¸ê°€ ì—¬ëŸ¬ ê³³ì´ë©´ ì‹œê°ì ìœ¼ë¡œ ê°™ì•„ë„ **ì ‘ê·¼ì„± ì´ë¦„**ì€ êµ¬ë¶„

```html
    <a href="/docs" aria-label="ë¬¸ì„œ ì„¼í„° ë°”ë¡œê°€ê¸°">ë¬¸ì„œ</a>
    <a href="/pricing" aria-label="ìš”ê¸ˆì œ ì•ˆë‚´ ë°”ë¡œê°€ê¸°">ë¬¸ì„œ</a>
```

## í¼ê³¼ ì—ëŸ¬ ì²˜ë¦¬

- ëª¨ë“  ì…ë ¥ì€ `<label for>`ë¡œ ì—°ê²°
- íŒíŠ¸/ì—ëŸ¬ ë©”ì‹œì§€ëŠ” `aria-describedby`ë¡œ ë¬¶ì–´ ì½íˆê²Œ í•¨
- ìœ íš¨ì„± ê²€ì‚¬ëŠ” ì‹¤ì‹œê°„ ì œê³µ + ì œì¶œ ì‹œ ìš”ì•½ ì œê³µ

```html
    <label for="email">ì´ë©”ì¼</label>
    <input id="email" name="email" type="email" aria-describedby="email-hint email-err" required>
    <p id="email-hint">íšŒì‚¬ ì´ë©”ì¼ í˜•ì‹ ê¶Œì¥</p>
    <p id="email-err" class="visually-hidden" role="alert"></p>

    <script>
        const input = document.getElementById('email');
        const err = document.getElementById('email-err');
        input.addEventListener('invalid', () => { err.textContent = 'ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥'; });
    </script>
```

## í—¤ë”© êµ¬ì¡°

- `<h1>`ì€ í˜ì´ì§€ ë‹¹ í•˜ë‚˜, ì´í›„ ìˆœì°¨ì ìœ¼ë¡œ `<h2>`, `<h3>`â€¦
- ì‹œê°ì  í¬ê¸° ì¡°ì ˆì€ CSSë¡œ, í—¤ë”© ë ˆë²¨ì€ ê±´ë“œë¦¬ì§€ ì•Šê¸°

```html
    <h1>ì œí’ˆ</h1>
    <h2>ê°œìš”</h2>
    <h3>ì£¼ìš” ê¸°ëŠ¥</h3>
```

## ëª¨ë‹¬/ë‹¤ì´ì–¼ë¡œê·¸

- ì—´ë¦´ ë•Œ í¬ì»¤ìŠ¤ ëª¨ë‹¬ ì•ˆìœ¼ë¡œ ì´ë™, ë‹«íˆë©´ íŠ¸ë¦¬ê±°ë¡œ ë³µê·€
- ë°°ê²½ì€ ìŠ¤í¬ë¦°ë¦¬ë”/íƒ­ íƒìƒ‰ì—ì„œ ì œì™¸ (`aria-modal="true"`)
- ì œëª©/ì„¤ëª… ì—°ê²°

```html
<div role="dialog" aria-modal="true" aria-labelledby="dlg-title" aria-describedby="dlg-desc">
    <h2 id="dlg-title">ì„¤ì •</h2>
    <p id="dlg-desc">ì•Œë¦¼ ì„¤ì •ì„ ë³€ê²½</p>
    <button type="button">ì €ì¥</button>
</div>
```
16:T1840,
ê°œë°œ ì§„í–‰ì¤‘ ë‹¤ì–‘í•œ svg íŒŒì¼ì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•´ì•¼í•  í•„ìš”ê°€ ìˆë‹¤.
ë§¤ë²ˆ svg íŒŒì¼ì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ë„ ë²ˆê±°ë¡­ê³ , ë³€í™˜ ê³¼ì •ì—ì„œ ì‹¤ìˆ˜ë¡œ svg íŒŒì¼ì„ ì˜ëª» ìˆ˜ì •í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.
ë˜, ì•„ì´ì½˜ì€ ìƒí™©ì—ë”°ë¼ ìƒ‰ìƒ, í¬ê¸°, íšŒì „ ë“±ì„ ë³€ê²½í•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.

---

ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ rollup ì„ ì‚¬ìš©í•˜ì—¬ svg íŒŒì¼ì„ React ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œë” íŒ¨í‚¤ì§€í•˜ì—¬ ì‚¬ìš©í•˜ì˜€ë‹¤.

## rollup-config.mjs

ì•„ì´ì½˜ë“¤ì€ /icons/*.svg ê²½ë¡œì— ìœ„ì¹˜í–ˆê³ , svg íŒŒì¼ì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•´ export + íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì •ì˜ë˜ë„ë¡ í–ˆë‹¤.

ë¨¼ì € ì•„ì´ì½˜ë“¤ì˜ ê° ê²½ë¡œë“¤ì„ ìˆ˜ì§‘í–ˆë‹¤.
```javascript
const iconBasePath = new URL('./icons', import.meta.url).pathname;
const iconFileNames = fs.readdirSync(iconBasePath, 'utf-8');
```

ì•„ì´ì½˜ì˜ ì´ë¦„ì„ search-icon.svg í˜•íƒœë¡œ ì €ì¥í–ˆê³ ,
ì´ë¦„ì„ PascalCase í˜•íƒœë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í–ˆë‹¤.

iconFileNames ëŠ”

```javascript
[
'date-picker.svg',
'info.svg',
'link.svg',
'logout.svg',
'upload-trash.svg',
'upload.svg',
...
]
```

ì´ëŸ°í˜•íƒœë¡œ ì˜ ë¶ˆëŸ¬ì™€ì¡Œë‹¤.

```javascript
function toPascalCase(str) {
    return str
        .replace(/[-_](.)/g, (_, c) => c.toUpperCase())
        .replace(/^(.)/, (_, c) => c.toUpperCase());
}
```

iconFileNames ë¥¼ ìˆœíšŒí•˜ë©°, ê° ì•„ì´ì½˜ì˜ ì´ë¦„ì„ PascalCase í˜•íƒœë¡œ ë³€í™˜í•˜ê³ , import/export ë¬¸ì„ ë³„ë„ ë°°ì—´ì— ì €ì¥í–ˆë‹¤.

```javascript
    iconImportLines.push(`import ${iconModuleName} from '../icons/${iconFileName}'`);
    iconComponentTypes.push(`export declare const ${iconModuleName}: SVGIconType`);
```

---

### svg -> ì»´í¬ë„ŒíŠ¸ ë³€í™˜

```javascript
const jsCode = await transform(
  rawSvg,
  {
    plugins: ['@svgr/plugin-jsx'],
    icon: true,
    jsxRuntime: 'classic',
    template: reactIconTemplate,
  }
);
```

ì—¬ê¸°ì„œ reactIconTemplate ì€ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤.

```javascript
    function reactIconTemplate({ imports, componentName, props, jsx }, { tpl }) {
        return tpl`
      ${imports}
      function ${componentName}(${props}) {
        return (
          ${jsx}
        );
      }
      export default ${componentName};
    `;
    }
```

tpl í•¨ìˆ˜ëŠ” í…œí”Œë¦¿ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¡œ, ìœ„ì˜ ì½”ë“œë¥¼ í†µí•´ svg íŒŒì¼ì„ React ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.

---

### íƒ€ì… ì„ ì–¸ ìë™ ìƒì„±

ë¹Œë“œì‹œ index.d.ts íŒŒì¼ì„ ìƒì„±í•´, ê° ì•„ì´ì½˜ ë³„ë¡œ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ìƒì„±ë˜ë„ë¡ í–ˆë‹¤.

```javascript
    const entryTypesContent = `
    declare module '*.svg' {
      const content: string
      export default content
    }

    export declare type IconSource = React.FunctionComponent<React.SVGProps<SVGSVGElement>>
    export declare type SVGIconType = IconSource

    export declare type IconName = ${iconNames.join(' | ')}

    export declare const icons: Record<IconName, SVGIconType>

    ${iconComponentTypes.join('\n')}
    `.trim();


    emitFile({
        fileName: 'index.d.ts',
        source: entryTypesContent,
    }),
```

emitFile í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ index.d.ts íŒŒì¼ì„ ìƒì„±í•˜ê³ , ìœ„ì—ì„œ ì €ì¥í•´ë‘” iconComponentTypesë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ì•„ì´ì½˜ì˜ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì •ì˜í–ˆë‹¤.

---

### defineConfig

```javascript
export default defineConfig({
    input: 'src/index.ts',
    output: [
        {
            dir: 'dist',
            format: 'cjs',
            entryFileNames: '[name].js',
            chunkFileNames: '[name].js',
            interop: 'auto',
        },
        {
            dir: 'dist',
            format: 'esm',
            entryFileNames: '[name].mjs',
            chunkFileNames: '[name].mjs',
        },
    ],
    external: ['react'],
    plugins: [
        virtual({ 'src/index.ts': entryModuleContent }),
        nodeResolve({ extensions }),
        svgBuild({ include: `${iconBasePath}/*.svg` }),
        babel({
            exclude: 'node_modules/**',
            extensions,
            babelHelpers: 'bundled',
        }),
        emitFile({
            fileName: 'index.d.ts',
            source: entryTypesContent,
        }),
        terser(),
    ],
});
```

`@rollup/plugin-virtual` ë¥¼ ì‚¬ìš©í•´ index.ts íŒŒì¼ì„ ê°€ìƒìœ¼ë¡œ ìƒì„±í–ˆë‹¤.

```javascript
output: [
  {
    dir: 'dist',
    format: 'cjs',
    entryFileNames: '[name].js',
    chunkFileNames: '[name].js',
    interop: 'auto',
  },
  {
    dir: 'dist',
    format: 'esm',
    entryFileNames: '[name].mjs',
    chunkFileNames: '[name].mjs',
  },
],
```

ê²°ê³¼ë¬¼ë“¤ì„ dist í´ë”ì— ì €ì¥ë˜ë„ë¡ í•˜ê³ , commonjs ì™€ esm í˜•ì‹ìœ¼ë¡œ ê°ê° ì €ì¥ë˜ë„ë¡ ì„¤ì •í–ˆë‹¤.

```javascript
svgBuild({ include: `${iconBasePath}/*.svg` }),
```

svg ë¥¼ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€í™˜í•´ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ë‹¤.
- @svgr/coreë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•´ì„œ .svg â†’ React Componentë¡œ ë³€í™˜
- UploadIcon, SearchIcon ì´ëŸ° ì»´í¬ë„ŒíŠ¸ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±
- ê²°ê³¼ëŠ” virtual entryì—ì„œ import UploadIcon from '../icons/upload.svg'ì²˜ëŸ¼ ì“°ì´ê²Œ ë¼

```javascript
    babel({
        exclude: 'node_modules/**',
        extensions,
        babelHelpers: 'bundled',
    }),
```

ë°”ë²¨ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•´ js ì½”ë“œë¡œ ë³€í™˜í•´ì¤€ë‹¤.

```javascript
    emitFile({
        fileName: 'index.d.ts',
        source: entryTypesContent,
    }),
```

ì»¤ìŠ¤í…€ emitFile í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•´ ë¹Œë“œê°€ ëë‚œ ì‹œì ì— index.d.ts íƒ€ì… ì„ ì–¸ íŒŒì¼ì„ ìƒì„±í•˜ì—¬ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì •ì˜í•œë‹¤.

```javascript
    terser(),
```
ê²°ê³¼ë¬¼ì˜ í¬ê¸°ë¥¼ ì¤„ì´ê¸° ìœ„í•´ terser í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•´ ì½”ë“œë¥¼ ì••ì¶•í•œë‹¤.

---

icons/*.svgì— svg íŒŒì¼ë“¤ì„ ìœ„ì¹˜ì‹œí‚¤ê³  ë¹Œë“œë¥¼ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ React ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ê³  dist/index.js, dist/index.mjsë¡œ ê°ê° ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ê³ 
index.d.tsë¡œ íƒ€ì… ì„ ì–¸ê¹Œì§€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

```javascript
import { UploadIcon, SearchIcon } from 'your-icon-package';

function App() {
  return (
    <div>
      <UploadIcon width={24} height={24} fill="blue" />
      <SearchIcon width={24} height={24} fill="red" />
    </div>
  );
}
```17:T1760,
## ì´ë²¤íŠ¸ ë²„ë¸”ë§(Event Bubbling)ê³¼ ì´ë²¤íŠ¸ ìº¡ì²˜ë§(Event Capturing)

### ì´ë²¤íŠ¸ ì „íŒŒ(Event Propagation)ì´ë€?

ì´ë²¤íŠ¸ ì „íŒŒëŠ” DOM ì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ê°€ ì „ë‹¬ë˜ëŠ” ê³¼ì •ì´ë‹¤. ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìš”ì†Œ(target element)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¶€ëª¨ ìš”ì†Œê¹Œì§€ ì˜¬ë¼ê°€ê±°ë‚˜ ìì‹ìš”ì†Œë¡œ ë‚´ë ¤ê°€ë©´ì„œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
ì´ë²¤íŠ¸ ì „íŒŒëŠ” í¬ê²Œ ë‘ ê°€ì§€ ë‹¨ê³„ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.

- ì´ë²¤íŠ¸ ë²„ë¸”ë§(Event Bubbling)
- ì´ë²¤íŠ¸ ìº¡ì²˜ë§(Event Capturing)

---

### ì´ë²¤íŠ¸ ë²„ë¸”ë§(Event Bubbling)

ì´ë²¤íŠ¸ê°€ íŠ¹ì • DOM ìš”ì†Œì—ì„œ ë°œìƒí•˜ë©´, ê·¸ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìš”ì†Œ(target)ì—ì„œë¶€í„° DOM íŠ¸ë¦¬ë¥¼ ë”°ë¼ ìƒìœ„ ìš”ì†Œë¡œ ì ì  ì˜¬ë¼ê°€ë©° ì „íŒŒë˜ëŠ” ê³¼ì •ì´ë‹¤.
ì´ë•Œ ê° ìƒìœ„ ìš”ì†Œì—ì„œë„ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ê²ƒ ì²˜ëŸ¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

íŠ¹ì • ìš”ì†Œì—ì„œì˜ ì´ë²¤íŠ¸ ë°œìƒ -> ì´ë²¤íŠ¸ íƒ€ê²Ÿì—ì„œë¶€í„° ë¶€ëª¨ ìš”ì†Œë¡œ ì´ë™ -> (ë¶€ëª¨ ìš”ì†Œ -> ë¶€ëª¨ì˜ ë¶€ëª¨ -> ë£¨íŠ¸) -> ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë“±ë¡ëœ ë¶€ëª¨ ìš”ì†Œë“¤ì—ì„œë„ ì´ë²¤íŠ¸ ì²˜ë¦¬ ê°€ëŠ¥

```html
<div id="parent">
    <button id="child">ë²„íŠ¼</button>
</div>
```

ë§Œì•½ ìœ„ì— ë²„íŠ¼ì„ í´ë¦­í•œë‹¤ë©´,

1. ë²„íŠ¼ì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
2. ë²„íŠ¼ì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ divë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
3. divì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
4. divì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ bodyë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
5. bodyì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
6. bodyì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ htmlë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
7. htmlì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
8. htmlì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ documentë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
9. documentì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
10. documentì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ windowë¡œ ì´ë²¤íŠ¸ ì „íŒŒ

ì˜ íë¦„ìœ¼ë¡œ ì´ë²¤íŠ¸ ë²„ë¸”ë§ì´ ë°œìƒí•œë‹¤.

```javascript
document.getElementById('parent').addEventListener('click', () => {
    console.log('parent í´ë¦­ë¨');
});

document.getElementById('child').addEventListener('click', () => {
    console.log('child í´ë¦­ë¨');
});
```

ìœ„ì™€ ê°™ì´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ë©´, ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤.

```
child í´ë¦­ë¨
parent í´ë¦­ë¨
```

ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ, ë²„íŠ¼ì—ì„œ ë°œìƒí•œ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë¶€ëª¨ ìš”ì†Œì¸ divë¡œ ì „íŒŒë˜ë©´ì„œ divì—ì„œë„ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤. ì´ë•Œ, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë“±ë¡ëœ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ëœë‹¤.

---

### ì´ë²¤íŠ¸ ìº¡ì²˜ë§(Event Capturing)

ì´ë²¤íŠ¸ ìº¡ì²˜ë§ì€ ì´ë²¤íŠ¸ ë²„ë¸”ë§ê³¼ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ, DOM íŠ¸ë¦¬ì˜ ìµœìƒìœ„ ìš”ì†Œì—ì„œë¶€í„° ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìš”ì†Œ(target)ê¹Œì§€ ë‚´ë ¤ê°€ëŠ” ê³¼ì •ì´ë‹¤.

DOMì˜ ìµœìƒìœ„(window ë˜ëŠ” document)ì—ì„œ ì‹œì‘ -> (ìµœìƒìœ„ -> í•˜ìœ„ -> target ìš”ì†Œ) -> ì´ë²¤íŠ¸ íƒ€ê²Ÿì— ë„ì°© í›„, ë‹¤ì‹œ ì´ë²¤íŠ¸ ë²„ë¸”ë§ìœ¼ë¡œ ì „í™˜

1. windowì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
2. windowì—ì„œ ìì‹ ìš”ì†Œì¸ documentë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
3. documentì—ì„œ ìì‹ ìš”ì†Œì¸ bodyë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
4. bodyì—ì„œ ìì‹ ìš”ì†Œì¸ divë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
5. divì—ì„œ ìì‹ ìš”ì†Œì¸ buttonìœ¼ë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
6. buttonì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
7. buttonì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ divë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
8. divì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
9. divì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ bodyë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
10. bodyì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
11. bodyì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ documentë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
12. documentì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ
13. documentì—ì„œ ë¶€ëª¨ ìš”ì†Œì¸ windowë¡œ ì´ë²¤íŠ¸ ì „íŒŒ
14. windowì—ì„œ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ

```javascript
document.getElementById('parent').addEventListener('click', () => {
    console.log('parent í´ë¦­ë¨');
}, true); // trueë¥¼ ì¶”ê°€í•˜ì—¬ ìº¡ì²˜ë§ ë‹¨ê³„ì—ì„œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡

document.getElementById('child').addEventListener('click', () => {
    console.log('child í´ë¦­ë¨');
});
```
ìœ„ì™€ ê°™ì´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ë©´, ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤.

```
parent í´ë¦­ë¨
child í´ë¦­ë¨
```

ì¦‰, í•˜ë‚˜ì˜ í´ë¦­ì´ ë°œìƒí•˜ë©´ ë¶€ëª¨ ìš”ì†Œì—ì„œë¶€í„° ìì‹ ìš”ì†Œë¡œ ë‚´ë ¤ê°€ë©´ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ê³ , ë‹¤ì‹œ ìì‹ ìš”ì†Œì—ì„œ ë¶€ëª¨ ìš”ì†Œë¡œ ì˜¬ë¼ê°€ë©´ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤. ì´ë•Œ, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë“±ë¡ëœ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ëœë‹¤.

---

## ì´ë²¤íŠ¸ ë²„ë¸”ë§, ìº¡ì²˜ë§ ì œì–´

### ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€ (event.stopPropagation())

ì´ë²¤íŠ¸ê°€ ë¶€ëª¨ë¡œ ì „ë‹¬ë˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

```javascript
document.getElementById('child').addEventListener('click', (event) => {
    event.stopPropagation(); // ë¶€ëª¨ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€
    console.log('child í´ë¦­ë¨');
});
```

### ê¸°ë³¸ ì´ë²¤íŠ¸ ë°©ì§€ (event.preventDefault())

stopPropagation()ì™€ëŠ” ë‹¬ë¦¬, ê¸°ë³¸ ë™ì‘(ex: ë§í¬ í´ë¦­, í¼ ì œì¶œ ë“±)ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

```javascript
document.getElementById('link').addEventListener('click', (event) => {
    event.preventDefault(); // ê¸°ë³¸ ë™ì‘ ë°©ì§€
    console.log('ë§í¬ í´ë¦­ë¨');
});
```

---

## ì´ë²¤íŠ¸ ë²„ë¸”ë§ê³¼ ìº¡ì²˜ë§ ì‚¬ìš©?

### ì´ë²¤íŠ¸ ë²„ë¸”ë§ í™œìš©

- ì´ë²¤íŠ¸ ìœ„ì„(event delegation) : ìì‹ ìš”ì†Œì— ì§ì ‘ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ì§€ ì•Šê³ , ë¶€ëª¨ ìš”ì†Œì—ì„œ ìì‹ ìš”ì†Œì˜ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬ í•œë‹¤.stopPropagation
- ì„±ëŠ¥ ìµœì í™” : ë§ì€ ìì‹ ìš”ì†Œì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ëŠ” ê²ƒë³´ë‹¤ ë¶€ëª¨ ìš”ì†Œì— í•˜ë‚˜ì˜ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ìƒ ìœ ë¦¬í•˜ë‹¤.
```javaScript
document.querySelector('ul').addEventListener('click', (e) => {
    if(e.target.tagName === 'li'){
        console.log('í´ë¦­í•œ í•­ëª©:', e.target.innerText);
    }
});
```

### ì´ë²¤íŠ¸ ìº¡ì²˜ë§ í™œìš©

- ì¼ë°˜ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì§€ë§Œ, íŠ¹ì • ìš”ì†Œê°€ ì´ë²¤íŠ¸ë¥¼ ê°€ë¡œì±„ì•¼ í•  ë•Œ ìœ ìš©í•˜ë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´, íŠ¹ì • ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ, ë¶€ëª¨ ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ì „ì— ë¨¼ì € íŠ¹ì • ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•´ì•¼ í•  ê²½ìš°ì— ì‚¬ìš©ëœë‹¤.
18:T16ad,
## ì„¸ì…˜ê³¼ ì¿ í‚¤ì˜ ê°œë…

### ì„¸ì…˜(session)

ì„¸ì…˜ì€ ì„œë²„ê°€ ì‚¬ìš©ì(í´ë¼ì´ì–¸íŠ¸)ë§ˆë‹¤ ì •ë³´ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ì„œë²„ì¸¡ì—ì„œ ê´€ë¦¬í•˜ëŠ” ë°ì´í„° ì €ì¥ì†Œë‹¤.
ì„¸ì…˜ ë°ì´í„° ìì²´ëŠ” ì„œë²„ ë©”ëª¨ë¦¬ë‚˜ ë³„ë„ ì €ì¥ì†Œ(DB, Redis ë“±)ì— ì €ì¥í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì—ê²ŒëŠ” ì„¸ì…˜ì„ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ê³ ìœ  ID(session ID)ë¥¼ ë°œê¸‰í•œë‹¤.
ì„¸ì…˜ IDëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ìš”ì²­í•  ë•Œë§ˆë‹¤ í•¨ê»˜ ì „ì†¡ë˜ë©°, ì„œë²„ëŠ” ì´ IDë¥¼ í†µí•´ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ì˜ ì„¸ì…˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•œë‹¤.

- ì„œë²„ ì¸¡ì—ì„œ ê´€ë¦¬, ì €ì¥ : ë°ì´í„°ëŠ” ì„œë²„ì— ìˆìœ¼ë¯€ë¡œ ë³´ì•ˆì„±ì´ ë†’ë‹¤.
- ì„ì‹œ : ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí•˜ê±°ë‚˜ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•˜ë©´ ì„¸ì…˜ ë°ì´í„°ëŠ” ì‚­ì œëœë‹¤.
- ì„œë²„ ë¦¬ì†ŒìŠ¤ : ì‚¬ìš©ìê°€ ë§ì•„ì§€ë©´ ì„œë²„ ë©”ëª¨ë¦¬ë‚˜ ì €ì¥ì†Œì— ë¶€ë‹´ì´ ë  ìˆ˜ ìˆë‹¤.

---

### ì¿ í‚¤(cookie)

ì¿ í‚¤ëŠ” ì‚¬ìš©ì(í´ë¼ì´ì–¸íŠ¸)ì˜ ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ëŠ” ì‘ì€ ë°ì´í„° ì¡°ê°ì´ë‹¤. ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì¿ í‚¤ë¥¼ ë³´ë‚´ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ë¥¼ ì €ì¥í•˜ê³ , ì´í›„ ì„œë²„ì— ìš”ì²­í•  ë•Œë§ˆë‹¤ í•´ë‹¹ ì¿ í‚¤ë¥¼ ì„œë²„ì— ì „ë‹¬í•œë‹¤.
ì´ë¥¼ í†µí•´ ì„œë²„ëŠ” ì‚¬ìš©ì ì •ë³´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ì‹ë³„í•˜ê±°ë‚˜ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.

- í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ê´€ë¦¬, ì €ì¥ : ì¿ í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ë¯€ë¡œ ì„œë²„ì— ë¶€ë‹´ì´ ì ë‹¤.
- ì§€ì†ì„± : ë§Œë£Œ ê¸°ê°„ì„ ì„¤ì •í•  ìˆ˜ ìˆì–´, ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí•´ë„ ì¿ í‚¤ëŠ” ë‚¨ì•„ìˆì„ ìˆ˜ ìˆë‹¤.
- í¬ê¸° ì œí•œ : ì¿ í‚¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ 4KB ì´í•˜ë¡œ ì œí•œëœë‹¤.
- ë³´ì•ˆì„± : ì¿ í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì— ì €ì¥ë˜ë¯€ë¡œ ë³´ì•ˆì„±ì´ ë‚®ë‹¤. ë¯¼ê°í•œ ì •ë³´ëŠ” ì¿ í‚¤ì— ì €ì¥í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.

---

## ì„¸ì…˜ê³¼ ì¿ í‚¤ì˜ ì°¨ì´ì 

| êµ¬ë¶„       | ì„¸ì…˜(session)                          | ì¿ í‚¤(cookie)                           |
|------------|----------------------------------------|----------------------------------------|
| ì €ì¥ ìœ„ì¹˜  | ì„œë²„ ì¸¡                                | í´ë¼ì´ì–¸íŠ¸ ì¸¡                          |
| ë°ì´í„° í¬ê¸° | ì„œë²„ ë©”ëª¨ë¦¬ë‚˜ ì €ì¥ì†Œì— ì €ì¥            | í´ë¼ì´ì–¸íŠ¸ì˜ ë¸Œë¼ìš°ì €ì— ì €ì¥           |
| ë§Œë£Œ ê¸°ê°„  | ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ë˜ëŠ” ë¸Œë¼ìš°ì € ì¢…ë£Œ ì‹œ ì‚­ì œ | ë§Œë£Œ ê¸°ê°„ ì„¤ì • ê°€ëŠ¥                     |
| ë³´ì•ˆì„±     | ìƒëŒ€ì ìœ¼ë¡œ ë†’ìŒ                        | ìƒëŒ€ì ìœ¼ë¡œ ë‚®ìŒ                        |
| ì‚¬ìš© ìš©ë„   | ì‚¬ìš©ì ì¸ì¦, ì¥ë°”êµ¬ë‹ˆ ë“± ìƒíƒœ ìœ ì§€      | ì‚¬ìš©ì ì„¤ì •, ë¡œê·¸ì¸ ì •ë³´ ë“± ì§€ì†ì  ì €ì¥ |
| ì„œë²„ ë¦¬ì†ŒìŠ¤ | ì‚¬ìš©ìê°€ ë§ì•„ì§€ë©´ ë¶€ë‹´ì´ ë  ìˆ˜ ìˆìŒ     | ì„œë²„ì— ë¶€ë‹´ì´ ì ìŒ                      |
| í¬ê¸° ì œí•œ  | ì—†ìŒ                                   | ì¼ë°˜ì ìœ¼ë¡œ 4KB ì´í•˜                    |
| HTTP ì „ì†¡  | ì„¸ì…˜ IDë¥¼ í†µí•´ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì „ì†¡ | ì¿ í‚¤ë¥¼ í†µí•´ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ì— ì „ì†¡  |
| ë³´ì•ˆ ì„¤ì •   | HTTPS ì „ì†¡ ì‹œ ë³´ì•ˆ ì„¤ì • ê°€ëŠ¥            | HttpOnly, Secure ì†ì„±ìœ¼ë¡œ ë³´ì•ˆ ì„¤ì • ê°€ëŠ¥ |
| ë§Œë£Œ ì„¤ì •   | ì„œë²„ì—ì„œ ê´€ë¦¬                          | í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê´€ë¦¬                     |
| ì‚¬ìš© ì˜ˆì‹œ   | ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€, ì¥ë°”êµ¬ë‹ˆ ì •ë³´ ì €ì¥    | ì‚¬ìš©ì ì„¤ì •, ë¡œê·¸ì¸ ì •ë³´ ì €ì¥           |
| ì‚­ì œ ë°©ë²•   | ì„œë²„ì—ì„œ ì„¸ì…˜ ì‚­ì œ                     | í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¿ í‚¤ ì‚­ì œ                |

---

## ì„¸ì…˜ê³¼ ì¿ í‚¤ì˜ ì‚¬ìš© ì˜ˆì‹œ

### ì„¸ì…˜ ì‚¬ìš© ì˜ˆì‹œ

- ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ : ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ë©´ ì„œë²„ëŠ” ì„¸ì…˜ì„ ìƒì„±í•˜ê³ , ì„¸ì…˜ IDë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•œë‹¤. ì´í›„ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ì„¸ì…˜ IDë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì— ìš”ì²­í•  ë•Œë§ˆë‹¤ ë¡œê·¸ì¸ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
- ì¥ë°”êµ¬ë‹ˆ ì •ë³´ : ì‚¬ìš©ìê°€ ì‡¼í•‘ëª°ì—ì„œ ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆì„ ë‹´ìœ¼ë©´, ì„œë²„ëŠ” ì„¸ì…˜ì— ì¥ë°”êµ¬ë‹ˆ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤. ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ì´ë™í•˜ë”ë¼ë„ ì¥ë°”êµ¬ë‹ˆ ì •ë³´ëŠ” ìœ ì§€ëœë‹¤.
- ì‚¬ìš©ì ë§ì¶¤í˜• ì •ë³´ : ì‚¬ìš©ìê°€ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì„¤ì •í•œ ê°œì¸í™”ëœ ì •ë³´ë¥¼ ì„¸ì…˜ì— ì €ì¥í•˜ì—¬, ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ì´ë™í•˜ë”ë¼ë„ í•´ë‹¹ ì •ë³´ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
```javaScript
const session = require('express-session');

app.use(session({
  secret: 'secret-key', // ì•”í˜¸í™”ìš© í‚¤
  resave: false,
  saveUninitialized: true,
  cookie: { secure: true }
}));

app.post('/login', (req, res) => {
  req.session.user = { id: 'user123', name: 'john' };
});
```

---

### ì¿ í‚¤ ì‚¬ìš© ì˜ˆì‹œ
- ë¡œê·¸ì¸ ì •ë³´ : ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ë©´ ì„œë²„ëŠ” ì¿ í‚¤ì— ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì €ì¥í•˜ê³ , ì´í›„ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆë‹¤.
- ì‚¬ìš©ì ì„¤ì • : ì‚¬ìš©ìê°€ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì„¤ì •í•œ ì–¸ì–´, í…Œë§ˆ ë“±ì„ ì¿ í‚¤ì— ì €ì¥í•˜ì—¬, ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ì´ë™í•˜ë”ë¼ë„ í•´ë‹¹ ì„¤ì •ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
- ê´‘ê³  ì¶”ì  : ê´‘ê³  ë„¤íŠ¸ì›Œí¬ëŠ” ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ í–‰ë™ì„ ì¶”ì í•˜ê³ , ë§ì¶¤í˜• ê´‘ê³ ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.

```javaScript
// Cookie ìƒì„± ì˜ˆì‹œ
document.cookie = "username=john; expires=Fri, 31 Dec 2024 23:59:59 GMT; path=/";

// ì„œë²„ì—ì„œ ì¿ í‚¤ ì„¤ì • (Express ì˜ˆì‹œ)
res.cookie('username', 'john', { maxAge: 900000, httpOnly: true });
```

---

### ì •ë¦¬

ê²°êµ­, ë‘˜ì˜ í•µì‹¬ì ì¸ ì°¨ì´ëŠ” ì €ì¥ ìœ„ì¹˜(ì„œë²„ vs í´ë¼ì´ì–¸íŠ¸)ì™€ ì§€ì†ì„±, ë³´ì•ˆì„±ì— ìˆë‹¤.

- ì„¸ì…˜(Session): ë¯¼ê°í•œ ë°ì´í„°ë‚˜ ì¼ì‹œì ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ë°ì´í„°, ì„œë²„ì—ì„œ ê´€ë¦¬ê°€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì €ì¥.
- ì¿ í‚¤(Cookie): ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì—ì„œ ì €ì¥í•˜ëŠ” ê°„ë‹¨í•˜ê³  ê°€ë²¼ìš´ ë°ì´í„°ë¥¼ ì €ì¥, ì‚¬ìš©ìì˜ ì„¤ì • ê°’, ì§€ì†ì ì¸ ì¶”ì , ê°œì¸í™” ë°ì´í„°ì— ì í•©.
19:T1494,
### React Parallel Routesì™€ View Transitions API

ì›¹ë·° ê°œë°œì‹œ AOSì—ì„œ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëª¨ë‹¬ì´ ë‹«íˆì§€ ì•Šê³ , ì•±ì´ ì¢…ë£Œë˜ê±°ë‚˜ ì›¹ë·°ê°€ ë‹«íˆëŠ” ì´ìŠˆê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.
ë³´í†µ ëª¨ë‹¬ì„ ë§Œë“¤ ë•Œ ì—´ê³  ë‹«íˆëŠ” ìƒíƒœ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë‹¬ì„ ë§Œë“ ë‹¤. ì´ëŸ° ê²½ìš° ì• ë‹ˆë©”ì´ì…˜ ì²˜ë¦¬ë‚˜ URL ë™ê¸°í™”, ë’¤ë¡œê°€ê¸° ë™ì‘ì„ ì²˜ë¦¬í•˜ê¸°ê°€ ë¶ˆí¸í•  ìˆ˜ ìˆë‹¤.

ì´ëŸ¬í•œ ë‹¨ì ì„ í•´ê²°í•˜ê¸°ìœ„í•´ `react-router-dom`ìœ¼ë¡œ ë³‘ë ¬ ë¼ìš°íŒ…ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
ì´ ê¸€ì—ì„œëŠ” `react-router-dom`ì„ ì‚¬ìš©í•˜ì—¬ ë³‘ë ¬ ë¼ìš°íŒ…ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ê³¼ `View Transitions API`ë¥¼ í™œìš©í•˜ì—¬ ëª¨ë‹¬ ì• ë‹ˆë©”ì´ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì‘ì„±í•˜ê³ ì í•œë‹¤.

Nextjs ì—ì„œëŠ” appRouterì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë³‘ë ¬ ë¼ìš°íŒ…ì„ ì§€ì›í•œë‹¤.

```
app/
â”œâ”€â”€ layout.tsx
â”œâ”€â”€ page.tsx              # í™ˆ
â”œâ”€â”€ inbox/
â”‚   â”œâ”€â”€ page.tsx          # ë¦¬ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ @modal/           # ë³‘ë ¬ ìŠ¬ë¡¯
â”‚   â”‚   â”œâ”€â”€ default.tsx   # ëª¨ë‹¬ ì—†ëŠ” ê¸°ë³¸ í™”ë©´
â”‚   â”‚   â””â”€â”€ [id]/page.tsx # íŠ¹ì • ëª¨ë‹¬ ì—´ë¦´ ë•Œ
```

```typescript jsx
export default function InboxLayout({
  children,
  modal,
}: {
  children: React.ReactNode;
  modal: React.ReactNode;
}) {
  return (
    <div>
      {children}
      {modal}
    </div>
  );
}
```
ëŒ€ì¶© ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. ê·¸ëŸ¼ Reactì—ì„œëŠ” ì–´ë–»ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì„ê¹Œ?

ë¨¼ì € ê°„ë‹¨í•˜ê²Œ ë¼ìš°íŒ…ì„ êµ¬ì„±í•´ë³´ì

```typescript jsx
// App.tsx
import {createBrowserRouter, RouterProvider} from "react-router-dom";
import ListPage from "./routes/ListPage.tsx";
import DetailModal from "./components/DetailModal.tsx";

const router = createBrowserRouter([
    {
        path: '/list',
        element: <ListPage />,
        children: [
            {
                path: ':id',
                element: <DetailModal />,
            },
        ],
    },
]);

function App() {
    return <RouterProvider router={router} />;
}


export default App
```
/list/1 ë¡œ ì ‘ê·¼í–ˆì„ ë•Œ, createPortalë¡œ êµ¬ì„±í•œ ëª¨ë‹¬ì´ ì—´ë¦¬ê²Œí•˜ê³ , ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëª¨ë‹¬ì´ ë‹«íˆê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```typescript jsx
// ListPage.tsx
import {Outlet} from 'react-router-dom';
import useViewTransitionNavigate from "../hooks/useViewTransitionnavigate.ts";

export default function ListPage() {
    const navigate = useViewTransitionNavigate();

    return (
        <div>
            <h2>ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€</h2>
            <ul>
                {[1, 2, 3].map(id => (
                    <li key={id}>
                        <button onClick={() => navigate(`/list/${id}`)}>Item {id} ë³´ê¸°</button>
                    </li>
                ))}
            </ul>

            <Outlet />
        </div>
    );
}
```

ListPageì—ì„œëŠ” Outletì„ ì‚¬ìš©í•˜ì—¬ ë³‘ë ¬ ë¼ìš°íŒ…ì„ êµ¬í˜„í–ˆë‹¤.
ì—¬ê¸°ì„œ Outletì€ ì¤‘ì²© ë¼ìš°íŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì¸ë°, ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.
`<Outlet />`ì„ ì‚¬ìš©í•˜ì—¬ ListPageì˜ ìì‹ì¸ ëª¨ë‹¬ì„ ë Œë”ë§í•  ìˆ˜ ìˆë‹¤.

```typescript jsx
    children: [
        {
            path: ':id',
            element: <DetailModal />,
        },
    ]
````

```typescript jsx
// DetailModal.tsx
import {useParams} from 'react-router-dom';
import Modal from './Modal';
import useViewTransitionNavigate from "../hooks/useViewTransitionnavigate.ts";

export default function DetailModal() {
    const { id } = useParams();
    const navigate = useViewTransitionNavigate();

    return (
        <Modal onClose={() => navigate('/list')}>
            <h3>Item {id} ìƒì„¸</h3>
            <p>ì´ê±´ ëª¨ë‹¬ì…ë‹ˆë‹¤</p>
        </Modal>
    );
}
```

```typescript jsx
// useViewTransitionNavigate.tsx
import {useNavigate} from 'react-router-dom';

export default function useViewTransitionNavigate() {
    const navigate = useNavigate();

    return (to: string | number) => {
        if (typeof to === 'number') {
            return navigate(to);
        }

        if ('startViewTransition' in document) {
            (document).startViewTransition(() => navigate(to));
        } else {
            navigate(to);
        }
    };
}
```

ê°„ë‹¨í•œ hookì„ ë§Œë“¤ì–´ì„œ `startViewTransition`ì´ ì§€ì›ë˜ëŠ” ê²½ìš°ì—ë§Œ ì• ë‹ˆë©”ì´ì…˜ì„ ì ìš©í•˜ë„ë¡ í–ˆë‹¤.
View Transitions APIëŠ” DOM ë³€ê²½ì„ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” APIë¡œ, ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›í•˜ëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
ëŒ€ë¶€ë¶„ í¬ë¡¬ê³„ì—´ì˜ ë¸Œë¼ìš°ì €ë§Œ ì§€ì›í•˜ê³ , ì•„ì§ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ê°€ ë§ì•„ì„œ ëª¨ë°”ì¼ í™˜ê²½ì˜ ì›¹ë·°ì—ì„œëŠ” ì‚¬ìš©í•˜ê¸° í˜ë“¤ê²ƒ ê°™ë‹¤.

View Transitions API ëŒ€í•´ì„œëŠ” ë‹¤ìŒì— ì‘ì„±í•˜ëŠ”ê±¸ë¡œí•˜ê³ ,, ìœ„ì²˜ëŸ¼ êµ¬í˜„í•´ì„œ ëª¨ë‹¬ì„ ë„ìš°ë©´ URLì´ /list/1ë¡œ ë³€ê²½ë˜ê³ , /list í˜ì´ì§€ì—ì„œ ëª¨ë‹¬ì´ ì—´ë¦¬ê²Œ ëœë‹¤.

<img src="/assets/blog/javaScript/parallel-routes.gif" width={300} height={300} alt="post image"/>

ì´ëŸ° ì‹ìœ¼ë¡œ ëª¨ë‹¬ì„ êµ¬í˜„í•˜ë©´ ì¢€ ë” ì•±ìŠ¤ëŸ¬ìš´ UXë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.
ë’¤ë¡œê°€ê¸°ì‹œì—ë„ ëª¨ë‹¬ì´ ë‹«íˆê³ , URLë„ ë³€ê²½ë˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìê°€ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ëª¨ë‹¬ì´ ë‹«íˆëŠ” ë™ì‘ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

1a:T3de5,
### ë“¤ì–´ê°€ë©°
ë‹¨ìˆœí•œ ìŠ¤í„°ë””ì—ì„œ ì‹œì‘í–ˆì§€ë§Œ, ì˜ˆë¹„ì°½ì—…íŒ¨í‚¤ì§€ì—ë„ ì„ ì •ë˜ë©° ì•„ì£¼ ì‘ì€ ìŠ¤íƒ€íŠ¸ì—…ì²˜ëŸ¼ ìš´ì˜í•˜ê²Œ ëœ ìŠ¤í„°ë””ë¥¼ íšŒê³ í•˜ë©° ëŠë‚€ ì ê³¼ ë°°ìš´ ì ì„ ì •ë¦¬í•´ë³´ë ¤ í•œë‹¤.

ìš°ë¦¬íŒ€ì€ ì´ˆê¸°ì— 9ëª…ì •ë„ë¡œ êµ¬ì„±ë˜ì—ˆê³ , íŒ€ì¥ì€ ëŒ€í•™ìƒì´ì—ˆìœ¼ë©°, ë‚˜ë¨¸ì§€ êµ¬ì„±ì›ì˜ ëŒ€ë¶€ë¶„ì´ ì§ì¥ì¸ì´ì—ˆë‹¤.

ê¸°íšì, ë””ìì´ë„ˆ, ë°±ì—”ë“œ, í”„ë¡ íŠ¸ ë“± ë‹¤ì–‘í•œ ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” íŒ€ì›ë“¤ì´ ëª¨ì—¬ í˜‘ì—…ì„ ì§„í–‰í–ˆìœ¼ë©°, ê±°ì˜ ìŠ¤íƒ€íŠ¸ì—…ê³¼ ìœ ì‚¬í•œ í˜•íƒœë¡œ ìš´ì˜ë˜ì—ˆë‹¤.

2ë…„ê°„ íœ´ì¼ì„ ì œì™¸í•˜ê³ ëŠ” ë§¤ì£¼ ë¹ ì§ì—†ì´ 1íšŒì”© ì •ê¸° íšŒì˜ë¥¼ ì§„í–‰í•˜ì˜€ë‹¤.

---

ì´ˆê¸° FEëŠ” nxë¥¼ ì´ìš©í•˜ì—¬ monorepoë¡œ êµ¬ì„±í•˜ì˜€ë‹¤.

Next.jsì„ ì´ìš©í•˜ì—¬ ì›¹ë·°ê¸°ë°˜ì˜ ì•±ì„ êµ¬ì„±í•˜ì˜€ê³ , ì•±ì€ react-nativeë¡œ ë¹Œë“œí•´ ë°°í¬í•˜ì˜€ë‹¤.

---

### ì›¹ë·°ëŠ” ë¶ˆí¸í–ˆë‹¤
ì›¹ë·°ì—ì„œì˜ ì œì•½ë“¤ì´ ë„ˆë¬´ ë§ë‹¤ê³  ëŠê»´ì¡Œë‹¤.
- ë””ë°”ì´ìŠ¤ì˜ GPSë¥¼ ë°›ì•„ì™€ ì‚¬ìš©ìì˜ ìœ„ì¹˜ë¥¼ ì›¹ë·°ë¡œ ì „ì†¡í•˜ì—¬ ì›¹ë·°ì—ì„œ í•´ë‹¹ ìœ„ì¹˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë³‘ì›ë“¤ì„ ê²€ìƒ‰í•˜ê¸°ë„ í–ˆê³ , í•´ë‹¹ ìœ„ì¹˜ë¥¼ ë§ˆì»¤ë¡œ ê·¸ë¦¬ê¸°ë„ í–ˆë‹¤.


ë˜í•œ ì•±ì—ì„œ ë°›ì€ ê¶Œí•œë“¤ì„ ì›¹ë·°ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•œ ëª¨ë“  ê³¼ì •ë“¤ì´ ê°œë°œì ì¸¡ë©´ì—ì„œ ë„ˆë¬´ ë¶ˆí¸í•˜ê²Œ ë‹¤ê°€ì™”ë‹¤.
<img src="/assets/blog/javaScript/web-react-native.png" width="100%" alt="ë¦¬ì•¡íŠ¸ì™€ ë¦¬ì•¡íŠ¸ë„¤ì´í‹°ë¸Œ ì°¨ì´"/>
ì´ë¯¸ì§€ ì¶œì²˜ : [toss](https://toss.tech/article/react-native-2024)
- ì•± ë¡œë”© ì†ë„ì™€ í˜ì´ì§€ ì „í™˜ ì†ë„ì— ìˆì–´ì„œë„, ì•±ì— ë¹„í•´ ì›¹ë·°ëŠ” ë„¤íŠ¸ì›Œí¬ê°€ ì¡°ê¸ˆë§Œ ëŠë ¤ì§„ë‹¤ê±°ë‚˜, html, css, jsë¥¼ ëª¨ë‘ ë‹¤ìš´ë°›ì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìì…ì¥ì—ì„œ ì•±ì´ êµ‰ì¥íˆ ëŠë¦¬ê²Œ ëŠê»´ì¡Œë‹¤.
- ë°°í¬ ë°©ì‹ê³¼ ë¹„ìš©ì ì¸ ì¸¡ë©´
    - ì´ˆê¸° MVPë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì›¹ë·°ê°€ ì¢‹ì§€ë§Œ, ì´í›„ì— ë³´ë‹¤ ì •êµí•œ ì•±ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ì›¹ë·°ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤ê³  ëŠê¼ˆë‹¤.
    - ì›¹ë·°ëŠ” ë³„ë„ì˜ ë„ë©”ì¸ ë¹„ìš©ê³¼ í˜¸ìŠ¤íŒ…ë¹„ìš©ì´ ë”°ë¡œ ë“¤ê¸° ë•Œë¬¸ì—, ì¥ê¸°ì ìœ¼ë¡œ ë´¤ì„ë•Œ ì•±ì„ ë°°í¬í•˜ê¸° ìœ„í•´ì„œëŠ” ì›¹ë·°ë¥¼ ì‚¬ìš©í•˜ê¸°ë³´ë‹¤ëŠ” ì•±ì„ ê°œë°œí•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì´ë¼ê³  ëŠê»´ì¡Œë‹¤.
    - ì›¹ë³´ë‹¤ëŠ” ì•±ì„œë¹„ìŠ¤ê°€ ì£¼ë ¥ì´ì—ˆë‹¤.

---

### React Nativeë¡œì˜ ì „í™˜
ì›¹ë·°ë¥¼ ê³¼ê°íˆ ë²„ë¦¬ê³ , ìƒˆë¡­ê²Œ react-nativeë¡œ ì•±ì„ ê°œë°œí•˜ê¸°ë¡œ í–ˆë‹¤.

ë‹¤í–‰íˆ ì´ì „íšŒì‚¬ì—ì„œ react-nativeë¡œ ëª‡ê°€ì§€ ì•±ì„ ê°œë°œí•´ë³¸ ê²½í—˜ë„ìˆì—ˆê³ , ê°œì¸ì ìœ¼ë¡œ ì•± ê°œë°œì— ëŒ€í•´ ê´€ì‹¬ì´ ë§ì•˜ê¸° ë•Œë¬¸ì—, react-nativeë¡œì˜ ì „í™˜ì€ í° ì–´ë ¤ì›€ì´ ì—†ì—ˆë‹¤.
ëª‡ê°€ì§€ ê¸°ì–µë‚˜ëŠ” ì ë“¤ì„ ì •ë¦¬í•´ë³´ìë©´
- íŠ¹íˆ ì§€ë„ ì´ìŠˆê°€ ì»¸ë‹¤. ì¹´ì¹´ì˜¤, ë„¤ì´ë²„ ì§€ë„ì˜ ê³µì‹ SDKê°€ ë¶€ì¬í–ˆê³ , ì§€ì› ê°€ëŠ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ëŒ€ë¶€ë¶„ ì—…ë°ì´íŠ¸ê°€ ì¤‘ë‹¨ëœ ìƒíƒœì˜€ë‹¤. ê·¸ ì¤‘ í•œë¶„ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ https://github.com/mym0404/react-native-naver-map ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.
    - í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” v2 ì´ìƒì€ react-nativeì— ìƒˆë¡œìš´ì•„í‚¤í…ì²˜ë§Œ ì§€ì›í•˜ì˜€ê³ , v1ì€ í´ëŸ¬ìŠ¤í„°ë¥¼ ì§€ì›í•˜ì§€ ì•Šì•„ í´ëŸ¬ìŠ¤í„°ë§Œ ë”°ë¡œ êµ¬í˜„í•˜ê¸°ë¡œ í–ˆë‹¤.
    - í´ëŸ¬ìŠ¤í„°ë¥¼ ì–´ë–¤ì‹ìœ¼ë¡œ êµ¬í˜„í• ì§€ ì„œì¹˜í•´ë³´ë‹¤ê°€ k-meansì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œ react-native-maps ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ í´ëŸ¬ìŠ¤í„°ë§ì„ êµ¬í˜„í•œ ê²ƒì„ ë³´ê³ , í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¸ê³ í•˜ì—¬ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤.
```typescript
export const kMeansClustering = (
  points: { latitude: number; longitude: number }[],
  k: number,
  maxIterations: number = 100,
  mergeDistance: number = 500, // ë³‘í•© ê±°ë¦¬ (ë¯¸í„°)
): { latitude: number; longitude: number; points: { latitude: number; longitude: number }[] }[] => {
  if (points.length === 0 || k <= 0) {
    throw new Error('Invalid input: No points or invalid number of clusters.');
  }

  // ì´ˆê¸° ì¤‘ì‹¬ì  ëœë¤ ì„ íƒ
  const centroids = Array.from(new Set(points))
    .sort(() => Math.random() - 0.5)
    .slice(0, k)
    .map(point => ({
      latitude: point.latitude,
      longitude: point.longitude,
    }));

  let clusters: { latitude: number; longitude: number; points: { latitude: number; longitude: number }[] }[] = [];
  let iteration = 0;

  while (iteration < maxIterations) {
    // í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™”
    clusters = centroids.map(centroid => ({
      ...centroid,
      points: [],
    }));

    // ê° í¬ì¸íŠ¸ë¥¼ ê°€ì¥ ê°€ê¹Œìš´ ì¤‘ì‹¬ì ì— í• ë‹¹
    points.forEach(point => {
      let closestIndex = 0;
      let minDistance = Infinity;

      centroids.forEach((centroid, index) => {
        const distance = calculateDistance(point.latitude, point.longitude, centroid.latitude, centroid.longitude);
        if (distance < minDistance) {
          minDistance = distance;
          closestIndex = index;
        }
      });

      clusters[closestIndex].points.push(point);
    });

    // ë¹ˆ í´ëŸ¬ìŠ¤í„° ì²˜ë¦¬ (ì¬ë°°ì¹˜)
    clusters.forEach((cluster, index) => {
      if (cluster.points.length === 0) {
        const largestCluster = clusters.reduce((max, current) =>
          current.points.length > max.points.length ? current : max,
        );
        const pointToMove = largestCluster.points.pop();
        if (pointToMove) {
            clusters[index].points.push(pointToMove);
        }
      }
    });

    // ìƒˆë¡œìš´ ì¤‘ì‹¬ì  ê³„ì‚°
    const newCentroids = clusters.map(cluster => {
      const count = cluster.points.length;
      if (count === 0) {
          return cluster;  // ë¹ˆ í´ëŸ¬ìŠ¤í„°ëŠ” ê¸°ì¡´ ì¤‘ì‹¬ ìœ ì§€
      }

      const avgLat = cluster.points.reduce((sum, point) => sum + point.latitude, 0) / count;
      const avgLon = cluster.points.reduce((sum, point) => sum + point.longitude, 0) / count;

      return { latitude: avgLat, longitude: avgLon };
    });

    // ì¤‘ì‹¬ì  ì—…ë°ì´íŠ¸
    centroids.splice(0, centroids.length, ...newCentroids);

    iteration++;
  }

  // í´ëŸ¬ìŠ¤í„°ì˜ í¬ì¸íŠ¸ê°€ 1ê°œì¸ ê²½ìš° ì²˜ë¦¬
  clusters = clusters.map(cluster => {
    if (cluster.points.length === 1) {
      const singlePoint = cluster.points[0];
      const nearbyPoints = points.filter(point => {
        const distance = calculateDistance(
          singlePoint.latitude,
          singlePoint.longitude,
          point.latitude,
          point.longitude,
        );
        return distance <= mergeDistance && point !== singlePoint;
      });

      // ì£¼ë³€ í¬ì¸íŠ¸ ì¶”ê°€
      cluster.points.push(...nearbyPoints);

      // ë³‘í•© í›„ ì¤‘ì‹¬ì  ì¬ê³„ì‚°
      cluster.latitude = cluster.points.reduce((sum, point) => sum + point.latitude, 0) / cluster.points.length;
      cluster.longitude = cluster.points.reduce((sum, point) => sum + point.longitude, 0) / cluster.points.length;
    }
    return cluster;
  });

  return clusters;
};
```
`1. ì´ˆê¸° ì¤‘ì‹¬ì (Centroids) ì„¤ì •`
- ì…ë ¥ë°›ì€ í¬ì¸íŠ¸ ì¤‘ ëœë¤ìœ¼ë¡œ kê°œì˜ ì¤‘ì‹¬ì ì„ ì„ íƒ

`2. í¬ì¸íŠ¸ í• ë‹¹`
- ê° í¬ì¸íŠ¸ë¥¼ ê°€ì¥ ê°€ê¹Œìš´ ì¤‘ì‹¬ì ì— í• ë‹¹

`3. ë¹ˆ í´ëŸ¬ìŠ¤í„° ì²˜ë¦¬`
- íŠ¹ì • ì¤‘ì‹¬ì ì— ì•„ë¬´ í¬ì¸íŠ¸ë„ í• ë‹¹ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸°ë•Œë¬¸ì—, ê°€ì¥ í° í´ëŸ¬ìŠ¤í„°ì—ì„œ í¬ì¸íŠ¸ë¥¼ í•˜ë‚˜ ê°€ì ¸ì™€ì„œ ë¹ˆ í´ëŸ¬ìŠ¤í„°ì— ë°°ì¹˜

`4. ì¤‘ì‹¬ì  ì¬ê³„ì‚°`
- ê° í´ëŸ¬ìŠ¤í„°ì˜ ì¤‘ì‹¬ì  ìœ„ì¹˜ë¥¼ í´ëŸ¬ìŠ¤í„°ì— ì†í•œ í¬ì¸íŠ¸ë“¤ì˜ í‰ê·  ì¢Œí‘œë¡œ ë‹¤ì‹œ ê³„ì‚°

`5. ë°˜ë³µ`
- ì¤‘ì‹¬ì  ìœ„ì¹˜ê°€ ê±°ì˜ ë³€í•˜ì§€ ì•Šì„ ë•Œê¹Œì§€ ë˜ëŠ” ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜ê¹Œì§€ ì´ ê³¼ì •ì„ ë°˜ë³µ

`6. í¬ì¸íŠ¸ê°€ 1ê°œì¸ í´ëŸ¬ìŠ¤í„° ì²˜ë¦¬`
- í´ëŸ¬ìŠ¤í„°ì— í¬ì¸íŠ¸ê°€ í•˜ë‚˜ë¿ì¸ ê²½ìš°, ì¼ì • ê±°ë¦¬ ë‚´ ë‹¤ë¥¸ í¬ì¸íŠ¸ë¥¼ ì¶”ê°€

---

### ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜
<img src="/assets/blog/javaScript/medical-animation.gif" width="300px" alt="ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜"/>

```typescript jsx
  const scrollY = useSharedValue(0);
  const { top, right, left, bottom } = useSafeAreaInsets();
  const viewRef = useRef<FlatList>(null);

  const scrollHandler = useAnimatedScrollHandler({
    onScroll: event => {
      scrollY.value = event.contentOffset.y;
    },
  });

  const petWrapperStyle = useAnimatedStyle(() => {
    const translateY = interpolate(scrollY.value, [0, 100], [0, -100], Extrapolation.CLAMP);
    const opacity = interpolate(scrollY.value, [0, 100], [1, 0], Extrapolation.CLAMP);
    const height = interpolate(scrollY.value, [0, 180], [180, 0], Extrapolation.CLAMP);

    return {
      transform: [{ translateY: translateY }],
      opacity,
      height: withTiming(height, {
        duration: 50,
      }),
      overflow: 'hidden',
      useNativeDriver: true,
    };
  });

<>
      <Animated.View
        style={[
          styles.petWrapper,
          petWrapperStyle,
          {
            paddingTop: top,
            paddingLeft: left,
            paddingRight: right,
          },
        ]}
      >
        {...}
      </Animated.View>

      <View style={{ backgroundColor: color.white['500'] }}>
        {...}
      </View>

      <Animated.FlatList
        ref={viewRef}
        scrollEventThrottle={16}
        onScroll={scrollHandler}
        contentContainerStyle={[styles.listWrapper]}
        data={hospitalData}
        keyExtractor={keyExtractor}
        renderItem={renderItem}
        stickyHeaderHiddenOnScroll={false}
        ListHeaderComponent={
          ...
        }
        ListFooterComponent={
          ...
        }
        onEndReached={loadMore}
        onEndReachedThreshold={0.5}
        ListEmptyComponent={
          ...
        }
      />
    </>
```
ìœ„ì™€ ê°™ì€ êµ¬ì¡°ì—ì„œ ìŠ¤í¬ë¡¤ì„ ë‚´ë ¸ì„ë•Œ
```typescript jsx
      <View style={{ backgroundColor: color.white['500'] }}>
        {...}
      </View>
```

í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë§Œ ìµœìƒë‹¨ìœ¼ë¡œ ë°°ì¹˜í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì‚¬ë¼ì§€ê²Œ í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í–ˆë‹¤.

ë¨¼ì €, useSharedValue(0)ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì í•˜ê³ , ìŠ¤í¬ë¡¤ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ scrollHandlerê°€ í˜¸ì¶œë˜ë©´ì„œ, í˜„ì¬ì˜ ìŠ¤í¬ë¡¤ ê°’ì„ scrollY.valueì— ì €ì¥í–ˆë‹¤.

ì €ì¥ëœ scrollYì— ë”°ë¼ ì‚¬ë¼ì§€ê²Œ í•´ì•¼í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ìŠ¤íƒ€ì¼ì„ useAnimatedStyleì„ ì‚¬ìš©í•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ì£¼ì—ˆë‹¤.

```typescript jsx
  const petWrapperStyle = useAnimatedStyle(() => {
    const translateY = interpolate(scrollY.value, [0, 100], [0, -100], Extrapolation.CLAMP);
    const opacity = interpolate(scrollY.value, [0, 100], [1, 0], Extrapolation.CLAMP);
    const height = interpolate(scrollY.value, [0, 180], [180, 0], Extrapolation.CLAMP);

    return {
      transform: [{ translateY: translateY }],
      opacity,
      height: withTiming(height, {
        duration: 50,
      }),
      overflow: 'hidden',
      useNativeDriver: true,
    };
  });
```

react-native-reanimatedì˜ interpolateë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì— ë”°ë¼ translateY, opacity, heightë¥¼ ì¡°ì •í•˜ì˜€ë‹¤.

- translateY: ìŠ¤í¬ë¡¤ì´ 0 ~ 100ì¼ ë•Œ ìœ„ë¡œ ìµœëŒ€ -100ë§Œí¼ ì´ë™.
- opacity: ìŠ¤í¬ë¡¤ì´ 0 ~ 100ì¼ ë•Œ íˆ¬ëª…ë„ê°€ 1 â†’ 0ìœ¼ë¡œ ë³€í™”.
- height: ìŠ¤í¬ë¡¤ì´ 0 ~ 180ì¼ ë•Œ ë†’ì´ê°€ 180 â†’ 0ìœ¼ë¡œ ì¤„ì–´ë“¬.

ê²°ê³¼ì ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ìœ„ë¡œ ìŠ¤í¬ë¡¤í•˜ë©´, ì˜ì—­ì€ ì ì  ìœ„ë¡œ ì´ë™í•˜ë©° íˆ¬ëª…í•˜ê²Œ ì‚¬ë¼ì§€ê³  ë†’ì´ë„ ì¶•ì†Œëœë‹¤.

### 1ì°¨ MVP ë°°í¬ì™€ ì˜ˆë¹„ì°½ì—…íŒ¨í‚¤ì§€ ì„ ì •
ë³‘ì›ì§€ë„, ë³‘ì›ìƒì„¸í˜ì´ì§€, ê°€ê²©ì •ë³´ì™€ ë¦¬ë·° ë“±ì„ ì œê³µí•˜ëŠ” ì•±ì„ ê°œë°œí•˜ì—¬ 1ì°¨ MVPë¥¼ ë°°í¬í•˜ì˜€ë‹¤.

ì´ë•Œ ì˜ˆë¹„ì°½ì—…íŒ¨í‚¤ì§€ì— ì„ ì •ë˜ì—ˆê³ , ì•½ 5ì²œë§Œì› ì´ìƒì˜ ì§€ì›ê¸ˆì„ ë°›ì„ ìˆ˜ ìˆì—ˆë‹¤.

í•´ë‹¹ê¸ˆì•¡ì€ ë§ˆì¼€íŒ…, ì¸ê±´ë¹„, ì„œë²„ë¹„ìš©, ê¸°íƒ€ ì‘ì—… íˆ´ ë¹„ìš© ë“±ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆë‹¤.

---

### ì˜ˆë¹„ì°½ì—…íŒ¨í‚¤ì§€ ì´í›„: 2ì°¨, 3ì°¨ ì—…ë°ì´íŠ¸
ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ 9ëª… ì •ë„ì—ì„œ ì‹œì‘í–ˆë˜ íŒ€ì›ì€ 5ëª…ê¹Œì§€ ì¤„ê²Œë˜ì—ˆë‹¤. ë‚˜ëŠ” ê³„ì† í‡´ê·¼ í›„ íŒŒíŠ¸ë¡œ ì‘ì—…ì„ í–ˆê³ , í’€íƒ€ì„ìœ¼ë¡œ ì‘ì—…ì„ í•˜ì‹¤ ì¸ì›ë“¤ì´ ìƒˆë¡œ í•©ë¥˜í•˜ì‹  ì‹œê¸°ì´ê¸°ë„ í–ˆë‹¤.

1ì°¨ ë•Œë³´ë‹¤ëŠ” ì¢€ ë” ì°½ì—…ì˜ í˜•íƒœë¡œ ë°”ë€Œì—ˆê³  ë‹¤ë¥¸ êµ¬ì„±ì›ë“¤ì˜ ì±…ì„ê°ê³¼ ëª°ì…ë„ê°€ ë” í•„ìš”í–ˆë˜ ì‹œê¸°ì˜€ë˜ê²ƒ ê°™ë‹¤.

2ì°¨ì™€ 3ì°¨ì—ëŠ” ì•±ì˜ ë””ìì¸ì„ ë¦¬ë‰´ì–¼í•˜ê³ , ë¡œê·¸ì¸ê³¼ ìœ ì €ì˜ í«ì •ë³´ ë“±ë¡, ì§„ë£Œë³„ë¡œ ë³‘ì›ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” ë¦¬ìŠ¤íŠ¸, ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ë¥¼ ì´ìš©í•œ ìƒí’ˆíŒë§¤, ë³‘ì›ì˜ˆì•½ ë“± ë§ì€ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•˜ê²Œ ë˜ì—ˆë‹¤.

<div style={{
    display: 'flex',
    justifyContent: 'space-between',
}}>
    <div>
        <h3>as-is</h3>
        <img src="/assets/blog/javaScript/old-main.png" alt="êµ¬ ë©”ì¸í˜ì´ì§€"/>
    </div>
    <div>
        <h3>to-be</h3>
        <img src="/assets/blog/javaScript/new-main.png" alt="ìƒˆë¡œìš´ ë©”ì¸í˜ì´ì§€"/>
    </div>
</div>

---

### SEOë¥¼ ìœ„í•œ ì›¹ì‚¬ì´íŠ¸
2, 3ì°¨ ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ë§ˆì¼€íŒ…ì— í•„ìš”í•œ ì›¹ì‚¬ì´íŠ¸ê°€ í•„ìš”í–ˆë‹¤.

ì›¹ì‚¬ì´íŠ¸ëŠ” ì•±ë‚´ì— ê¸°ëŠ¥ ì¤‘ ëª‡ê°€ì§€ë§Œ ì œê³µí•˜ê¸°ë¡œ í–ˆê³ , ê²€ìƒ‰ì—”ì§„ì— ë…¸ì¶œë˜ëŠ” ê²ƒê³¼, ë§ˆì¼€íŒ…ì„ ìœ„í•œ ëœë”©í˜ì´ì§€ë¡œ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

Next.jsë¡œ ëŒì•„ê°€ì„œ ê°œë°œí•˜ëŠ”ë° SEOì— ìµœëŒ€í•œ ì´ˆì ì„ ë§ì¶”ì–´ ì‘ì—…ì„ ì§„í–‰í–ˆë‹¤.

<img src="/assets/blog/javaScript/lighthouse.png" alt="lighthouse ì ìˆ˜"/>

ì´ë•Œ ì•„ë§ˆ SEOì— ëŒ€í•œ ê´€ì‹¬ì´ ë§ì´ ìƒê²¼ë˜ê²ƒ ê°™ë‹¤. meta íƒœê·¸ì™€ og íƒœê·¸, sitemap.xml, robots.txt ë“±ì„ ì„¤ì •í•˜ê³ , SSRê³¼ SSGë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ì˜€ë‹¤.

lighthouse ì ìˆ˜ë¥¼ ìµœëŒ€í•œ ë†’ì´ê¸° ìœ„í•´ ë…¸ë ¥í–ˆê³ , ì‹¤ì œë¡œë„ ê²€ìƒ‰ì—”ì§„ì— ì˜ ë…¸ì¶œë˜ëŠ”ì§€ í™•ì¸í•˜ê¸°ìœ„í•´ êµ¬ê¸€ ì„œì¹˜ì½˜ì†”, ë„¤ì´ë²„ ì„œì¹˜ì–´ë“œë°”ì´ì €ì— ë“±ë¡í•˜ì—¬ í™•ì¸í•˜ì˜€ê³ , êµ¬ê¸€ ì• ë„ë¦¬í‹±ìŠ¤ì™€ íƒœê·¸ë§¤ë‹ˆì €ë¥¼ ì´ìš©í•˜ì—¬ ë°©ë¬¸ì ìˆ˜ì™€ í˜ì´ì§€ë·° ë“±ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

---

### 2ë…„ì˜ ê³¼ì • ì†ì—ì„œ ì–»ì€ ê²ƒê³¼ ì•„ì‰¬ìš´ ì 
ì‘ì€ ìŠ¤í„°ë””ë¡œ ì‹œì‘í•œ ëª¨ì„ì´ ì´ë ‡ê²Œ ê¸´ ì‹œê°„ë™ì•ˆ ì§€ì†ë˜ëŠ”ê²Œ ì‰½ì§€ ì•Šë‹¤ëŠ”ê±¸ ì•Œê³ ìˆë‹¤. ì´ì „ì—ë„ ë¹„ìŠ·í•œ ìŠ¤í„°ë””ë¥¼ ë§ì´ í•´ë´¤ì§€ë§Œ, ì—¬ëŸ¬ ì‚¬ì •ë“¤ë¡œ ì¸í•´ ì¤‘ê°„ì— íì§€ë¶€ì§€ë˜ê±°ë‚˜, íŒ€ì›ë“¤ì´ ë°”ë€ŒëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤.

í•˜ì§€ë§Œ, íŒ€ì›ë“¤ ì„œë¡œê°€ ê°ìì˜ ìœ„ì¹˜ì—ì„œ ìµœì„ ì„ ë‹¤í•˜ê³ , ì„œë¡œë¥¼ ì¡´ì¤‘í•˜ë©° ë°°ë ¤í•˜ëŠ” ëª¨ìŠµì´ ë„ˆë¬´ ì¢‹ì•˜ë‹¤. íŠ¹íˆ, íŒ€ì›ë“¤ì´ ê°ìì˜ ì—­í• ì„ ì¶©ì‹¤íˆ ìˆ˜í–‰í•˜ê³ , ì„œë¡œì˜ ì˜ê²¬ì„ ì¡´ì¤‘í•˜ë©° í˜‘ì—…í•˜ëŠ” ëª¨ìŠµì´ ì¸ìƒì ì´ì—ˆë‹¤.

ê¸°ìˆ ì  ì„±ì¥ì€ ë¬¼ë¡ ì´ê³  ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì ì—ì„œë„ ë§ì€ ê²ƒì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆë‹¤.

<div style={{
    display: 'flex',
    width: '100%',
}}>
    <div style={{
        display: 'flex',
        width: '100%',
        flex: 1
    }}>
        <img src="/assets/blog/javaScript/gift-1.JPG" width='50%' alt="ì„ ë¬¼1"/>
        <img src="/assets/blog/javaScript/gift-2.JPG" width='50%' alt="ì„ ë¬¼2"/>
    </div>
    <div style={{
        display: 'flex',
        width: '100%',
        flex: 1,

    }}>
        <img src="/assets/blog/javaScript/gift-3.JPG" width='50%' alt="ì„ ë¬¼3"/>
        <img src="/assets/blog/javaScript/gift-4.JPG" width='50%' alt="ì„ ë¬¼4"/>
    </div>
</div>

<p>ë§¤ë…„ ëª…ì ˆë§ˆë‹¤ ê³¼ì¼ì„ ë³´ë‚´ì£¼ì‹œëŠ” íŒ€ì¥ë‹˜</p>



ì•„ì‰¬ì› ë˜ ì ì€ ì´ˆë°˜ì— ê¸°ìˆ  ìŠ¤íƒ ì„ íƒì— ëŒ€í•œ ê²€ì¦ê³¼, ì•„ë¬´ë˜ë„ íŒ€ì›ë“¤ ëª¨ë‘ í‡´ê·¼ í›„ ë¹ ë“¯í•œ ì‹œê°„ì— ì‘ì—…ì„ í•˜ë‹¤ë³´ë‹ˆ, ê¹Šê²Œ ë‚˜ëˆ„ì§€ ëª»í•œ ë¦¬ë·°ë‚˜ íšŒê³  ë“± ì´ì—ˆë‹¤.

ì•ìœ¼ë¡œëŠ” ìŠ¤í„°ë””ë¥¼ ì§„í–‰í•˜ëŠ” ê³¼ì •ë™ì•ˆ ê¸°ìˆ ì ì¸ íšŒê³ ì™€ ì´ìŠˆ ê¸°ë¡, ê³ ë¯¼í–ˆë˜ ë¶€ë¶„ë“¤ì„ ì •ë¦¬í•˜ëŠ” ì‹œê°„ì„ ê°€ì§ˆ ê²ƒì´ë‹¤.

---

25ë…„ë„ ì§€ì›ì‚¬ì—…ì€ ì•„ì‰½ê²Œë„ ë–¨ì–´ì¡Œë‹¤. ë‚®ì€ ì§„ì…ì¥ë²½, ë°ì´í„° ìˆ˜ì§‘ í•œê³„, êµ¬ì¡°ê°€ ë¹„ìŠ·í•œ í”Œë«í¼ì— ì†ìµë¶„ê¸° ë‹¬ì„± ì‹¤íŒ¨, ë‚®ì€ ì¬ë°©ë¬¸ ì£¼ê¸° ë“±ì´ ì´ìœ ì˜€ë‹¤.

í˜„ì¬ ë‚´ë¶€ì—ì„œëŠ” ë‹¤ì–‘í•œ ì˜ê²¬ë“¤ì´ ì˜¤ê°€ê³ ìˆë‹¤. ì•„ë¬´ë˜ë„ í”„ë¡œì íŠ¸ë¥¼ ìœ ì§€í•˜ëŠ”ë°ëŠ” ë¹„ìš©ì ì¸ ë¬¸ì œê°€ ê°€ì¥ í¬ê¸°ë•Œë¬¸ì—, ìˆ˜ìµëª¨ë¸ ê°œì„ , ë‹¤ë¥¸ ì‹ ì‚¬ì—… ì•„ì´í…œë“¤ì„ ê³ ë¯¼í•˜ê³  ìˆë‹¤.
1b:T1750,
### ë”¥ë§í¬
- ì›¹ë§í¬ URLì´ ì‚¬ìš©ìë¥¼ íŠ¹ì • ì›¹ì‚¬ì´íŠ¸ë¡œ ì´ë™ì‹œí‚¤ëŠ” ê²ƒì²˜ëŸ¼, ë”¥ë§í¬ëŠ” ì‚¬ìš©ìë¥¼ íŠ¹ì • ì•±ì´ë‚˜ ì•±ì˜ ì›í•˜ëŠ” í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ë„ë¡ ìœ ë„í•˜ëŠ” ë§í¬ì´ë‹¤.

### ë”¥ë§í¬ ìœ í˜•
<div>
    <img style={{
        margin: 0
    }} src="/assets/blog/javaScript/deep-link-2.png" width="100%" alt="post image"/>
    <p style={{
        margin: 0,
        textAlign: "center"
    }}>[ì¶œì²˜ tosspayments](https://docs.tosspayments.com/resources/glossary/deep-link)</p>
</div>

- ë”¥ë§í¬ëŠ” AOS, IOS ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ì»¤ìŠ¤í…€ ìŠ¤í‚´ì€ `ì•± ë§í¬`, `URI ìŠ¤í‚´`ìœ¼ë¡œ ë¶ˆë¦¬ê¸°ë„ í•œë‹¤.

### ë”¥ë§í¬ êµ¬í˜„
- ì§„í–‰ì¤‘ì¸ ì‚¬ì´ë“œí”„ë¡œì íŠ¸ì—ì„œëŠ” SEOë¥¼ ìœ„í•œ ì›¹ì‚¬ì´íŠ¸ì™€ ì•±ì„ ì—°ê²°í•˜ê¸° ìœ„í•´ ë”¥ë§í¬ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤.

## 1. ì›¹ì—ì„œ ì•±ìœ¼ë¡œ ì´ë™

```tsx
const useAppOpen = () => {
  const [appOpened, setAppOpened] = useState(false);
  const { os } = useFetchCookie();
  const router = useRouter();

  useVisibilityChange({
    onVisible: () => setAppOpened(true),
    onHidden: () => setAppOpened(false),
  });

  const handleAppOpen = ({ appScheme }: { appScheme: string }) => {
    router.replace(
      os === 'ios'
        ? `${APP_SCHEME}${appScheme}`
        : `intent://${appScheme}#Intent;scheme=myapp;package=com.myapp.app;end;`,
    );

    setTimeout(() => {
      if (!appOpened) {
        window.location.href =
          os === 'ios' ? APPLE_STORE_URL : GOOGLE_PLAY_STORE_URL;
      }
    }, 500);
  };

  return {
    handleAppOpen,
  };
};

export default useAppOpen;
```
ì›¹ì—ì„œëŠ” ìš°ì„  `os`ë¥¼ ì €ì¥í–ˆê³ , `os`ë³„ë¡œ ë‹¤ë¥¸ ê²½ë¡œë¥¼ ì§€ì •í–ˆë‹¤.

ios ì—ì„œëŠ” `myapp://`ë¡œ ë°”ë¡œ `Deep Link`ë¥¼ ì´ìš©í•´ ì´ë™í•˜ê³ , aosì—ì„œëŠ” `intent://`ë¡œ ì‹œì‘í•˜ëŠ” `IntentìŠ¤í‚´`ì„ ì‚¬ìš©í•´ ì„œë¡œ ë‹¤ë¥¸ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤.

ê·¸ë¦¬ê³  ë”¥ë§í¬ì— ì•±ì´ ì—´ë¦¬ì§€ ì•Šìœ¼ë©´ `setTimeout`ì„ ì´ìš©í•´ ì•±ìŠ¤í† ì–´ë¡œ ì´ë™í•˜ë„ë¡ êµ¬í˜„í–ˆë‹¤.

`setTimeout`ì„ ì‚¬ìš©í•œ ì´ìœ ëŠ” ì•±ì´ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´, ë¸Œë¼ìš°ì €ëŠ” ì¦‰ì‹œ ì•±ì„ ì‹¤í–‰í•˜ê³ , ë°˜ëŒ€ë¡œ ì•±ì´ ì„¤ì¹˜ë˜ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ëŸ° ë³€í™”ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.
ì´ ìƒíƒœë¥¼ ê°ì§€í•˜ê¸°ìœ„í•´ì„œ 500msì˜ ì‹œê°„ë™ì•ˆ ì•±ì´ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•±ìŠ¤í† ì–´ë¡œ ì´ë™í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤.

## 2. ì•±ì—ì„œ ë§í¬ ì´ë™

### AOS

```xml
// android/app/src/main/AndroidManifest.xml

    <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data android:scheme="myapp" />
    </intent-filter>
```
ìœ„ ê²½ë¡œì—ì„œ `scheme`ì„ `myapp`ë¡œ ì§€ì •í•´ì£¼ë©´ ëœë‹¤.

### IOS

```
// ios/MyApp/Info.plist

<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLName</key>
        <string>com.myapp.app</string>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>myapp</string>
        </array>
    </dict>
</array>
```

`CFBundleURLSchemes`ì— `myapp`ì„ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.


---

### react-navigation

í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” `@react-navigation/native` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ, `NavigationContainer`ì—ì„œ ì§€ì›í•˜ëŠ” `linking props`ì‚¬ìš©í•´ ë”¥ë§í¬ë¥¼ êµ¬í˜„í–ˆë‹¤.

```tsx
// App.tsx

{...}
<NavigationContainer
  linking={linkingConfig}
  ref={navigationRef}
  {...}
>
    {...}
</NavigationContainer>
{...}

```

```tsx
// ../linkingConfig.ts

export const linkingConfig: LinkingOptions<NavigationProps> = {
  prefixes: ['myapp://'],
  config: {
    screens: {
      [RootNavigatorName.rootTab]: {
        screens: {
          [TabNavigatorName.HOME_TAB]: {
            path: 'open',
            screens: {
              [StackNavigatorName.HOME_SCREEN]: '',
            },
          },
          [TabNavigatorName.ECOMMERCE_TAB]: {
            path: 'ecommerce',
            screens: {
              [StackNavigatorName.ECOMMERCE_SCREEN]: '',
            },
          },
        },
      },
      [StackNavigatorName.AUTH_ONBOARDING_SCREEN]: 'onboarding',
      [StackNavigatorName.AUTH_SCREEN]: 'auth',
    },
  },
  {...}
};
```
ë¨¼ì € `prefixes`ì— `myapp://`ì„ ì¶”ê°€í•´ì£¼ê³ , `screens`ì— ê° ìŠ¤í¬ë¦°ì— ë“±ë¡í•œ ê²½ë¡œë“¤ì„ `path`ë¡œ ì§€ì •í•´ì£¼ë©´ ëœë‹¤.

```tsx
  async getInitialURL() {
    const url = await Linking.getInitialURL();

    if (url) {
      const redirectUrl = await handleGetUserInfo();
      return redirectUrl || url;
    }
  },
```
`getInitialURL`ì„ ì´ìš©í•´ ì•±ì´ ì²˜ìŒ ì‹¤í–‰ë  ë•Œ, ë”¥ë§í¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆë‹¤.
ì—¬ê¸°ì„œ `handleGetUserInfo` í•¨ìˆ˜ëŠ” ì•±ì´ ë”¥ë§í¬ë¥¼ í†µí•´ ì§„ì…í–ˆì„ ê²½ìš° ìŠ¤í”Œë˜ì‰¬ìŠ¤í¬ë¦°ì„ ê±°ì¹˜ì§€ì•Šì•„, ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì™€ ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

```tsx
  subscribe(listener) {
    const onReceiveURL = async (event: { url: any }) => {
      if (event.url) {
        const redirectUrl = await handleGetUserInfo();
        listener(redirectUrl || event.url);
      }
    };

    const linkingListener = Linking.addEventListener('url', onReceiveURL);
    const appStateListener = AppState.addEventListener('change', async nextAppState => {
      if (nextAppState === 'active') {
        const url = await Linking.getInitialURL();

        if (url) {
          const redirectUrl = await handleGetUserInfo();
          listener(redirectUrl || url);
        }
      }
    });

    return () => {
      linkingListener.remove();
      appStateListener.remove();
    };
  },
```
`subscribe`ë¥¼ ì´ìš©í•´ ì•±ì´ ì‹¤í–‰ì¤‘ì¼ ë•Œ, ë”¥ë§í¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í–ˆë‹¤.

---

- ì•±ì´ ì²˜ìŒ ì‹¤í–‰ë  ë•Œ : `getInitialURL`ì„ ì´ìš©í•´ ë”¥ë§í¬ ì²˜ë¦¬
- ì•±ì´ ë°±ê·¸ë¼ìš´ë“œ -> í¬ê·¸ë¼ìš´ë“œ ì „í™˜ë  ë•Œ : `subscribe`ì— `Appstate`ë¥¼ ì´ìš©í•´ ë”¥ë§í¬ ì²˜ë¦¬
- ì•±ì´ ì‹¤í–‰ì¤‘ì¼ ë•Œ : `subscribe`ì— `Linking`ì„ ì´ìš©í•´ ë”¥ë§í¬ ì²˜ë¦¬
1c:T6a2,
ì›¹ í˜ì´ì§€ê°€ í˜„ì¬ ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.

`document.visibilityState`ë¥¼ ì‚¬ìš©í•˜ë©´ í˜ì´ì§€ê°€ í˜„ì¬ ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ”ì§€ ì•„ë‹Œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

`document.visibilityState`ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒíƒœë¥¼ ê°€ì§„ë‹¤.

- 'visible' : í˜ì´ì§€ ë‚´ìš©ì€ ì ì–´ë„ ë¶€ë¶„ì ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ ì´ëŠ” í˜ì´ì§€ê°€ ìµœì†Œí™” ë˜ì§€ ì•Šì€ ì°½(ë¸Œë¼ìš°ì €)ì—ì„œì˜ ì„ íƒëœ íƒ­ ì„ ì˜ë¯¸

- 'hidden' : í˜ì´ì§€ ë‚´ìš©ì€ ì‚¬ìš©ìì—ê²Œ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤. ì‹¤ì œë¡œ ì´ëŠ” documentê°€ background-tap(ë‹¤ë¥¸ íƒ­)ì´ê±°ë‚˜, ìµœì†Œí™” ëœ ì°½ì˜ ì¼ë¶€ì´ê±°ë‚˜, OS í™”ë©´ ì ê¸ˆì´ í™œì„± ìƒíƒœì„ì„ ì˜ë¯¸

```jsx
if (document.visibilityState === 'visible') {
    // í˜ì´ì§€ê°€ ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ” ìƒíƒœ
} else {
    // í˜ì´ì§€ê°€ ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ ì•ŠëŠ” ìƒíƒœ
}
```

```jsx
import { useEffect } from 'react';

interface UseVisibilityChangeProps {
  onVisible: () => void;
  onHidden: () => void;
  dependencies?: unknown[];
}

const useVisibilityChange = ({
  onVisible,
  onHidden,
  dependencies = [],
}: UseVisibilityChangeProps) => {
  useEffect(() => {
    const onVisibilityChange = () => {
      document.visibilityState === 'visible' ? onVisible() : onHidden();
    };

    document.addEventListener('visibilitychange', onVisibilityChange);
    return () => {
      document.removeEventListener('visibilitychange', onVisibilityChange);
    };
  }, [onHidden, onVisible, ...dependencies]);
};

export default useVisibilityChange;
```

ì›¹ í˜ì´ì§€ ì´íƒˆì„ ê°ì§€í•  ìˆ˜ ìˆê³ , ëª¨ë°”ì¼ ì›¹ë·°ì—ì„œ ì•±ì˜ ë°±ê·¸ë¼ìš´ë“œ ìƒíƒœë‚˜ ì „í™˜ì„ ê°ì§€í•  ìˆ˜ ìˆë‹¤.
1d:Taca,
ì‚¬ë‚´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ IOS ì›¹ë·°ì—ì„œ ì•ˆì „ ì˜ì—­ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œê²Œë˜ì—ˆë‹¤.

ì•„ì´í° X ë¶€í„°ëŠ” ë””ìŠ¤í”Œë ˆì´ì— ë…¸ì¹˜ ë””ìì¸ì´ ì ìš©ë˜ê³ , í•˜ë‹¨ì—ëŠ” ë¬¼ë¦¬ ë²„íŠ¼ì´ ì‚¬ë¼ì§€ê³  ì œìŠ¤ì²˜ë¡œ ëŒ€ì²´ë˜ì—ˆë‹¤.

ì´ë¡œ ì¸í•´ ê¸°ì¡´ì˜ ì›¹ë·°ì—ì„œëŠ” ë…¸ì¹˜ ë””ìì¸ê³¼ í•˜ë‹¨ì˜ ì œìŠ¤ì²˜ ì˜ì—­ì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.

ì²«ë²ˆì§¸ë¡œ ì›¹ë‚´ì—ì„œ safe area ì˜ì—­ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤.

```css
padding-top: env(safe-area-inset-top);
padding-right: env(safe-area-inset-right);
padding-left: env(safe-area-inset-left);
padding-bottom: env(safe-area-inset-bottom);
```

ìœ„ì™€ ê°™ì´ ì„¤ì •í•˜ë©´ IOS ì›¹ë·°ì—ì„œëŠ” safe area ì˜ì—­ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

ì ìš©í•˜ê³  ê°œë°œì ë„êµ¬ë¡œ í™•ì¸í•´ë³´ë‹ˆ í•´ë‹¹ ì˜ì—­ë§Œí¼ padding ì´ ì ìš©ë˜ì–´ ìˆì—ˆë‹¤.

---

ë‘ë²ˆì§¸ë¡œ safe area ì˜ì—­ì„ ë¬´ì‹œí•˜ê³  ì „ì²´ í™”ë©´ì„ ì‚¬ìš©í•˜ë ¤ë©´

```html
<meta name="viewport" content="viewport-fit=cover" />
```

ìœ„ì™€ ê°™ì´ ì„¤ì •í•˜ë©´ safe area ì˜ì—­ì„ ë¬´ì‹œí•˜ê³  ì „ì²´ í™”ë©´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

í”„ë¡œì íŠ¸ëŠ” Next.js ë¡œ ê°œë°œë˜ì–´ layout ì— í•´ë‹¹ meta íƒœê·¸ë¥¼ ì¶”ê°€í•˜ì—¬ í•´ê²°í•˜ì˜€ë‹¤.

```tsx
import type { Metadata } from 'next';

export const metadata: Metadata = {
    title: 'title',
    description: 'description',
    other: {
    viewport:
        'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover',
    }
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body>
        <main>{children}</main>
      </body>
    </html>
  );
}
```

ì¶”ê°€ë¡œ í•€ì¹˜ì¤Œì„ ë§‰ê¸° ìœ„í•´ `maximum-scale=1.0`ê³¼ `user-scalable=0`ì„ ì„¤ì •í•˜ì˜€ë‹¤.

---

ìœ„ ì‘ì—…ì„ í•˜ë©´ì„œ ê¸°ì¡´ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ëª¨ë‹¬ì´ ì—´ë ¸ì„ ë•Œ ë’¤ ìŠ¤í¬ë¡¤ì„ ë§‰ìœ¼ë ¤ê³  ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ëŠ”ë°,

```tsx
  useEffect(() => {
      document.body.style.cssText = `
            position: fixed;
            top: -${window.scrollY}px;
            overflow: hidden;
            width: 100%;
        `;

      return () => {
        const scrollY = document.body.style.top;
        document.body.style.cssText = '';
        window.scrollTo(0, parseInt(scrollY || '0', 10) * -1);
      };
  }, []);
```

ì›¹ë·°ë‚´ì—ì„œ ëª¨ë‹¬ì´ ì—´ë ¸ì„ ë•Œ `fixed` ì†ì„±ìœ¼ë¡œ ì¸í•´ ì›¹ë·°ì—ì„œ safe area ì˜ì—­ë§Œí¼ ëª¨ë‹¬ì´ ë°€ë¦¬ëŠ” í˜„ìƒì´ ë°œìƒí–ˆë‹¤.

```tsx
  useEffect(() => {
      document.body.style.cssText = `
            overflow: hidden;
        `;

      return () => {
        document.body.style.cssText = '';
      };
  }, []);
```

ìœ„ì™€ ê°™ì´ overflow ë§Œ hidden ì²˜ë¦¬í•˜ì—¬ í•´ê²°í•˜ì˜€ë‹¤.
1e:T1359,
monorepoë¥¼ ì‚¬ìš©í•´ íŒ¨í‚¤ì§€ë“¤ì„ ë¶„ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ì´ìŠˆë¥¼ í™•ì¸í–ˆë‹¤.

ë²ˆë“¤ë§ í•˜ì§€ì•Šê³ , íŒ¨í‚¤ì§€ë“¤ì„ `index.ts`ì—ì„œ ì§ì ‘ ë‚´ë³´ë‚´ ì‚¬ìš©í–ˆì„ ë•Œ, ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œë“¤ë„ í•¨ê»˜ í¬í•¨ë˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.
ì´ ë¬¸ì œì ì„ í™•ì¸í•˜ê³  tree-shakingì„ ì ìš©í•˜ê¸° ìœ„í•´ rollupì„ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤.

---

### tree-shaking

tree-shakingì€ ìµœì¢… ë²ˆë“¤ë§í•œ ê²°ê³¼ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ì œê±°í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.
ë¶ˆí•„ìš”í•œ ì½”ë“œê°€ ì—†ì–´ì§€ê¸° ë•Œë¬¸ì— ë²ˆë“¤ íŒŒì¼ì˜ í¬ê¸°ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

tree-shakingì€ ES6 ë¶€í„°(esm) ì§€ì›ë˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.

---

### rollup

ë¨¼ì € ì•½ 10ê°œì •ë„ ë˜ëŠ” íŒ¨í‚¤ì§€ë“¤ì„ ê°ê° ì„¤ì •í•˜ëŠ”ê±´ ë¹„íš¨ìœ¨ ì ì´ë¼ ìƒê°í–ˆë‹¤.
ê·¸ë˜ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•  rollup.config.mjs íŒŒì¼ì„ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

```javascript
import path from 'path';
import { readFileSync } from 'fs';
import { DEFAULT_EXTENSIONS } from '@babel/core';
import babel from '@rollup/plugin-babel';
import commonjs from '@rollup/plugin-commonjs';
import resolve from '@rollup/plugin-node-resolve';
import typescript from '@rollup/plugin-typescript';
import builtins from 'builtin-modules';
import json from '@rollup/plugin-json';
import { defineConfig } from 'rollup';
import terser from '@rollup/plugin-terser';

const extensions = [...DEFAULT_EXTENSIONS, '.ts', '.tsx'];

export function generateRollupConfig({ packageDir }) {

  {...}

  const plugins = [
    resolve({
      extensions,
    }),
    commonjs(),
    babel({
      exclude: 'node_modules/**',
      extensions,
      babelHelpers: 'bundled',
    }),
    json(),
    typescript({
      compilerOptions: {
        outDir: 'dist',
        module: 'esnext',
        moduleResolution: 'bundler',
      },
      tsconfig: path.join(packageDir, 'tsconfig.json'),
    }),
    terser(),
  ];

  const generateConfig = (output) => {
    return {
      input,
      output,
      external,
      plugins,
    };
  };

  return defineConfig([
    generateConfig([
      {
        dir: output,
        format: 'cjs',
        entryFileNames: '[name].js',
      },
      {
        dir: output,
        format: 'esm',
        entryFileNames: '[name].mjs',
        preserveModules: true,
        preserveModulesRoot: path.dirname(input),
      },
    ]),
  ]);
}
```

- `@rollup/plugin-babel` : rollup + babel ì—°ë™

**Note. @rollup/plugin-commonjs ë³´ë‹¤ ë’¤ì—*

- `@rollup/plugin-commonjs` : CommonJS ëª¨ë“ˆì„ ES6ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë¡¤ì—… ë²ˆë“¤ì— í¬í•¨

**Note. @rollup/plugin-node-resolveì™€ í•¨ê»˜ ì‚¬ìš©*

- `@rollup/plugin-node-resolve` : node_modulesì— ì™¸ë¶€ ëª¨ë“ˆ í™•ì¸

**Note. @rollup/plugin-commonjsì™€ í•¨ê»˜ ì‚¬ìš©*

- `@rollup/plugin-terser` : ê°„ê²°í•˜ê³  ì¶•ì†Œëœ ë²ˆë“¤ ìƒì„± (ë„ì–´ì“°ê¸°ë‚˜ ì£¼ì„ ì œê±°)
- `@rollup/plugin-url` : data-URIs, ESMìœ¼ë¡œ ê°€ì ¸ì˜´
- `@rollup/plugin-virtual` : ë©”ëª¨ë¦¬ì—ì„œ ê°€ìƒ ëª¨ë“ˆì„ ë¡œë“œ

**Note. Use this plugin before any others such as node-resolve or commonjs, so they do not alter the output.*

- `@svgr/rollup` : svgr í”ŒëŸ¬ê·¸ì¸
- `builtin-modules` : node.js ë¹ŒíŠ¸ì¸ ëª¨ë“ˆ

- `external` : íŠ¹ì • ëª¨ë“ˆì„ ë²ˆë“¤ì— í¬í•¨í•˜ì§€ ì•Šê³ , ì™¸ë¶€ ëª¨ë“ˆë¡œ ì„¤ì •

---

### ê° íŒ¨í‚¤ì§€ë³„ ë²ˆë“¤ë§

```javascript
import path from 'path';
import { generateRollupConfig } from '@repo/rollup-config';

const __dirname = path.resolve();

export default generateRollupConfig({ packageDir: __dirname });
```

utilsì—ì„œ ë‚´ë³´ë‚´ëŠ” í•¨ìˆ˜ ì¤‘ í”„ë¡œì íŠ¸ë³„ë¡œ ì‚¬ìš©í•˜ëŠ”ê³³ê³¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê³³ì´ ìˆì—ˆëŠ”ë°,
ì´ˆê¸°ì— ë²ˆë“¤ë§ê³¼ì •ì„ ê±°ì¹˜ì§€ ì•Šì•˜ì„ ë•Œ í”„ë¡œì íŠ¸ ë¹Œë“œì‹œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ê° í”„ë¡œì íŠ¸ì— ëª¨ë‘ í¬í•¨ë˜ì—ˆë‹¤.

ë²ˆë“¤ë§ ê³¼ì •ì„ í™•ì¸í•˜ê¸° ìœ„í•´ vite.config.jsì—

```javascript
{...}

    build: {
      rollupOptions: {
        output: {
          manualChunks: {
            utils: ['@repo/utils']
          },
        },
      },
    },

{...}
```

ì˜µì…˜ì„ ì¶”ê°€í•´ ë¹„êµí•´ë³´ì•˜ë‹¤.

<img src="/assets/blog/javaScript/rollup-1.png" width="100%" alt="bundle-test"/>
<img src="/assets/blog/javaScript/rollup-2.png" width="100%" alt="bundle-test"/>

ì „, í›„ ìš©ëŸ‰ì— ì°¨ì´ê°€ ìˆë‹¤ëŠ”ê±¸ í™•ì¸í–ˆê³ , jsíŒŒì¼ì„ í™•ì¸í•´ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë§Œ í¬í•¨ë˜ëŠ”ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ì•˜ë‹¤.

---

ì²˜ìŒ rollupì„ ì‚¬ìš©í•´ íŒ¨í‚¤ì§€ë“¤ì„ ë²ˆë“¤ë§í•˜ë©´ì„œ tree-shakingì´ë¼ëŠ” ê°œë…ë„ ì•Œê²Œë˜ì—ˆê³ , cjsì™€ esmì˜ ì°¨ì´ì ë„ ì•Œê²Œë˜ì—ˆë‹¤.

ë‹¤ë¥¸ ê¸°ì—…ë“¤ì˜ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì„ ë’¤ì ¸ê°€ë©° ì‘ì—…ì„ ì§„í–‰í•˜ë©´ì„œ ë§ì€ ê²ƒì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆë˜ ì‹œê°„ì´ì—ˆë‹¤.

rollup ì„¤ì •ì— ëŒ€í•´ì„œ ì•„ì§ ì™„ë²½í•˜ê²Œ ì´í•´í•˜ì§€ëŠ” ëª»í–ˆìœ¼ë©°, ë‚´ê°€ ì˜ë„í•œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ë„ ì¡°ê¸ˆ í™•ì‹ ì´ ë“¤ì§€ ì•Šì§€ë§Œ ì´ë²ˆ ê¸°íšŒì— ì¡°ê¸ˆ ë” ê¹Šê²Œ ê³µë¶€í•´ë³´ê³  ê³„ì†í•´ì„œ í™•ì¸í•´ë³´ë©° ìˆ˜ì •í•´ë‚˜ê°€ì•¼ê² ë‹¤.
ê°œì¸ì ìœ¼ë¡œëŠ” ìµœì í™”í•´ ë‚˜ê°€ëŠ” ê³¼ì •ì´ ë§¤ìš° ì¬ë°Œì—ˆë˜ ì‘ì—…ì´ì—ˆë‹¤!
1f:Ta2c,
ìµœê·¼ rollupìœ¼ë¡œ íŒ¨í‚¤ì§€ë¥¼ ë§Œë“œëŠ” ê³¼ì •ì—ì„œ cjsì™€ esmì— ëŒ€í•´ ì•Œê²Œë˜ì—ˆë‹¤.

### Module
ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ëª¨ë“ˆì€ í¬ê²Œ CommonJSì™€ ES Moduleë¡œ ë‚˜ë‰œë‹¤.
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê·œëª¨ê°€ ì»¤ì§€ë©´ ì»¤ì§ˆìˆ˜ë¡ ëª¨ë“ˆí™”ê°€ í•„ìš”í•´ì§€ëŠ”ë°, ì´ë•Œ ëª¨ë“ˆí™”ë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ ë°”ë¡œ CommonJSì™€ ES Moduleì´ë‹¤.

CommonJSëŠ” Node.jsì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆ ì‹œìŠ¤í…œì´ë©° (12ë²„ì „ ì´í›„ ë¶€í„°ëŠ” ë‘ê°€ì§€ ëª¨ë‘ ì‚¬ìš©) ì •í™•í•˜ê²ŒëŠ” í‘œì¤€ ì‹œìŠ¤í…œì€ ì•„ë‹ˆë‹¤,
ES6 ì´í›„ì— ES Moduleì´ ë“±ì¥í•˜ë©´ì„œ í‘œì¤€ ì‹œìŠ¤í…œì´ ë˜ì—ˆê³ , ìš°ë¦¬ê°€ í”íˆ ì‚¬ìš©í•˜ëŠ” `import`ì™€ `export`ì˜ í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ëª¨ë“ˆì„ íš¨ìœ¨ì ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê²Œ ë°”ë¡œ ES Moduleì´ë‹¤.

ê·¸ëŸ¬ë‚˜ ì•„ì§ê¹Œì§€ë„ node.jsì˜ CJSê°€ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆìœ¼ë¯€ë¡œ, ìš°ë¦¬ê°€ í”íˆ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ ë³´í†µ ë‘ê°€ì§€ì˜ ëª¨ë“ˆ ì‹œìŠ¤í…œì„ ëª¨ë‘ ì§€ì›í•  ìˆ˜ ìˆë„ë¡ ë§Œë“ ë‹¤.

---

### cjsì™€ esmì˜ ì°¨ì´ì 

#### cjs
```javascript
// lib.js
module.exports = {
  name: 'lib'
}
```

```javascript
// index.js
const lib = require('./lib')
console.log(lib.name) // lib
```

#### esm
```javascript
// lib.js
export default {
  name: 'lib'
}
```

```javascript
// index.js
import lib from './lib'
console.log(lib.name) // lib
```

ìœ„ì˜ ì˜ˆì‹œì—ì„œ ë³´ë“¯ì´, cjsëŠ” `module.exports`ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆì„ ë‚´ë³´ë‚´ê³ , `require`ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¨ë‹¤.
ë°˜ë©´ì— esmì€ `export`ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆì„ ë‚´ë³´ë‚´ê³ , `import`ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¨ë‹¤.

- CJSëŠ” ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•˜ê³ , ESMì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•œë‹¤.
- CJSëŠ” ë¹Œë“œ íƒ€ì„ì— ì •ì  ë¶„ì„ì„ ì ìš©í•˜ê¸° ì–´ë µê³ , ëŸ°íƒ€ì„ì—ì„œë§Œ ëª¨ë‘˜ ê´€ê³„ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.
- ESMì€ ë¹Œë“œ ë‹¨ê³„ì—ì„œ ì •ì  ë¶„ì„ì„ í†µí•´ ì˜ì¡´ ê´€ê³„ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.
- CJSëŠ” Tree-shakingì´ ì–´ë µì§€ë§Œ ESMì€ Tree-shakingì´ ê°€ëŠ¥í•˜ë‹¤.

---

### íŒŒì¼ êµ¬ë¶„

`.js` íŒŒì¼ì´ CJSì¸ì§€ ESMì¸ì§€ êµ¬ë¶„í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- package.jsonì˜ type í•„ë“œë¥¼ ì‚¬ìš©í•œë‹¤.
```json
{
  "type": "module"
}
```
`.js`ì˜ íŒŒì¼ì€ package.jsonì˜ type í•„ë“œì— ë”°ë¼ ê²°ì •ë˜ëŠ”ë°
- typeì´ moduleì´ë©´ ESM, commonjsì´ë©´ CJSë¡œ ì¸ì‹í•œë‹¤. (defaultëŠ” commonjs)
- `.cjs`ëŠ” commonjsë¡œ ì¸ì‹í•˜ê³ , `.mjs`ëŠ” ESMìœ¼ë¡œ ì¸ì‹í•œë‹¤.


---
ì°¸ê³ 
- [toss blog](https://toss.tech/article/commonjs-esm-exports-field)
- [kakao blog](https://tech.kakao.com/2023/10/19/commonjs-esm-migration/)
- [CJS](https://nodejs.org/api/modules.html)
- [ESM](https://nodejs.org/api/esm.html)
20:T1101,
ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì›ì‹œíƒ€ì…(primitive data type)ì€ ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ(immutable)í•œ ê°’ì´ë‹¤.

- Boolean
- String
- Number
- undefined
- null
- Symbol

ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ë¼ëŠ” ëœ»ì€ ë©”ëª¨ë¦¬ ì˜ì—­ì—ì„œì˜ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ëœ»ì´ë©°, ì¬í• ë‹¹ì€ ê°€ëŠ¥í•˜ë‹¤.

---

ì›ì‹œíƒ€ì… ì´ì™¸ì˜ ëª¨ë“  ê°’ì€ Object(ê°ì²´)ì´ë‹¤. ê°ì²´ëŠ” ë³€ê²½ ê°€ëŠ¥í•œ(mutable)í•œ ê°’ì´ë‹¤.
ê°ì²´ëŠ” ë³€ê²½ ê°€ëŠ¥í•œ(mutable)ê°’ì´ê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ ê°’ì„ ë‹¤ì‹œ ë§Œë“¤ í•„ìš”ì—†ì´ ì§ì ‘ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤.

```javascript
let string = "hello";
string = "world";
```
string ë³€ìˆ˜ì— "hello"ë¼ëŠ” ë¬¸ìì—´ì„ í• ë‹¹í•˜ê³ , ë‹¤ì‹œ "world"ë¼ëŠ” ë¬¸ìì—´ì„ í• ë‹¹í–ˆë‹¤. ì´ë•Œ, ì²«ë²ˆì§¸ ë¬¸ìì—´ì€ ë©”ëª¨ë¦¬ì—ì„œ ì‚¬ë¼ì§€ê³ , ìƒˆë¡œìš´ ë¬¸ìì—´ì´ ë©”ëª¨ë¦¬ì— í• ë‹¹ëœë‹¤.

```javascript
let string = "hello";
let string2 = string.slice(0, 3);

// string = "hello"
// string2 = "hel"
```
string ë³€ìˆ˜ì— "hello"ë¼ëŠ” ë¬¸ìì—´ì„ í• ë‹¹í•˜ê³ , string2 ë³€ìˆ˜ì— string ë³€ìˆ˜ì˜ ë¬¸ìì—´ì„ ë³µì‚¬í•˜ì—¬ í• ë‹¹í–ˆë‹¤. ì´ë•Œ, string ë³€ìˆ˜ì˜ ë¬¸ìì—´ì€ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.

---

```javascript
let arr = [];

let arr2 = arr.push(1);

// arr = [1]
```

ë°°ì—´ì€ ê°ì²´ì´ê¸° ë•Œë¬¸ì— ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤. ìœ„ì˜ ì½”ë“œì—ì„œ arr.push(1)ì„ í†µí•´ arr ë°°ì—´ì— 1ì´ë¼ëŠ” ì›ì†Œê°€ ì¶”ê°€ë˜ì—ˆë‹¤. ì´ë•Œ, arr ë°°ì—´ì€ ë³€ê²½ëœë‹¤.
ë³µì‚¬ë³¸ì„ ë¦¬í„´í•˜ëŠ” ë©”ì†Œë“œê°€ ì•„ë‹Œ push, pop, shift, unshift, splice ë“±ì˜ ë©”ì†Œë“œëŠ” ì›ë³¸ ë°°ì—´ì„ ë³€ê²½í•œë‹¤.

```javascript
let object = {
  name: "been",
};

let object2 = object;

object2.name = "been2";

console.log(object.name); // been2
```

ê°ì²´ëŠ” ë³€ê²½ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— object2 ë³€ìˆ˜ì— object ë³€ìˆ˜ë¥¼ í• ë‹¹í•˜ê³ , object2.nameì„ ë³€ê²½í•˜ë©´ object.nameë„ ë³€ê²½ëœë‹¤.
objectë„ ë™ì‹œì— ë³€ê²½ë˜ëŠ” ì´ìœ ëŠ” object2ì— objectë¥¼ í• ë‹¹í•  ë•Œ, object2ëŠ” objectì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

objectì—ì„œ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ëŠ” ë°©ë²•ì€ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ê°’ì„ í• ë‹¹í•˜ëŠ” ë°©ë²•ì´ë‹¤.

---

### ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ëŠ” ë°©ë²•
- Spread Operator(es6)
- Object.assign()
- Array.concat()
- Array.slice()
- Array.map()
- Array.filter()
- Array.reduce()
...ë“±

```javascript
let object = {
  name: "been",
};

let object2 = {
  ...object,
  name: "been2",
};

console.log(object.name); // been
```

object2ì— objectë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , nameì„ ë³€ê²½í•˜ì˜€ë‹¤. ì´ë•Œ, objectëŠ” ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.

---

### ë¦¬ì•¡íŠ¸ì—ì„œ ë¶ˆë³€ì„±ì„ ì§€í‚¤ëŠ” ì´ìœ 

ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•´ ê°œë°œì„ í•  ë•Œ useState ë“±ì„ ì‚¬ìš©í•´ ìƒíƒœë¥¼ ê´€ë¦¬ í•  ë•Œ push, pop, shift, unshift ë“±ì˜ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ,
ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ì–´ì„œ ìƒíƒœë¥¼ ë³€ê²½í•˜ë©° ìì—°ìŠ¤ëŸ½ê²Œ ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©° ê°œë°œì„ í–ˆë‹¤.

ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ìƒíƒœê°’ì„ ì—…ë°ì´íŠ¸ í•  ë•Œ ì–•ì€ë¹„êµë¥¼ ìˆ˜í–‰í•´ ì´ì „ ìƒíƒœ(ì°¸ì¡°ê°’)ì™€ ìƒˆë¡œìš´ ìƒíƒœ(ì°¸ì¡°ê°’)ë¥¼ ë¹„êµ í•œë‹¤.
ìƒˆë¡œìš´ ì°¸ì¡°ê°’ì„ ê°€ì§„ Objectë¥¼ ìƒì„±í•˜ë¯€ë¡œ ì´ì „ ì°¸ì¡°ê°’ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

1. ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©´ ìƒíƒœê°’ì„ ì—…ë°ì´íŠ¸ í•  ë•Œ ì´ì „ ìƒíƒœì™€ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë¹„êµí•˜ì—¬ ë³€ê²½ëœ ë¶€ë¶„ë§Œ ì—…ë°ì´íŠ¸ í•˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ì ìœ¼ë¡œ ì´ì ì´ ìˆë‹¤.
2. ìƒíƒœê°€ ì˜ë„ì¹˜ì•Šê²Œ ë³€ê²½ë˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆê³ , ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ì‚¬ì „ì— ë°©ì§€í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

- ìƒíƒœ ì—…ë°ì´íŠ¸
```javascript
const [state, setState] = useState(1);

// ë¶ˆë³€ì„±ì„ ì§€í‚¤ì§€ ì•Šì€ ìƒíƒœ ì—…ë°ì´íŠ¸
  state = 2;
  setState(state);

// ë¶ˆë³€ì„±ì„ ì§€í‚¨ ìƒíƒœ ì—…ë°ì´íŠ¸
  setState(2);
```

- ë°°ì—´
```javascript
const [state, setState] = useState([1, 2, 3]);

// ë¶ˆë³€ì„±ì„ ì§€í‚¤ì§€ ì•Šì€ ìƒíƒœ ì—…ë°ì´íŠ¸
  state.push(4);
  setState(state);

// ë¶ˆë³€ì„±ì„ ì§€í‚¨ ìƒíƒœ ì—…ë°ì´íŠ¸
  setState([...state, 4]);
```

- ê°ì²´
```javascript
const [state, setState] = useState({
  name: "been",
  age: 32,
});

// ë¶ˆë³€ì„±ì„ ì§€í‚¤ì§€ ì•Šì€ ìƒíƒœ ì—…ë°ì´íŠ¸
  state.name = "been2";
  setState(state);

// ë¶ˆë³€ì„±ì„ ì§€í‚¨ ìƒíƒœ ì—…ë°ì´íŠ¸
  setState({
    ...state,
    name: "been2",
  });
```

ì´ì²˜ëŸ¼ ë¦¬ì•¡íŠ¸ë¡œ ê°œë°œì„ í•  ë•Œ ë¶ˆë³€ì„±ì„ ìœ ì§€í•¨ìœ¼ë¡œì¨ ì•ˆì •ì„±ì„ ìœ ì§€í•˜ê³  ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.
21:Tcc7,
ë¡œì»¬ ê°œë°œí™˜ê²½ì—ì„œ API ìš”ì²­ì‹œ CORS ì—ëŸ¬ë¡œ API ì‚¬ìš©ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ê¸€ì€ Viteë¡œ êµ¬ì„±ëœ ë¡œì»¬ ê°œë°œí™˜ê²½ì—ì„œ CORS ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ì‹ì„ ì‘ì„±í•©ë‹ˆë‹¤.

---

### env

ë¨¼ì € [í™˜ê²½ë³€ìˆ˜ ì„¤ì •](https://ko.vitejs.dev/guide/env-and-mode.html#modes)ì´ í•„ìš”í•©ë‹ˆë‹¤.

```shell
.env                # ëª¨ë“  ìƒí™©ì—ì„œ ì‚¬ìš©ë  í™˜ê²½ ë³€ìˆ˜
.env.local          # ëª¨ë“  ìƒí™©ì—ì„œ ì‚¬ìš©ë˜ë‚˜, ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©ë (Gitì— ì˜í•´ ë¬´ì‹œë ) í™˜ê²½ ë³€ìˆ˜
.env.[mode]         # íŠ¹ì • ëª¨ë“œì—ì„œë§Œ ì‚¬ìš©ë  í™˜ê²½ ë³€ìˆ˜
.env.[mode].local   # íŠ¹ì • ëª¨ë“œì—ì„œë§Œ ì‚¬ìš©ë˜ë‚˜, ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©ë (Gitì— ì˜í•´ ë¬´ì‹œë ) í™˜ê²½ ë³€ìˆ˜
```

ìœ„ í™˜ê²½ ë³€ìˆ˜ëŠ” ë”°ë¡œ ì»¤ìŠ¤í…€ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, ê¸°ë³¸ì ìœ¼ë¡œ Vite script ëª…ë ¹ì€ dev â†’ development ëª¨ë“œë¡œ ë™ì‘í•˜ê³ , build â†’ production ëª¨ë“œë¡œ ë™ì‘í•©ë‹ˆë‹¤.

ë”°ë¼ì„œ npm run devë¡œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ViteëŠ” .env.developmentì— ì •ì˜ëœ í™˜ê²½ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```shell
// .env.development

VITE_BASE_URL=/api
VITE_SERVER_URL=https://dev.example.com/
```

```shell
// .env.production

VITE_BASE_URL=/api
VITE_SERVER_URL=https://example.com/
```

---

### fetch

[axios](https://axios-http.com/kr/docs/intro) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ ë¹„ë™ê¸° HTTP ìš”ì²­ì„ í•©ë‹ˆë‹¤.

```tsx
import axios from 'axios';

const baseURL = import.meta.env.VITE_BASE_URL;

export const axiosInstance = axios.create({
  baseURL,
});
```

ìœ„ì—ì„œ ì„¤ì •í•œ í™˜ê²½ë³€ìˆ˜ì—ì„œ BASE_URLì„ ë¶ˆëŸ¬ì™€ axios ê¸°ë³¸ ì„¤ì •ì„ ì§„í–‰í•©ë‹ˆë‹¤.

---

### proxy

ViteëŠ” vite.config.tsì—ì„œ server.proxyë¥¼ ì‚¬ìš©í•´ [Server Options](https://ko.vitejs.dev/config/server-options.html#server-proxy)ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

server.proxyë¥¼ ì‚¬ìš©í•˜ë©´ ë¸Œë¼ìš°ì €ì˜ ìš”ì²­ â†’ í”„ë¡ì‹œ ì„œë²„ â†’ ì„œë²„ë¡œ ì „ë‹¬ ë˜ë©°, í”„ë¡ì‹œ ì„œë²„ì—ì„œ ì„¤ì •í•œ ë„ë©”ì¸ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì„œë²„ì— API ìš”ì²­ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.

```tsx
// vite.config.ts

import { defineConfig, loadEnv } from 'vite';
import react from '@vitejs/plugin-react-swc';
import tsconfigPaths from 'vite-tsconfig-paths';

// https://vitejs.dev/config/
export default ({ mode }) => {
  const isDevelop = mode === 'development';
  process.env = { ...process.env, ...loadEnv(mode, process.cwd()) };

  return defineConfig({
    plugins: [react(), tsconfigPaths()],
    server: isDevelop
      ? {
          proxy: {
            '/api': {
              target: process.env.VITE_SERVER_URL,
              changeOrigin: true,
              secure: false,
            },
          },
        }
      : undefined,
  });
};
```

ì¼ë°˜ì ìœ¼ë¡œ production í™˜ê²½ì—ì„œëŠ” ë„ë©”ì¸ì´ ê°™ê¸° ë•Œë¬¸ì— proxyë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ, ìœ„ì˜ ì„¤ì •ì„ ì˜ˆì‹œë¡œ ë“¤ì–´ `http://localhost:5173/api/hello` ë¼ëŠ” URLë¡œ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì´ ì§„í–‰ë©ë‹ˆë‹¤.

1. í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ URLì´ `/api`ë¡œ ì‹œì‘ë˜ë¯€ë¡œ í•´ë‹¹ í”„ë¡ì‹œ ì„¤ì •ì´ ì ìš©
2. í”„ë¡ì‹œëŠ” `changeOption` ì— ì˜í•˜ì—¬ HTTP ìš”ì²­ í—¤ë”ì˜ Host ê°’ì„ `https://example.com` ìœ¼ë¡œ ë³€ê²½
3. í”„ë¡ì‹œëŠ” ìµœì¢…ì ìœ¼ë¡œ ì´ ìš”ì²­ì„ `https://example.com` ë¼ëŠ” URLë¡œ `target` ì„œë²„ì— ì „ë‹¬

22:T12dc,
## ë°”ë²¨ì´ë€?
ë°”ë²¨ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ëŸ¬ì´ë‹¤.
ì‚¬ì‹¤ ìì„¸íˆ ë³´ë©´ ì»´íŒŒì¼ëŸ¬ë³´ë‹¤ëŠ” íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ì— ê°€ê¹ë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³€í™˜í•´ì•¼í•˜ëŠ” ì´ìœ ê°€ ë­˜ê¹Œ?

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í¬ë¡¬, íŒŒì´ì–´í­ìŠ¤, ì‚¬íŒŒë¦¬, ìµìŠ¤í”Œë¡œëŸ¬ ë“± ë‹¤ì–‘í•œ ë¸Œë¼ìš°ì €ì—ì„œ ì‚¬ìš©ë˜ëŠ”ë°, ê° ë¸Œë¼ìš°ì €ë§ˆë‹¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ë‹¤ë¥´ë‹¤.
ì´ëŸ¬í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ê¸°ê³„ì–´ë¡œ ë³€í™˜í•˜ëŠ”ë°, ì´ ë³€í™˜ ê³¼ì •ì—ì„œ ê° ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë³€í™˜í•œë‹¤.
ì´ëŸ¬í•œ ì´ìœ ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ë•ŒëŠ” í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§• ì´ìŠˆë¥¼ ê³ ë ¤í•´ì•¼ í•œë‹¤. ë°”ë²¨ì€ ì´ëŸ¬í•œ í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§• ì´ìŠˆë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

---

### ì»´íŒŒì¼ëŸ¬
ì»´íŒŒì¼ëŸ¬ë€ ì†ŒìŠ¤ì½”ë“œë¥¼ ì…ë ¥ë°›ì•„ ê·¸ê²ƒì„ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ì˜®ê¸°ëŠ” ê²ƒì„ ë§í•œë‹¤.
ì˜ˆë¥¼ë“¤ì–´ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‘ì„±í•œ ê³ ê¸‰ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ì»´í“¨í„°ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ì–´ì…ˆë¸”ë¦¬ì–´ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì´ë‹¤.

### íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬
íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ë€ ì†ŒìŠ¤ì½”ë“œë¥¼ ì…ë ¥ë°›ì•„ ê·¸ê²ƒì„ ê°™ì€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´(ìœ ì‚¬í•œ ì–¸ì–´)ì˜ ë‹¤ë¥¸ ë²„ì „ìœ¼ë¡œ ì˜®ê¸°ëŠ” ê²ƒì„ ë§í•œë‹¤.

---

## ë°”ë²¨ì˜ ë™ì‘
ë°”ë²¨ì€ ECMAScript2015+ ë²„ì „ì˜ ì½”ë“œë¥¼ í•˜ìœ„ ë²„ì „ì˜ ì½”ë“œë¡œ ë³€í™˜í•œë‹¤.
ì´ë ‡ê²Œ ë³€í™˜ëœ ì½”ë“œëŠ” IE11ì„ í¬í•¨í•œ êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œë„ ë™ì‘í•œë‹¤.

ë°”ë²¨ì€ ì„¸ ë‹¨ê³„ë¡œ ë¹Œë“œë¥¼ ì§„í–‰í•œë‹¤.
1. íŒŒì‹±(Parsing) : ì½”ë“œë¥¼ ì½ì–´ì„œ ì¶”ìƒ êµ¬ë¬¸ íŠ¸ë¦¬ AST(Abstract Syntax Tree)ë¡œ ë³€í™˜í•œë‹¤.
2. ë³€í™˜(Transformation) : ASTë¥¼ ì›í•˜ëŠ” í˜•íƒœë¡œ ë³€í™˜í•œë‹¤.
3. ì¶œë ¥(Printing) : ë³€í™˜ëœ ASTë¥¼ ì½”ë“œë¡œ ì¶œë ¥í•œë‹¤.

ë¨¼ì € ë°”ë²¨ì„ ì„¤ì¹˜í•œë‹¤
```shell
npm install -D @babel/core @babel/cli
```

```javascript
const alert = msg => window.alert(msg);
```

ìœ„ ì½”ë“œë¥¼ ë°”ë²¨ë¡œ ë³€í™˜í•˜ë©´ ì•„ë¬´ëŸ° ë³€í™”ê°€ ì—†ë‹¤.

```shell
npx babel app.js
```

```javascript
const alert = msg => window.alert(msg);
```

---

### ë°”ë²¨ í”ŒëŸ¬ê·¸ì¸
@babel/plugin-transform-block-scoping í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•´ë³´ì.

```shell
npm install -D @babel/plugin-transform-block-scoping
```

ë¨¼ì € root ë””ë ‰í† ë¦¬ì— babel.config.js íŒŒì¼ì„ ìƒì„±í•˜ê³ 

```javascript
// babel.config.js
    module.exports = {
        plugins: [
            '@babel/plugin-transform-block-scoping'
        ]
    }
```

```javascript
const alert = msg => window.alert(msg);
```

ìœ„ ì½”ë“œë¥¼ ë°”ë²¨ë¡œ ë³€í™˜í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë³€í™˜ëœë‹¤.

```javascript
var alert = msg => window.alert(msg);
```

ìœ„ í”ŒëŸ¬ê·¸ì¸ì€ const, let í‚¤ì›Œë“œë¥¼ var í‚¤ì›Œë“œë¡œ ë³€í™˜í•œë‹¤.

---

arrow functionê³¼ strict modeë¥¼ ì‚¬ìš©í•´ë³´ì.

```shell
npm install -D @babel/plugin-transform-arrow-functions @babel/plugin-transform-strict-mode
```

ìœ„ ì½”ë“œë¥¼ ë°”ë²¨ë¡œ ë³€í™˜í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë³€í™˜ëœë‹¤.

```javascript
"use strict";

var alert = function alert(msg) {
  return window.alert(msg);
};
```

---

### ë°”ë²¨ í”„ë¦¬ì…‹
ë°”ë²¨ í”„ë¦¬ì…‹ì€ ë°”ë²¨ í”ŒëŸ¬ê·¸ì¸ì„ ëª¨ì•„ë†“ì€ ê²ƒì´ë‹¤.

ìœ„ ì„¸ê°€ì§€ í”ŒëŸ¬ê·¸ì¸ì€ ì•„ë˜ í”„ë¦¬ì…‹ì— ëª¨ë‘ í¬í•¨ë˜ì–´ ìˆë‹¤.

```shell
npm install -D @babel/preset-env
```

```javascript
// babel.config.js
    module.exports = {
        presets: [
            '@babel/preset-env'
        ]
    }
```

```javascript
const alert = msg => window.alert(msg);
```

ìœ„ ì½”ë“œë¥¼ ë°”ë²¨ë¡œ ë³€í™˜í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë³€í™˜ëœë‹¤.

```javascript
"use strict";

var alert = function alert(msg) {
  return window.alert(msg);
};
```

ì¶”ê°€ë¡œ ê° í”„ë¦¬ì…‹ë“¤ì€ ì˜µì…˜ë“¤ì„ ì œê³µí•˜ëŠ”ë°

```javascript
// babel.config.js
    module.exports = {
        presets: [
            [
                '@babel/preset-env',
                {
                    targets: {
                        chrome: '79',
                        ie: '11'
                    },
                    useBuiltIns: 'usage',
                    corejs: {
                        version: 2
                    }
                }
            ]
        ]
    }
```
ìœ„ì²˜ëŸ¼ ì§€ì›í•˜ëŠ” ë¸Œë¼ìš°ì €ì˜ ë²„ì „ì„ ì„¤ì •í•˜ê±°ë‚˜, í´ë¦¬í•„ì„ ì‚¬ìš©í• ì§€ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

---

### ì›¹íŒ©ê³¼ í†µí•©
ë°”ë²¨ì€ ì§ì ‘ ì‚¬ìš©í•˜ì§„ ì•Šê³  ì›¹íŒ©ê³¼ ê°™ì€ ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ì™€ í†µí•©í•´ì„œ ì‚¬ìš©í•œë‹¤.

```shell
npm install -D babel-loader
```

```javascript
// webpack.config.js
module.exports = {
    module: {
        rules: [
            {
                test: /\.js$/,
                exclude: /node_modules/,
                loader: 'babel-loader'
            }
        ]
    }
}
```
js í™•ì¥ìë¡œ ëë‚˜ëŠ” ëª¨ë“  íŒŒì¼ì— babel-loaderë¥¼ ì ìš©í•œë‹¤.
ë˜ node_modules ë””ë ‰í† ë¦¬ëŠ” ì œì™¸í•œë‹¤.

23:T2f94,
## ì›¹íŒ©(ê¸°ë³¸)ë°°ê²½
- ì›¹íŒ©ì€ ëª¨ë˜ javascript ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ì •ì  ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ì´ë‹¤. ë²ˆë“¤ëŸ¬ëŠ” ì›¹íŒ© ì´ì™¸ì—ë„ ë‹¤ì–‘í•œê²Œ ìˆëŠ”ë° (rollup , esbuild , vite , parcel ë“±) ì›¹íŒ©ì´ ê°€ì¥ ì˜¤ë˜ë˜ì—ˆê¸°ë„í•˜ê³  ë§ì´ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— ë°°ì›Œë³´ê¸°ë¡œ í–ˆë‹¤.

- Javascriptì—ì„œ ë¬¸ë²• ìˆ˜ì¤€ì—ì„œ ëª¨ë“ˆì„ ì§€ì›í•˜ê¸° ì‹œì‘í•œê²ƒì€ ES2015ë¶€í„° ì´ë‹¤. import/export êµ¬ë¬¸ì´ ì—†ì—ˆë˜ ì´ì „ ìƒí™©ì—ì„œëŠ” í•˜ë‚˜ì˜ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆì„ ë•Œ ì „ì—­ ê³µê°„ì— ë…¸ì¶œë˜ì–´ ë²„ê·¸ë‚˜ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆì—ˆë‹¤.

ì˜ˆë¥¼ë“¤ì–´ ì•„ë˜ì™€ ê°™ì€ ë§ì…ˆ í•¨ìˆ˜ëŠ”

```javascript
// math.js
function add(a,b){
    return a+b;
}
```

```javascript
// app.js
add(10,20);
```

ëª¨ë‘ í•˜ë‚˜ì˜ HTML íŒŒì¼ì•ˆì—ì„œ ë¡œë”©í•´ì•¼ë§Œ ì‹¤í–‰ëœë‹¤. math.jsê°€ ë¡œë”©ë˜ë©´ app.jsëŠ” add í•¨ìˆ˜ë¥¼ ì°¾ê³  ì‹¤í–‰ì‹œí‚¤ëŠ”ë°, add í•¨ìˆ˜ê°€ ì „ì—­ìœ¼ë¡œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ê°™ì€ ì´ë¦„ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

---

ì´ëŸ° ë¬¸ì œë¥¼ ì˜ˆë°©í•˜ê¸°ìœ„í•´ IIFE(ì¦‰ì‹œì‹¤í–‰í•¨ìˆ˜) ë°©ì‹ì˜ ìŠ¤ì½”í”„ë¥¼ ì‚¬ìš©í–ˆë‹¤.

```javascript
var math = math || {}

;(function () {
  function add(a, b) {
    return a + b
  }
  math.add = add
})();
```

í•¨ìˆ˜ ìŠ¤ì½”í”„ë¥¼ ë§Œë“¤ì–´ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡í•´ ì¶©ëŒì„ ë§‰ì„ ìˆ˜ ìˆì—ˆê³ , ì „ì—­ì— ì„ ì–¸í•œ mathë¼ëŠ” ì´ë¦„ë§Œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

---

ìë°”ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“ˆì„ êµ¬í˜„í•˜ëŠ” ëŒ€í‘œì ì¸ ëª…ì„¸ëŠ” AMDì™€ CommonJSê°€ ìˆë‹¤.

- AMD(Asynchronous Module Definition)ëŠ” ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ëª¨ë“ˆì„ ë¡œë”©í•œë‹¤. ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤.
- UMD(Universal Module Definition)ëŠ” AMDì™€ CommonJSë¥¼ ì§€ì›í•˜ëŠ” ëª¨ë“ˆì„ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.
- CommonJSëŠ” exportë¡œ ëª¨ë“ˆì„ ë§Œë“¤ê³  require()í•¨ìˆ˜ë¡œ importí•˜ëŠ” ë°©ì‹ì´ë‹¤. ì£¼ë¡œ ì„œë²„ ì‚¬ì´ë“œ í”Œë«í¼ì¸ Node.js í™˜ê²½ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤.

### CommonJS
```javascript
//math.js
export function add(a,b){
    return a+b;
}
```

```javascript
//app.js
const math = require('./math.js');
math.add(10,20);
```

### ES2015 í‘œì¤€ ëª¨ë“ˆ ì‹œìŠ¤í…œ
```javascript
//math.js
export function add(a,b){
    return a+b;
}
```

```javascript
//app.js
import {add} from './math.js';
add(10,20);
```
`export` êµ¬ë¬¸ìœ¼ë¡œ ëª¨ë“ˆì„ ë§Œë“¤ê³  `import` êµ¬ë¬¸ìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

ì´ëŸ¬í•œ ë°©ì‹ì€ ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì›¹íŒ©ê³¼ ê°™ì€ ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.

---

## ì›¹íŒ©ì‚¬ìš©ë°©ë²•
ì›¹íŒ©ì€ ì—¬ëŸ¬ê°œì˜ íŒŒì¼ì„ í•˜ë‚˜ë¡œ í•©ì³ì£¼ëŠ” ë²ˆë“¤ëŸ¬(bundler)ì´ë‹¤. ì›¹íŒ©ì„ ì‚¬ìš©í•˜ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¿ë§Œ ì•„ë‹ˆë¼ css, html, ì´ë¯¸ì§€ ë“± ëª¨ë“  íŒŒì¼ì„ ëª¨ë“ˆë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

ì›¹íŒ©ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ ì‘ì—…ì„ í•´ë³´ì.

ë¨¼ì € ì›¹íŒ©ê³¼ ì›¹íŒ© í„°ë¯¸ë„ ë„êµ¬ì¸ clië¥¼ ì„¤ì¹˜í•œë‹¤.

```shell
npm install -D webpack webpack-cli
```

root ë””ë ‰í† ë¦¬ì— `webpack.config.js` íŒŒì¼ì„ ìƒì„±í•œë‹¤.

```javascript
//webpack.config.js
const path = require('path');

module.exports = {
    mode: 'development',
    entry: './src/index.js',
    output: {
        filename: '[name].js',
        path: path.resolve(__dirname, './dist'),
    },
};
```

- `mode`ëŠ” ì›¹íŒ©ì˜ ëª¨ë“œë¥¼ ì„¤ì •í•œë‹¤. `development`ë¡œ ì„¤ì •í•˜ë©´ ê°œë°œìš©ìœ¼ë¡œ, `production`ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ë°°í¬ìš©ìœ¼ë¡œ ë¹Œë“œëœë‹¤.
- `entry`ëŠ” ì›¹íŒ©ì´ ë¹Œë“œí•  íŒŒì¼ì¸ ì§„ì…ì ì„ ì§€ì •í•œë‹¤.
- `output`ì€ ì›¹íŒ©ì´ ë¹Œë“œí•œ ê²°ê³¼ë¬¼ì„ ì €ì¥í•  ê²½ë¡œì™€ íŒŒì¼ëª…ì„ ì§€ì •í•œë‹¤.
    - [name]ì€ entryì— ì§€ì •í•œ íŒŒì¼ëª…ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤.
    - [hash]ëŠ” ì›¹íŒ©ì´ ë¹Œë“œí•  ë•Œë§ˆë‹¤ ê³ ìœ í•œ í•´ì‹œê°’ì„ ë¶™ì—¬ì¤€ë‹¤.

package.jsonì— ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•œë‹¤.

```json
//package.json
{
    "scripts": {
        "build": "webpack"
    }
}
```

ì´ì œ `npm run build` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ì›¹íŒ©ì´ ë¹Œë“œë¥¼ ì‹œì‘í•œë‹¤.

---

## ì›¹íŒ© ë¡œë”
ì›¹íŒ©ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ë¿ë§Œ ì•„ë‹ˆë¼ css, html, ì´ë¯¸ì§€ ë“± ëª¨ë“  íŒŒì¼ì„ ëª¨ë“ˆë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
í•˜ì§€ë§Œ ì›¹íŒ©ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë§Œ ì´í•´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— cssë‚˜ html, ì´ë¯¸ì§€ íŒŒì¼ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë¡œ ë³€ê²½í•´ì•¼í•œë‹¤. ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë¡œë”ì´ë‹¤.

ìì£¼ ì‚¬ìš©í•˜ëŠ” ë¡œë”
- css-loader : css íŒŒì¼ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë¡œ ë³€ê²½í•œë‹¤.
- style-loader : ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³€ê²½ëœ ìŠ¤íƒ€ì¼ì„ ë™ì ìœ¼ë¡œ ë”ì— ì¶”ê°€í•´ì¤€ë‹¤. ì£¼ë¡œ css-loaderì™€ í•¨ê»˜ ì‚¬ìš©í•œë‹¤.
- file-loader : íŒŒì¼ì„ ëª¨ë“ˆë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ url ê²½ë¡œë¥¼ ë³€ê²½í•œë‹¤.
- url-loader : íŒŒì¼ì„ ëª¨ë“ˆë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ url ê²½ë¡œë¥¼ ë³€ê²½í•˜ê³  íŒŒì¼ì„ base64ë¡œ ì¸ì½”ë”©í•œë‹¤.

### css-loader
```shell
npm install -D css-loader
```

ì›¹íŒ©ì€ ëª¨ë‘ ëª¨ë“ˆë¡œ ë°”ë¼ë³´ê¸° ë•Œë¬¸ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¿ë§Œ ì•„ë‹ˆë¼ ìŠ¤íƒ€ì¼ì‹œíŠ¸ë„ import êµ¬ë¬¸ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.

```javascript
import './style.css';
```

```css
// style.css
body {
    background-color: red;
}
```

```javascript
//webpack.config.js
module.exports = {
    {...}
  module: {
    rules: [
      {
        test: /\.css$/, // .css í™•ì¥ìë¡œ ëë‚˜ëŠ” ëª¨ë“  íŒŒì¼
        use: ["css-loader"], // css-loaderë¥¼ ì ìš©í•œë‹¤
      },
    ],
  },
};
```
ì›¹íŒ©ì€ entryì—ì„œ ëª¨ë“ˆì„ ê²€ìƒ‰í•˜ë‹¤ê°€ css íŒŒì¼ì„ ì°¾ìœ¼ë©´ css-loaderë¥¼ ì ìš©í•œë‹¤.

---

### style-loader
ëª¨ë“ˆë¡œ ë³€ê²½ëœ ìŠ¤íƒ€ì¼ ì‹œíŠ¸ëŠ” ë”ì— ì¶”ê°€ë˜ì–´ì•¼ ë¸Œë¼ìš°ì €ê°€ í•´ì„í•œë‹¤.
css-loaderëŠ” css íŒŒì¼ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë¡œ ë³€ê²½í•  ë¿ ë”ì— ì¶”ê°€í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ style-loaderë¥¼ ì¶”ê°€í•´ì•¼í•œë‹¤.
```shell
npm install -D style-loader
```

```javascript
module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/,
        use: ["style-loader", "css-loader"],
      },
    ],
  },
};
```
style-loaderë¥¼ css-loaderë³´ë‹¤ ì•ì— ì ìš©í•œë‹¤. ë¡œë”ëŠ” ë°°ì—´ë¡œ ì„¤ì •í•˜ë©´ ë’¤ -> ì• ìˆœì„œëŒ€ë¡œ ë¡œë”ê°€ ì‘ë™í•œë‹¤.

---

### file-loader
css ë¿ë§Œ ì•„ë‹ˆë¼ ì†ŒìŠ¤ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  íŒŒì¼ë“¤ì„ ëª¨ë“ˆë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•  ìˆ˜ ìˆë‹¤.

```shell
npm install -D file-loader
```

```javascript
module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpe?g|gif)$/i, // iëŠ” ëŒ€ì†Œë¬¸ì êµ¬ë¶„ì—†ì´, í™•ì¥ìë“¤
        loader: "file-loader",
        options: {
          publicPath: "./dist/", // prefixë¥¼ ì•„ì›ƒí’‹ ê²½ë¡œë¡œ ì§€ì •
          name: "[name].[ext]?[hash]", // íŒŒì¼ëª… í˜•ì‹
        },
      },
    ],
  },
};
```
ì˜µì…˜ìœ¼ë¡œ ê²½ë¡œë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. `publicPath`ëŠ” íŒŒì¼ì„ ì°¸ì¡°í•˜ëŠ” ê²½ë¡œë¥¼ ì§€ì •í•œë‹¤. `name`ì€ íŒŒì¼ëª… í˜•ì‹ì„ ì§€ì •í•œë‹¤.

---

### url-loader
íŒŒì¼ì„ base64ë¡œ ì¸ì½”ë”©í•˜ì—¬ ë¬¸ìì—´ í˜•íƒœë¡œ ë³€í™˜í•œë‹¤. íŒŒì¼ í¬ê¸°ê°€ ì‘ì€ íŒŒì¼ë“¤ì€ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ íŒŒì¼ì„ ìš”ì²­í•˜ëŠ” íšŸìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

```shell
npm install -D url-loader
```

```javascript
module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpe?g|gif)$/i,
        loader: "url-loader",
        options: {
          publicPath: "./dist/",
          name: "[name].[ext]?[hash]",
          limit: 5000, // 5kb ë¯¸ë§Œ íŒŒì¼ë§Œ data urlë¡œ ì²˜ë¦¬
        },
      },
    ],
  },
};
```

---

file-loaderì™€ url-loaderëŠ” v5ë¶€í„° ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ë©°, `asset`ì´ë¼ëŠ” í‚¤ì›Œë“œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```javascript
module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpe?g|gif)$/i,
        type: "asset/resource", // file-loader
        generator: {
          filename: "[name][ext]?[hash]", // [name]ì€ íŒŒì¼ëª…, [ext]ëŠ” í™•ì¥ì
        },
      },
      {
        test: /\.(png|jpe?g|gif)$/i,
        type: "asset/inline", // url-loader
        generator: {
          filename: "[name][ext]?[hash]",
        },
      },
      {
        test: /\.(png|jpe?g|gif)$/i,
        type: "asset", // ê¸°ë³¸ê°’ì€ 8kb ë¯¸ë§Œì€ inline, 8kb ì´ìƒì€ resource
        generator: {
          filename: "[name][ext]?[hash]",
        },
      },
    ],
  },
};
```

---

## ì›¹íŒ© í”ŒëŸ¬ê·¸ì¸
ë¡œë”ëŠ” íŒŒì¼ì„ í•´ì„í•˜ê³  ë³€í™˜í•˜ëŠ” ê³¼ì •ì— ê´€ì—¬í•˜ì§€ë§Œ í”ŒëŸ¬ê·¸ì¸ì€ í•´ë‹¹ ê²°ê³¼ë¬¼ì˜ í˜•íƒœë¥¼ ë°”ê¾¸ëŠ” ì—­í• ì„ í•œë‹¤. ë¡œë”ëŠ” íŒŒì¼ ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°˜ë©´ í”ŒëŸ¬ê·¸ì¸ì€ ë²ˆë“¤ëœ ê²°ê³¼ë¬¼ì„ ì²˜ë¦¬í•œë‹¤.
ë²ˆë“¤ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‚œë…í™” í•œë‹¤ê±°ë‚˜, íŠ¹ì • í…ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•œë‹¤.

ìì£¼ ì‚¬ìš©í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸
- BannerPlugin : ê²°ê³¼ë¬¼ì— ë¹Œë“œ ì •ë³´ë‚˜ ë²„ì „ê°™ì€ ì •ë³´ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
- DefinePlugin : í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•œë‹¤.
- HtmlWebpackPlugin : HTML íŒŒì¼ì„ í›„ì²˜ë¦¬í•œë‹¤.
- CleanWebpackPlugin : ì´ì „ ë¹Œë“œ ê²°ê³¼ë¬¼ì„ ì œê±°í•œë‹¤.
- MiniCssExtractPlugin : CSS íŒŒì¼ì„ ë³„ë„ë¡œ ì¶”ì¶œí•œë‹¤.

---

### BannerPlugin
```javascript
const webpack = require("webpack");

module.exports = {
  plugins: [
    new webpack.BannerPlugin({
      banner: () => `ë¹Œë“œ ë‚ ì§œ: ${new Date().toLocaleString()}`,
    }),
  ],
};
```

---

### DefinePlugin
ê°œë°œí™˜ê²½ê³¼ ìš´ì˜í™˜ê²½ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì„œ ì‘ì—…í•  ë•Œ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
í™˜ê²½ì— ì˜ì¡´ì ì¸ ì •ë³´ë¥¼ ì†ŒìŠ¤ê°€ ì•„ë‹Œ í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ë©´ ì†ŒìŠ¤ì½”ë“œë¥¼ ë”ìš± ì•ˆì „í•˜ê³  í¸ë¦¬í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

```javascript
const webpack = require("webpack");

module.exports = {
  plugins: [
    new webpack.DefinePlugin({
      VERSION: JSON.stringify("v.1.2.3"),
      PRODUCTION: JSON.stringify(false),
      MAX_COUNT: JSON.stringify(999),
      "api.domain": JSON.stringify("http://dev.api.domain.com"),
    }),
  ],
};
```

---

### HtmlWebpackPlugin
```shell
npm install -D html-webpack-plugin
```

```javascript
const HtmlWebpackPlugin = require("html-webpack-plugin");

module.exports = {
  entry: 'index.js',
  output: {
    path: path.resolve(__dirname, './dist'),
    filename: 'index_bundle.js',
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: "./src/index.html", // í…œí”Œë¦¿ ê²½ë¡œë¥¼ ì§€ì •
      minify:
        process.env.NODE_ENV === "production"
          ? {
              // ë¹Œë“œ ëª¨ë“œê°€ productionì¼ ë•Œë§Œ ì‚¬ìš©
              collapseWhitespace: true, // ë¹ˆì¹¸ ì œê±°
              removeComments: true, // ì£¼ì„ ì œê±°
            }
          : false,
    }),
  ],
};
```

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>webpack App</title>
  </head>
  <body>
    <script src="index_bundle.js"></script>
  </body>
</html>
```
script íƒœê·¸ì— ë²ˆë“¤ë§ëœ ê²°ê³¼ë¬¼ì„ ìë™ìœ¼ë¡œ ì¶”ê°€í•´ì¤€ë‹¤. ì›¹íŒ© ì—”íŠ¸ë¦¬ê°€ ì—¬ëŸ¬ê°œì¼ ê²½ìš° ì—¬ëŸ¬ê°œì˜ script íƒœê·¸ë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

---

### CleanWebpackPlugin
```shell
npm install -D clean-webpack-plugin
```

```javascript
const { CleanWebpackPlugin } = require("clean-webpack-plugin");

module.exports = {
  plugins: [new CleanWebpackPlugin()],
};
```

---

### MiniCssExtractPlugin
ìŠ¤íƒ€ì¼ ì‹œíŠ¸ê°€ ì ì  ë§ì•„ì§ì— ë”°ë¼ í•˜ë‚˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë§Œë“¤ë©´ ë¶€ë‹´ì´ ë  ìˆ˜ ìˆë‹¤.
ë²ˆë“¤ ê²°ê³¼ë¬¼ì—ì„œ ìŠ¤íƒ€ì¼ì‹œíŠ¸ ì½”ë“œë§Œ ë”°ë¡œ ë¶„ë¦¬í•˜ì—¬ ë³„ë„ì˜ cssíŒŒì¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ë‹¤.

```shell
npm install -D mini-css-extract-plugin
```

```javascript
const MiniCssExtractPlugin = require("mini-css-extract-plugin");

module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/,
        use: [MiniCssExtractPlugin.loader, "css-loader"],
      },
    ],
  },
  plugins: [
    new MiniCssExtractPlugin({
      filename: "[name].css",
    }),
  ],
};
```

ìš´ì˜ í™˜ê²½ì—ì„œëŠ” `MiniCssExtractPlugin.loader`ë¥¼ ì‚¬ìš©í•´ ìŠ¤íƒ€ì¼ì‹œíŠ¸ë¥¼ ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬í•œë‹¤. ê°œë°œ í™˜ê²½ì—ì„œëŠ” `style-loader`ë¥¼ ì‚¬ìš©í•´ ë™ì ìœ¼ë¡œ ë”ì— ì¶”ê°€í•œë‹¤.

---

ì›¹íŒ©ì˜ ë¡œë”ì™€ í”ŒëŸ¬ê·¸ì¸ì˜ ì›ë¦¬, ì‚¬ìš©ë°©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì•˜ë‹¤.

ìš°ë¦¬ê°€ í¸ë¦¬í•˜ê³  ì‰½ê²Œ ì‚¬ìš©í•˜ëŠ” Create-React-AppëŠ” ì›¹íŒ©ìœ¼ë¡œ ë¹Œë“œëœ ê²°ê³¼ë¬¼ì„ ì œê³µí•´ì¤€ë‹¤.
í•˜ì§€ë§Œ ê¸°ë³¸ì ì¸ ì›¹íŒ©ìœ¼ë¡œ ì„¤ì •ë˜ì–´ìˆê³ , ì§ì ‘ ì»¤ìŠ¤í…€í•˜ë ¤ë©´ ejectë¥¼ í•´ì•¼í•œë‹¤.

ì´ë²ˆ ê¸°íšŒì— ì›¹íŒ©ì˜ ì›ë¦¬ì™€ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ë‹¤.
24:Te9a,
### React Native geolocation

ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ì— ìœ„ì¹˜ì •ë³´ë¥¼ ë°›ì•„ì™€ì•¼ í•˜ëŠ” ê¸°ëŠ¥ì´ í•„ìš”í•´ ì§€ì˜¤ë¡œì¼€ì´ì…˜ì„ ë°›ì•„ ì˜¤ë„ë¡ í–ˆë‹¤.

### ì„¤ì¹˜

https://www.npmjs.com/package/react-native-geolocation-service

```bash
yarn add react-native-geolocation-service
```

---

### IOS
- ë¨¼ì € xcodeë¥¼ ì—´ê³  swift íŒŒì¼ì„ ìƒì„±í•´ì¤€ë‹¤.

<div style={{ display: "flex", gap: '10px' }}>
    <img src="/assets/blog/javaScript/rn-geolocation.png" width="49%" style={{ maxWidth: '40%'}} alt="post image"/>
    <img src="/assets/blog/javaScript/rn-geolocation-2.png" width="49%" style={{ maxWidth: '59%'}} alt="post image"/>
</div>

í”„ë¡œì íŠ¸ í´ë”ì— swift íŒŒì¼ì„ ìƒì„±í•´ì£¼ê³  Create Bridging Header ë¥¼ ì„ íƒí•´ì¤€ë‹¤.

---

- ë””ë°”ì´ìŠ¤ì—ì„œ ìœ„ì¹˜ì •ë³´ë¥¼ ë°›ì•„ì˜¤ë ¤ë©´ ê¶Œí•œ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.

```
// ios/[projectName]/info.plist

<key>NSLocationAlwaysAndWhenInUseUsageDescription</key>
<string>ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì—…ì²´ ìœ„ì¹˜ë¥¼ í™•ì¸ì„ ìœ„í•œ ìœ„ì¹˜ê¸°ë°˜ ì •ë³´ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</string>
<key>NSLocationAlwaysUsageDescription</key>
<string>ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì—…ì²´ ìœ„ì¹˜ë¥¼ í™•ì¸ì„ ìœ„í•œ ìœ„ì¹˜ê¸°ë°˜ ì •ë³´ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</string>
<key>NSLocationWhenInUseUsageDescription</key>
<string>ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì—…ì²´ ìœ„ì¹˜ë¥¼ í™•ì¸ì„ ìœ„í•œ ìœ„ì¹˜ê¸°ë°˜ ì •ë³´ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</string>
```

---

<div style={{ display: "flex", gap: '10px' }}>
    <img src="/assets/blog/javaScript/rn-geolocation-3.png" width="49%" style={{ maxWidth: '40%'}} alt="post image"/>
    <img src="/assets/blog/javaScript/rn-geolocation-4.png" width="49%" style={{ maxWidth: '59%'}} alt="post image"/>
</div>

- ë°±ê·¸ë¼ìš´ë“œì—ì„œë„ ìœ„ì¹˜ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì—ì„œ ìœ„ì™€ ê°™ì´ Location updatesì— ì²´í¬í•´ ì„¤ì •í•œë‹¤.

---

### Android

- ì•ˆë“œë¡œì´ë“œë„ ë§ˆì°¬ê°€ì§€ë¡œ ê¶Œí•œ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.

```xml
// android/app/src/main/AndroidManifest.xml

<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
```

---

### ì‚¬ìš©ë²•

```tsx
  useEffect(() => {
    if (Platform.OS === 'ios') {
      Geolocation.requestAuthorization('always');
    } else {
      PermissionsAndroid.requestMultiple([
        PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION,
        PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION,
      ]);
    }
  }, []);
```

- requestAuthorizationë¡œ ìœ„ì¹˜ì •ë³´ ê¶Œí•œì„ ìš”ì²­í•©ë‹ˆë‹¤.

---

### ê°€ì¥ ë§ì´ ì“°ì´ëŠ” ì„¸ê°€ì§€ API

- getCurrentPosition(successCallback, ?errorCallback, ?options) - ìµœì‹  ìœ„ì¹˜ì •ë³´ í˜¸ì¶œ (í•œë²ˆ)
- watchPosition(successCallback, ?errorCallback, ?options) - ì§€ì†ì ìœ¼ë¡œ í˜¸ì¶œ
- clearWatch(watchId)

```tsx
import Geolocation from 'react-native-geolocation-service';

const MyApp = () => {
    const [location, setLocation] = useState<ILocation | undefined>(undefined);

    useEffect(() => {
        const _watchId = Geolocation.watchPosition(
          position => {
            const {latitude, longitude} = position.coords;
            setLocation({latitude, longitude});
          },
          error => {
            console.log(error);
          },
          {
            enableHighAccuracy: true,
            distanceFilter: 0,
            interval: 5000,
            fastestInterval: 2000,
          },
        );

        return () => {
          if (_watchId) {
            Geolocation.clearWatch(_watchId);
          }
        };
      }, []);

    return <></>;
}

```

ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” ë°›ì•„ì˜¨ ìœ„ì¹˜ì •ë³´ë¥¼ webviewë¡œ ë„˜ê²¨ì£¼ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì!


25:T9c4,
### ë”¥ë§í¬
- ë”¥ë§í¬ëŠ” ëª¨ë°”ì¼ì—ì„œ íŠ¹ì • í˜ì´ì§€ì— ë„ë‹¬ í•  ìˆ˜ ìˆëŠ” ë§í¬ë¥¼ ì˜ë¯¸í•œë‹¤.
- ì›¹ì´ë‚˜ snsë“± ë§í¬ë¥¼ í´ë¦­í–ˆì„ë•Œ í•´ë‹¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì•±ìœ¼ë¡œ ë°”ë¡œ ì´ë™í•˜ëŠ”ë°, ì´ëŸ° ë°©ì‹ì„ ëª¨ë°”ì¼ ë”¥ë§í¬ë¼ í•˜ê³  íŠ¹ì •í•œ ì•± ìŠ¤í¬ë¦°ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²ƒ

- ë”¥ë§í¬ëŠ” URL ìŠ¤í‚´, https://, ë‘ê°€ì§€ í˜•íƒœë¥¼ ì§€ì›í•œë‹¤.
- ex) `app://example.my.app`, `https://www.example.com`

```shell
yarn add @react-native-firebase/dynamic-links
```

```jsx
import { Linking } from 'react-native';
import dynamicLinks from '@react-native-firebase/dynamic-links';
```


### ios

ios > [í”„ë¡œì íŠ¸] > AppDelegate.mm

```swift
#import <React/RCTLinkingManager.h>

{...}

- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url options:(NSDictionary<UIApplicationOpenURLOptionsKey,id> *)options {
  return [RCTLinkingManager application:application openURL:url options:options];
}
```

xcodeë¡œ ê°€ Identifier í”„ë¡œì íŠ¸ì— Bundle IDë¥¼ ë„£ê³ ,
URL Schemesì— í”„ë¡œí† ì½œì„ ì •ì˜í•œë‹¤.

### android

android > app > src > main > AndroidManifest.xml

```xml
  <intent-filter>
    <action android:name="android.intent.action.MAIN" />
    <category android:name="android.intent.category.LAUNCHER" />
  </intent-filter>

  <intent-filter>
    <action android:name="android.intent.action.VIEW" />
    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />
    <data
      android:host="example.com"
      android:pathPrefix="/"
      android:scheme="https" />
  </intent-filter>
```


### URL ì²˜ë¦¬

```jsx
const handleDynamicLink = async () => {
  const initialLink = await dynamicLinks().getInitialLink();
  if (initialLink) {
    console.log('initialLink', initialLink);
  }
};

useEffect(() => {
  handleDynamicLink();
}, []);
```

### WebView ì´ìŠˆ

ì•±ì´ ì£½ì–´ìˆëŠ” ìƒíƒœë¡œ ì™¸ë¶€ì—ì„œ ë”¥ë§í¬ë¥¼ í´ë¦­í–ˆì„ ë•Œ ì•±ì´ ì¼œì§€ê³  í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ”ë°, ì´ë•Œ WebViewê°€ ë Œë”ë§ ë˜ì§€ ì•ŠëŠ” ì´ìŠˆê°€ ìˆë‹¤.

```jsx
// ì•±ì´ ì²˜ìŒ ì‹œì‘ì‹œ ì´ˆê¸°í™”
useEffect(() => {
  const getInitURL = async () => {
    const initURL = await Linking.getInitialURL();
    if (initURL) {
      ...process
    }
  };
  getInitURL();
}, []);

// ì•±ì´ ì—´ë ¤ìˆëŠ” ìƒíƒœ
useEffect(() => {
  Linking.addEventListener('url', e => {
      if(e.url){
          ...process
      }
  });
  return () => Linking.removeAllListeners('url');
}, [])
```
26:T2147,
ì´ì „ì— [ìŠ¤ë²¨íŠ¸í‚·ìœ¼ë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ì–´ë³´ê¸°](https://wonbeenna.github.io/blog/javaScript/svelte-blog) ì—ì„œ svelte kitìœ¼ë¡œ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì—ˆì—ˆë‹¤.

ê·¸ë•ŒëŠ” svelte ê³µë¶€ê²¸ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì—ˆì§€ë§Œ, ì—…ë¬´ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìŠ¤íƒì¸ reactì™€ next.jsë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì–´ë³´ë ¤ê³  í•œë‹¤.

### ì‹œì‘
---
```shell
npx create-next-app <project-name>
```

next.js í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤.

### ë¼ìš°íŒ…
---
<img src="/assets/blog/javaScript/route.png" style={{
    maxWidth: "300px",
    height: "auto"
}} alt="next-blog-route" />

app í´ë” êµ¬ì¡°ëŠ” ìœ„ì™€ ê°™ë‹¤.

- root layoutì„ ë§Œë“¤ì–´ Header, Footerë¥¼ êµ¬ì„±í•œë‹¤.
- page/[page]ëŠ” ë¸”ë¡œê·¸ì˜ ë©”ì¸ì´ë©° í˜ì´ì§€ë„¤ì´ì…˜ì„ ìœ„í•´ ë™ì ìœ¼ë¡œ êµ¬ì„±í•˜ì˜€ë‹¤.
- blog/[category]/[slug]ëŠ” ì¹´í…Œê³ ë¦¬ë³„ë¡œ ë¸”ë¡œê·¸ë¥¼ êµ¬ë¶„í•˜ê³ , slugë¥¼ í†µí•´ ê° postë¥¼ êµ¬ë¶„í•œë‹¤.

### ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸

root layoutì„ ë§Œë“¤ì—ˆìœ¼ë‹ˆ, ì´ì œ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ì.

root ë””ë ‰í† ë¦¬ì— _postsí´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ ì•ˆì— markdown íŒŒì¼ì„ ë§Œë“ ë‹¤.


```shell
npm install gray-matter
```

gray-matterëŠ” markdown íŒŒì¼ì˜ front matterë¥¼ íŒŒì‹±í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.

```ts
import path from 'path';
import * as fs from 'fs';
import matter from 'gray-matter';
import { getSerialize } from '@/utils/sirialize';

export const POSTS_PATH = path.join(process.cwd(), '_posts');

export const postFilePaths = fs.readdirSync(POSTS_PATH).filter((path) => /\.mdx?$/.test(path));

export const getAllPost = (
  category?: string,
  paging: { page: string; limit?: string } = {
    page: '1',
    limit: '10'
  }
) => {
  let total = postFilePaths.length;
  let posts = postFilePaths
    .map((filePath) => {
      const source = fs.readFileSync(path.join(POSTS_PATH, filePath));
      const { content, data } = matter(source);
      const slug = filePath.replace(/\.mdx?$/, '');

      return {
        content,
        data,
        slug
      };
    })
    .sort((a, b) => {
      return new Date(b.data.date).getTime() - new Date(a.data.date).getTime();
    });

  if (category) {
    posts = posts.filter((post) => post.data.category === category);
    total = posts.length;
  }

  if (!paging.page) {
    paging.page = '1';
    paging.limit = '10';
  }

  if (paging.limit === '-1') {
    return {
      posts,
      total
    };
  }

  const { page = '1', limit = '10' } = paging;
  const offset = (+page - 1) * +limit;

  posts = posts.slice(offset, offset + +limit);

  return {
    posts,
    total
  };
};
```

file pathë¥¼ í†µí•´ _postsí´ë” ë‚´ markdown íŒŒì¼ì„ ì½ì–´ì˜¤ê³ , gray-matterë¥¼ í†µí•´ front matterë¥¼ íŒŒì‹±í•œë‹¤.

ë©”ì¸ê³¼ blog í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ê¸°ìœ„í•´ getAllPost í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆê³ , ê°ê°ì˜ ë¸”ë¡œê·¸ë“¤ì€ getPost í•¨ìˆ˜ë¥¼ í†µí•´ ê°€ì ¸ì˜¨ë‹¤.

```ts
export const getPost = async (slug: string) => {
  const allPost = getAllPost(undefined, {
    page: '1',
    limit: '-1'
  });

  const index = allPost.posts.findIndex((post) => post.slug === slug);
  const prevPost = allPost.posts[index + 1];
  const nextPost = allPost.posts[index - 1];

  const source = fs.readFileSync(path.join(POSTS_PATH, `${slug}.mdx`));

  const { content, data } = matter(source);
  const mdx = await getSerialize(content, data);

  return {
    mdx,
    content,
    data,
    slug,
    prevPost: {
      slug: prevPost?.slug,
      title: prevPost?.data.title,
      category: prevPost?.data.category
    },
    nextPost: {
      slug: nextPost?.slug,
      title: nextPost?.data.title,
      category: nextPost?.data.category
    }
  };
};
```

```shell
npm i next-mdx-remote
```

next-mdx-remoteëŠ” mdx íŒŒì¼ì„ htmlë¡œ ë³€í™˜í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.

ìœ„ ì½”ë“œì—ì„œ getSerialize í•¨ìˆ˜ëŠ” mdx íŒŒì¼ì„ htmlë¡œ ë³€í™˜í•´ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤.

htmlë¡œ ë³€í™˜í•˜ëŠ”ë° ìˆì–´ remarkì™€ rehypeë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```ts
import { serialize } from 'next-mdx-remote/serialize';
import remarkGfm from 'remark-gfm';
import rehypePrism from 'rehype-prism-plus';

export const getSerialize = async (content: string, data: any) => {
  return await serialize(content, {
    mdxOptions: {
      remarkPlugins: [remarkGfm],
      rehypePlugins: [rehypePrism]
    },
    scope: data
  });
};
```

```tsx
<MDXRemote {...source} components={components} />
```

ìœ„ì—ì„œ ë³€í™˜ëœ htmlì„ MDXRemote ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ ë Œë”ë§í•œë‹¤.

### ì¹´í…Œê³ ë¦¬
---

ì¹´í…Œê³ ë¦¬ ë³„ë¡œ í•„í„°í•˜ê¸°ìœ„í•´ ì¹´í…Œê³ ë¦¬ë„ ë”°ë¡œ ë°›ì•„ì™€ì•¼ í–ˆë‹¤.
ê°ê°ì˜ postë“¤ì„ ì½ê³  ì¤‘ë³µë˜ì§€ ì•Šì€ ì¹´í…Œê³ ë¦¬ë“¤ë§Œ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆë‹¤.

```ts
import { getAllPost } from '@/utils/getPost';

export const getCategories = (): {
  title: string;
  count: number;
}[] => {
  const posts = getAllPost(undefined, { page: '1', limit: '-1' });

  let uniqueCategories: any = {};

  posts.posts.forEach((post) => {
    if (uniqueCategories.hasOwnProperty(post.data.category)) {
      uniqueCategories[post.data.category].count += 1;
    } else {
      uniqueCategories[post.data.category] = {
        title: post.data.category,
        count: 1
      };
    }
  });

  return Object.values(uniqueCategories).sort((a, b) => a.title > b.title);
};

```

### í˜ì´ì§€
---
ìœ„ì—ì„œ êµ¬ì„±í•œ í•¨ìˆ˜ë“¤ì„ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•´ë³´ì.

```tsx
export const generateStaticParams = async () => {
  const posts = getAllPost(undefined, {
    page: '1',
    limit: '-1'
  });

  return Array.from({ length: Math.ceil(posts.total / 10) }, (_, i) => {
    return {
      page: (i + 1).toString()
    };
  });
};

const Page = ({ params }: { params: { page: string } }) => {
  return <PostListContainer page={params.page} />;
};

export default Page;
```

```tsx
// blog/[category]/[slug].tsx
export const generateStaticParams = async () => {
  const posts = getAllPost(undefined, {
    page: '1',
    limit: '-1'
  });

  return posts.posts.map((post) => {
    return {
      slug: post.slug,
      category: post.data.category
    };
  });
};
```

app ë¼ìš°íŠ¸ì—ì„œ SSGë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ generateStaticParams í•¨ìˆ˜ê°€ í•„ìš”í–ˆë‹¤.
PostListContainer ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ ê° pageë“¤ì„ ë Œë”ë§ í•˜ì˜€ê³ , generateStaticParams í•¨ìˆ˜ë¥¼ í†µí•´ í˜ì´ì§€ë„¤ì´ì…˜ì„ ìœ„í•œ paramsë“¤ì„ ìƒì„±í•˜ì˜€ë‹¤.

### SEO
---

seoë¥¼ ìœ„í•´ meta íƒœê·¸ì™€ sitemap, robotsë¥¼ ìƒì„±í–ˆë‹¤.

next 13 ì—ì„œëŠ” ê°„ë‹¨í•˜ê²Œ ìœ„ ì„¸ê°€ì§€ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆì—ˆë‹¤.

ë¨¼ì € sitemap.tsë¥¼ app í´ë”ì— ë§Œë“¤ê³ 

```ts
import { getAllPost } from '@/utils/getPost';
import { MetadataRoute } from 'next';

const defaultUrl = process.env.NEXT_PUBLIC_BASE_URL;
const pageRoutes = [`${defaultUrl}`, `${defaultUrl}/blog`, `${defaultUrl}/about`];

export default function sitemap(): MetadataRoute.Sitemap {
  const posts = getAllPost(undefined, {
    page: '1',
    limit: '-1'
  });

  const defaultRoutes: MetadataRoute.Sitemap = pageRoutes.map((route) => {
    return {
      url: route,
      lastModified: new Date().toISOString(),
      changeFrequency: 'weekly',
      priority: 1
    };
  });

  const postRoutes: MetadataRoute.Sitemap = posts.posts.map((post) => {
    return {
      url: `${defaultUrl}/blog/${post.data.category}/${post.slug}`,
      lastModified: new Date(post.data.date).toISOString(),
      changeFrequency: 'weekly',
      priority: 1
    };
  });

  return [...defaultRoutes, ...postRoutes];
}
```
ì²˜ëŸ¼ í•¨ìˆ˜ë¥¼ ë§Œë“¤ë©´ sitemapì´ ìƒì„±ëœë‹¤.

robotsë„ ë§ˆì°¬ê°€ì§€ë¡œ app í´ë”ì— robots.tsë¥¼ ë§Œë“¤ê³ 

```ts
import { MetadataRoute } from 'next';

export default function robots(): MetadataRoute.Robots {
  return {
    rules: {
      userAgent: '*',
      allow: '/'
    },
    sitemap: 'https://wonbeenna.github.io/sitemap.xml'
  };
}
```

ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ëœë‹¤.

metadataëŠ” ê° í˜ì´ì§€ì—ì„œ generateMetadata í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±í•˜ë©´ ëœë‹¤.

```ts
export const generateMetadata = async ({ params }: { params: { page: string } }) => {
  return {
    title: `Been blog - ${params.page}`,
    openGraph: {
      ...defaultOpenGraph,
      title: `Been blog - ${params.page}`,
      description: `Been dev-note - ${params.page}`,
      url: `${process.env.NEXT_PUBLIC_BASE_URL}/page/${params.page}`
    }
  };
};
```

### ëŒ“ê¸€
---

ëŒ“ê¸€ì€ giscusë¥¼ ì‚¬ìš©í–ˆë‹¤.

giscusëŠ” github Discussionsìœ¼ë¡œ ëŒ“ê¸€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.

```shell
npm i @giscus/react
```

[giscus](https://giscus.app/ko)

ìœ„ ë¬¸ì„œì— ì‰½ê²Œ ì„¤ëª…ë˜ì–´ ìˆìœ¼ë‹ˆ ìƒëµ!





27:T6ae,
JSON ì›¹ í† í°(JWT)

ì¼ë°˜ì ìœ¼ë¡œ **í—¤ë”.í˜ì´ë¡œë“œ.ì„œëª…** ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.

1.í—¤ë” - ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì•”í˜¸í™” í• ê²ƒì¸ì§€

2.ë°ì´í„° - ì „ë‹¬í•˜ë ¤ëŠ” ì •ë³´, ì‚¬ìš©ìì˜ id, name ë“±

3\. ì„œëª… - ì„œë²„ê°€ ì§€ì •í•œ secret keyë¡œ ì•”í˜¸í™” ì‹œì¼œ í† í°ì„ ë³€ì¡°í•˜ê¸° ì–´ë µê²Œ ë§Œë“¬

ì´ ì„¸ ë¶€ë¶„ì„ Base64urlë¡œ ì¸ì½”ë”©í•´Â 

```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2dnZWRJbkFzIjoiYWRtaW4iLCJpYXQiOjE0MjI3Nzk2Mzh9.gzSraSYS8EXBxLN_oWnFSRgCzcmJmMjLiuyu5CSpyHI
```

ìœ„ì™€ ê°™ì€ í˜•íƒœë¡œ íŒŒì‹±í•´ ì‚¬ìš©í•œë‹¤.

jwt ë°ì´í„° ë¶€ë¶„ì—ì„œ ì •ë³´ë¥¼ ê°€ì ¸ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, decoding í•´ì£¼ì–´ì•¼ í•œë‹¤.

```javascript
export const decodeJwtResponse = (token: string) => {
  let base64Url = token.split('.')[1]
  let base64 = base64Url?.replace(/-/g, '+')?.replace(/_/g, '/')
  let jsonPayload = decodeURIComponent(
    atob(base64)
      .split('')
      .map(function (c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)
      })
      .join('')
  )

  return JSON.parse(jsonPayload)
  let base64Payload = token.split('.')[1]

  let payload = Buffer.from(base64Payload, 'base64')
  return JSON.parse(payload.toString())
}
```

atob í•¨ìˆ˜ëŠ” nodeì—ì„œ ë”ì´ìƒ ì§€ì›í•˜ì§€ ì•Šì•„ ì•„ë˜ë¡œ ìˆ˜ì •

```javascript
export const decodeJwtResponse = (token: string) => {
  let base64Payload = token.split('.')[1]

  let payload = Buffer.from(base64Payload, 'base64')

  return JSON.parse(payload.toString())
}
```

tokenì„ splití•´ 1ë²ˆì§¸ ë°ì´í„°ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ê°€ì ¸ì˜¨ ë‹¤ìŒ

nodeì—ì„œ ì§€ì›í•˜ëŠ” Buffer ê°ì²´ë¥¼ ì‚¬ìš©í•´ ë°”ì´ë„ˆë¦¬ë¡œ ë³€í™˜

base64ë¡œ ì¸ì½”ë”©í•œ í›„ JSONìœ¼ë¡œ íŒŒì‹±í•œë‹¤
28:Tfb3,
ì–¼ë§ˆì „ ê¸°ì—…ê³¼ì œë¥¼ ì§„í–‰í–ˆë‹¤. Audio ê°ì²´ë¥¼ ì´ìš©í•œ ìŒì•… ì¬ìƒì´ì—ˆë‹¤.

https://developer.mozilla.org/ko/docs/Web/API/Web_Audio_API/Using_Web_Audio_API

## Audio ê°ì²´
ì›¹ì—ì„œ ìŒì•…ì„ ì¬ìƒí•˜ê¸° ìœ„í•´ì„œëŠ” new Audio ê°ì²´ë¥¼ ìƒì„±í•˜ê±°ë‚˜, `<audio>` íƒœê·¸ë¥¼ ì‚¬ìš©í•´ Audio ê°ì²´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìˆë‹¤.

Audio ê°ì²´ëŠ” ìŒì•…ì„ ì¬ìƒí•˜ê³ , ì¼ì‹œì •ì§€í•˜ê³ , ìŒì•…ì˜ ê¸¸ì´ë¥¼ êµ¬í•˜ëŠ” ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

Audio ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±í•œë‹¤.

```jsx
let audio = new Audio(url);
```

```jsx
<audio src={url} />;
```

ê³¼ì œë¥¼ ì œì¶œí•˜ê³  ì•Œê²Œ ë˜ì—ˆëŠ”ë°, new Audio ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ í™”ë©´ ë°–ì—ì„œë„ audioë¥¼ ë‹¤ë£° ìˆ˜ ìˆê¸°ë•Œë¬¸ì— `audio`íƒœê·¸ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì—ˆë‹¤.

ë‘˜ì¤‘ í•˜ë‚˜ë§Œ ì‚¬ìš©í•´ Audioë¥¼ ë‹¤ë£° ìˆ˜ ìˆëŠ” ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ë©´ ëœë‹¤.

```javascript
let audio = document.querySelector('audio');
audio.play();
audio.pause();
```

ê³¼ì œì—ì„œëŠ” new Audioë¥¼ ì‚¬ìš©í•´ êµ¬í˜„ í•˜ì˜€ë‹¤.
```jsx
  useEffect(() => {
    setAudio(new Audio(url));
}, [url, setAudio]);
```
ë¨¼ì € serverì—ì„œ ë°›ì•„ì˜¨ Urlì„ stateì— ë‹´ì•„ ì£¼ì—ˆê³ 

```jsx
  useEffect(() => {
    if (audio && isPlaying) {
        audio?.play();
    }
}, [audio, isPlaying]);
```

ë¦¬ìŠ¤íŠ¸ì—ì„œ ìŒì•…ì„ ì„ íƒí•˜ë©´ `isPlaying`ì´ trueê°€ ë˜ê³ , `audio`ê°€ ìƒì„±ë˜ë©´ `audio.play()`ë¥¼ ì‹¤í–‰í•œë‹¤.

ì¬ìƒê³¼ ì¼ì‹œì •ì§€ë„ ì¶”ê°€ê°€ ë˜ì–´ì•¼ í–ˆë‹¤.

```jsx
const handlePlayButton = () => {
    if (audio?.paused) {
        return audio.play();
    }
    return audio?.pause();
}
```
ìŒì•…ì´ ì •ì§€ì¤‘ì¼ë• play, ìŒì•…ì´ ì¬ìƒì¤‘ì¼ë• pauseë¥¼ ì‹¤í–‰í•œë‹¤.

---

ìŒì•…ì´ ì¬ìƒì¤‘ì¼ë•Œ progress barë„ êµ¬í˜„ì´ í•„ìš”í–ˆë‹¤.

```jsx
const [rangeValue, setRange] = useState<number>(0);
const [currentTime, setCurrentTime] = useState<string>('00:00');
const [duration, setDuration] = useState<string>('00:00');

<progress
    className="progress"
    value={Math.floor(rangeValue)}
    max="100"
    aria-valuemin={0}
    aria-valuemax={100}
    aria-valuenow={Math.floor(rangeValue)}
    onClick={handleChangeProgressRange}
/>
```

`rangeValue`ëŠ” progress barì˜ valueê°’ì„ ë‚˜íƒ€ë‚´ê³ , `currentTime`ëŠ” í˜„ì¬ ì¬ìƒì¤‘ì¸ ì‹œê°„ì„ ë‚˜íƒ€ë‚¸ë‹¤.

`duration`ëŠ” ìŒì•…ì˜ ì „ì²´ ê¸¸ì´ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

ì¬ìƒì‹œê°„ê³¼ ìŒì•…ì˜ ì „ì²´ ê¸¸ì´ê°€ `00:00`ìœ¼ë¡œ í‘œì‹œë˜ì—ˆì–´ì•¼í–ˆê¸° ë•Œë¬¸ì— formatí•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆê³ , eventListenerë¥¼ í†µí•´ ì¬ìƒì‹œê°„ê³¼ ìŒì•…ì˜ ì „ì²´ ê¸¸ì´ë¥¼ êµ¬í–ˆë‹¤.

```js
export const getMusicTimeFormat = (time = 0) => {
  let minutes = Math.floor((time % 3600) / 60)
    .toString()
    .padStart(2, '0');
  let seconds = Math.floor(time % 60)
    .toString()
    .padStart(2, '0');

  return minutes + ':' + seconds;
};
```
```jsx
  useEffect(() => {
    audio?.addEventListener('timeupdate', () => {
        setDuration(getMusicTimeFormat(audio.duration || 0));
        setCurrentTime(getMusicTimeFormat(audio.currentTime));
        setRange((audio?.currentTime / audio?.duration || 0) * 100);
    });
}, [audio]);
````

`timeupdate`ì´ë²¤íŠ¸ëŠ” ìŒì•…ì´ ì¬ìƒì¤‘ì¼ë•Œë§ˆë‹¤ ë°œìƒí•œë‹¤.

```js
  const handleChangeProgressRange = (e: React.MouseEvent<HTMLProgressElement>) => {
    if (audio) {
        let clickPosition = e.pageX - e.currentTarget.offsetLeft;
        let clickedValue = (clickPosition * e.currentTarget.max) / e.currentTarget.offsetWidth;
        audio.currentTime = (parseInt(String(clickedValue), 10) / 100) * audio.duration;
        setRange(parseInt(String(clickedValue), 10));
    }
};
```
progressbarë¥¼ í´ë¦­í–ˆì„ ë•ŒëŠ” í•´ë‹¹ ìœ„ì¹˜ë¶€í„° audioë¥¼ ì¬ìƒí•´ì•¼í–ˆë‹¤.
`clickPosition`ì€ progressbarë¥¼ í´ë¦­í•œ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ê³ , `clickedValue`ëŠ” progressbarì˜ valueê°’ì„ ë‚˜íƒ€ë‚¸ë‹¤.

- e.pageX = ë¸Œë¼ìš°ì € ìƒì˜ ë§ˆìš°ìŠ¤ í´ë¦­ ìœ„ì¹˜
- e.currentTarget.offsetLeft = progressbarì˜ xì¶•(ì™¼ìª½) ìœ„ì¹˜
- e.currentTarget.max = progressbarì˜ ìµœëŒ€ê°’
- e.currentTarget.offsetWidth = progressbarì˜ ì „ì²´ ë„ˆë¹„


29:Te25,
### ë””ë°”ìš´ì‹±ê³¼ ì“°ë¡œí‹€ë§


- ë””ë°”ìš´ì‹±: ì—°ì†ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë“¤ ì¤‘ ê°€ì¥ ë§ˆì§€ë§‰ í•¨ìˆ˜(ë˜ëŠ” ì œì¼ ì²˜ìŒ)ë§Œ í˜¸ì¶œí•˜ë„ë¡ í•˜ëŠ” ê²ƒ
- ì“°ë¡œí‹€ë§: í•¨ìˆ˜ê°€ ì—°ì†ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²½ìš° í˜„ì¬ ì‹¤í–‰ë˜ê³  ìˆëŠ” í•¨ìˆ˜ê°€ ì—†ëŠ” ê²½ìš°ì—ë§Œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•¨

ì˜ˆë¥¼ë“¤ì–´ ê²€ìƒ‰ì„ ìš”êµ¬í•˜ëŠ” APIì— "test"ë¥¼ ê²€ìƒ‰í•œë‹¤ê³  ê°€ì •í•œ ê²½ìš°, ì¼ë°˜ì ì¸ ê²½ìš°ì—ëŠ” t, e, s, t ê° ê¸€ìë¥¼ ì…ë ¥í•  ë•Œ ë§ˆë‹¤ APIê°€ í˜¸ì¶œì´ ëœë‹¤.

ì´ëŸ° ê²½ìš° ë¶ˆí•„ìš”í•œ ìš”ì²­ì´ ì„œë²„ì— ë¶€ë‹´ì„ ì¤„ ìˆ˜ê°€ ìˆë‹¤.

ì´ ë•Œ ë””ë°”ìš´ì‹±ì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ë©´, ê°€ì¥ ë§ˆì§€ë§‰ì¸ ê¸€ìê°€ ì…ë ¥ë˜ê³ , í•˜ë‚˜ì˜ ë‹¨ì–´ê°€ ì™„ì„±ë˜ì—ˆì„ë•Œ APIì— ìš”ì²­ì„ í•  ìˆ˜ ìˆë‹¤.

ì“°ë¡œí‹€ë§ì¸ ê²½ìš°ì—ëŠ” të¥¼ ì…ë ¥í–ˆì„ ë•Œ APIìš”ì²­ì´ ë°œìƒí•˜ê³ , ì´í›„ ì¼ì • ì‹œê°„ë™ì•ˆì€ ì•„ë¬´ ì‘ë‹µë„ ë°›ì§€ ì•ŠëŠ”ë‹¤.
ì •í•´ì§„ ì‹œê°„ì´ ëª¨ë‘ ì§€ë‚˜ê³ ë‚œ ë’¤ì— ë§ˆì§€ë§‰ìœ¼ë¡œ ì…ë ¥ëœ ê¸€ìê¹Œì§€ ìš”ì²­ì´ ê°€ê²Œ ëœë‹¤.
ì¦‰ ì‹¤í–‰ íšŸìˆ˜ì— ì œí•œì„ ê±°ëŠ” ê²ƒì´ë‹¤.

### ë””ë°”ìš´ì‹±
```tsx
import { useEffect, useState } from 'react'

function useDebounce<T>(value: T, delay?: number): T {
  const [debouncedValue, setDebouncedValue] = useState<T>(value)

  useEffect(() => {
    const timer = setTimeout(() => setDebouncedValue(value), delay || 500)

    return () => {
      clearTimeout(timer)
    }
  }, [value, delay])

  return debouncedValue
}

export default useDebounce
```
```js
import { ChangeEvent, useEffect, useState } from 'react'
import { useDebounce } from 'usehooks-ts'

export default function Component() {
  const [value, setValue] = useState<string>('')
  const debouncedValue = useDebounce<string>(value, 500)

  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {
    setValue(event.target.value)
  }

  // Fetch API (optional)
  useEffect(() => {
    // Do fetch here...
    // Triggers when "debouncedValue" changes
  }, [debouncedValue])

  return (
    <div>
      <p>Value real-time: {value}</p>
      <p>Debounced value: {debouncedValue}</p>

      <input type="text" value={value} onChange={handleChange} />
    </div>
  )
}
```
ì¶œì²˜: [react-hook](https://usehooks-ts.com/react-hook/use-debounce)

input feildì— ê°’ì´ ë“¤ì–´ê°ˆ ë•Œë§ˆë‹¤ onChange ì´ë²¤íŠ¸ê°€ íŠ¸ë¦¬ê±°ë˜ê³ , hookìœ¼ë¡œ ì „ë‹¬ë°›ì€ valueê°€ clearTimeoutìœ¼ë¡œ ì´ˆê¸°í™”ëœ useEffectë‚´ë¶€ setTimeoutì˜ delayë§Œí¼ ì‹œê°„ì´ ì§€ë‚œ í›„ debouncedValueë¡œ return ëœë‹¤.

### ì“°ë¡œí‹€ë§
```js
import { useEffect, useRef, useState } from 'react';

const useThrottle = (value, limit) => {
    const [throttledValue, setThrottledValue] = useState(value);
    const lastRan = useRef(Date.now());

    useEffect(() => {
        const handler = setTimeout(() => {
            if (Date.now() - lastRan.current >= limit) {
                setThrottledValue(value);
                lastRan.current = Date.now();
            }
        }, limit - (Date.now() - lastRan.current));

        return () => {
            clearTimeout(handler);
        };
    }, [value, limit]);

    return throttledValue;
};

export default useThrottle;
```
```js
const [value, setValue] = useState('');
{...}
const throttleText = useThrottle(value, 1000);
```
hookì´ ì‹¤í–‰ë˜ë©´ lastRanê³¼ í˜„ì¬ì‹œê°„ì„ ë¹„êµí•œë‹¤.

ë§Œì•½ (Date.now() - lastRan.current) ì¦‰, valueê°€ ì…ë ¥ëœ ì‹œê°„ì´ limitë³´ë‹¤ í¬ë‹¤ë©´ valueë¥¼ throttledValueë¡œ returní•˜ê³ , lastRanì„ í˜„ì¬ì‹œê°„ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤.

ë§Œì•½ valueê°€ ì…ë ¥ëœ ì‹œê°„ì´ limitë³´ë‹¤ ì‘ë‹¤ë©´ limit - valueê°€ ì…ë ¥ëœ ì‹œê°„ì´ ì‹œê°„ì´ ì§€ë‚œ í›„ì— throttledValueë¡œ returní•œë‹¤.




2a:Tc4f,
## GraphQL ì‚¬ìš©

Apollo clientë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

Apollo ClientëŠ” GraphQLì„ ì‚¬ìš©í•´ ë¡œì»¬ ë° ì›ê²© ë°ì´í„°ë¥¼ ëª¨ë‘ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬)

---

### Reactì— Apollo Client ì—°ê²°
```shell
npm install @apollo/client graphql
```

index.ts ë˜ëŠ” App.ts ì—ì„œ ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤.
```ts
const client = new ApolloClient({
  uri: "https://~/graphql",
  cache: new InMemoryCache(),
});
```

ë‹¤ìŒê³¼ ê°™ì´ ApolloClientë¥¼ ì´ˆê¸°í™” í•˜ê³  `uri`ì™€ `cache` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

uriì— ì„œë²„ì£¼ì†Œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. endpointë¥¼ ë”°ë¡œ ì§€ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´ `/graphql`ì´ ë©ë‹ˆë‹¤.

ì‚¬ë‚´ì—ì„œëŠ” `proxy`ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— `endpoint`ë¥¼
```ts
const client = new ApolloClient({
  uri: '/api/graphql',
  cache: new InMemoryCache()
})
```
ë¡œ ì‘ì„±í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

```ts
function App() {
  return (
{...}
        <ApolloProvider client={client}>
            <DefaultRoutes />
        </ApolloProvider>
{...}
  )
}
```
react appì— ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” `ContextApi`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ `ApolloProvider`ë¡œ ì•±ì„ ê°ì‹¸ë©´ ë©ë‹ˆë‹¤.

---

### ë°±ì—”ë“œ ë°ì´í„° ì½ê¸°
ì´ì œ `client`ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

<img src="/assets/blog/javaScript/graphql-2.png" width="49%" alt="post image"/>
<img src="/assets/blog/javaScript/graphql-1.png" width="49%" alt="post image"/>

`playground`ì—ì„œ ì •ì˜ëœ `schema`ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì•„ í”„ë¡œì íŠ¸ `root`ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.

```ts
// const client = ...

client
  .query({
    query: gql`
      query {
        getAdminOrderProducts {
          data {
            id
            status
          }
        }
      }
    `
  })
  .then((response) => console.log(response))
  .catch((error) => console.log(error))
```

ê°„ë‹¨í•˜ê²Œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì…ë‹ˆë‹¤. playgroundì— ì •ì˜ëœ queryë¥¼ ìš”ì²­í•˜ë©´
íƒ€ì…ê³¼ í•¨ê»˜ ìš”ì²­í•œ ì¿¼ë¦¬ë“¤ì´ responseì— ë‹´ê¹ë‹ˆë‹¤.

<img src="/assets/blog/javaScript/graphql-3.png" width="49%" alt="post image"/>
<img src="/assets/blog/javaScript/graphql-4.png" width="49%" alt="post image"/>

í•„ë“œë³„ë¡œ ë¶„ë¦¬í•˜ì—¬ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```ts
import {gql, useQuery} from '@apollo/client'

const ORDER_QUERY = gql`
  query {
    getAdminOrderProducts {
      data {
        id
        status
      }
    }
  }
`

  const {loading, error, data} = useQuery(ORDER_QUERY)
```

`variables`ë¡œ `arguments`ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`useQuery`ì— ì˜µì…˜ `variables`ì€ GraphQL ì¿¼ë¦¬ì— ì „ë‹¬í•˜ë ¤ëŠ” ëª¨ë“  ë§¤ê°œë³€ìˆ˜ë¥¼ í¬í•¨í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤.

ì•„ë˜ì™€ ê°™ì´ ë§¤ê°œë³€ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```ts
const ORDER_QUERY = gql`
  query getAdminOrderProducts($start: Int!, $perPage: Int!) {
    getAdminOrderProducts(start: $start, perPage: $perPage) {
      data {
        id
        status
        product {
          id
        }
        createdAt
      }
      total
    }
  }
`

  const {data, loading} = useQuery(ORDER_QUERY, {
    variables: {
      start: 0,
      perPage: 20
    }
  })
```

ì§€ê¸ˆê¹Œì§€ëŠ” ë°±ì—”ë“œì˜ ë°ì´í„°ë¥¼ ì½ëŠ” ë°©ë²•ì´ì—ˆìŠµë‹ˆë‹¤.







2b:Tc85,
ëŒ€ê¸°ì—´ â†’ ìºì‹± â†’ DNS â†’ ë¼ìš°íŒ… â†’ ARP â†’ ì´ˆê¸°ì—°ê²° â†’ ì»¨í…ì¸  ë‹¤ìš´ë¡œë“œ â†’ ë¸Œë¼ìš°ì € ë Œë”ë§

ì´ëŸ° ê³¼ì •ì„ ë¹„ìº¡ìŠí™”, ìº¡ìŠí™” ê³¼ì •ì„ ê±°ì¹¨

### ëŒ€ê¸°ì—´

### ìºì‹±

- ê³µìœ í”„ë¡ì‹œìºì‹œ
- ë¸Œë¼ìš°ì € ìºì‹œ

ìš”ì²­ëœ ê°’ì˜ ê²°ê³¼ê°’ì„ ì €ì¥í•˜ê³  ë‹¤ì‹œ ìš”ì²­í•˜ëŠ” ê¸°ìˆ 

ë¸Œë¼ìš°ì €ëŠ” IPì£¼ì†Œë¥¼ ì°¾ê¸° ìœ„í•´ ìºì‹œëœ DNS ê¸°ë¡ì„ í™•ì¸

### DNS ì¡°íšŒ

- ë¸Œë¼ìš°ì €ê°€ IP ì£¼ì†Œë¥¼ í™•ì¸í•˜ëŠ” ë‹¨ê³„
- ë„ë©”ì¸ ì´ë¦„ê³¼ IPì£¼ì†Œë¥¼ ë§¤í•‘í•´ì£¼ëŠ” ì„œë²„
- `www.naver.com` â† ë°˜ëŒ€ë¡œ í™•ì¸
- root (.) â†’ .com â†’ naver.com â†’ `www.naver.com`

### ë¼ìš°íŒ…

- IPì£¼ì†Œë¥¼ ì°¾ì•„ê°€ëŠ” ê³¼ì •
- í™‰ ë°”ì´ í™‰ í†µì‹ 

### ARP (**IP ì£¼ì†Œë¥¼ ë¬¼ë¦¬ì  ë„¤íŠ¸ì›Œí¬ ì£¼ì†Œë¡œ ëŒ€ì‘(bind)ì‹œí‚¤ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” í”„ë¡œí† ì½œ)**

- ARPë¥¼ í†µí•´ MACì£¼ì†Œë¥¼ ì°¾ì•„ MACì£¼ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í†µì‹ 
- ë…¼ë¦¬ì  ì£¼ì†Œ â†’ ë¬¼ë¦¬ì  ì£¼ì†Œ
- ì¥ì¹˜ â†”Â ì¥ì¹˜ (IPì£¼ì†Œë¥¼ â†’ MACì£¼ì†Œ)
- ì‹¤ì œ ì„œë²„ì— ë„ë‹¬

### ì´ˆê¸° ì—°ê²°

### ì½˜í…ì¸  ë‹¤ìš´ë¡œë“œ

- ë¸Œë¼ìš°ì €ëŠ” ì„œë²„ë¡œë¶€í„° ì‘ë‹µì„ ìˆ˜ì‹ 

### ë¸Œë¼ìš°ì € ë Œë”ë§

- DOM íŠ¸ë¦¬ êµ¬ì¶•
- HTML, CSSê°€ ê°ê° íŒŒì„œë¡œ í•´ì„ë˜ë‹¤ê°€ DOMíŠ¸ë¦¬ë¥¼ êµ¬ì¶•í•œë‹¤.
- html, body, div ë“± treeí˜•íƒœë¡œ
- ë Œë”íŠ¸ë¦¬ì™€ ë Œë”ë ˆì´ì–´ ìƒì„±
- CSSOM íŠ¸ë¦¬ê°€ ìƒì„±ë˜ê³  ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ì€ DOMíŠ¸ë¦¬ ë‚´ì— ìˆëŠ” ë…¸ë“œì™€ í•¨ê»˜ ìŠ¤íƒ€ì¼ì´ ìƒì„±
- ë Œë”ë ˆì´ì–´ ëŒ€ìƒìœ¼ë¡œ Layout ì„¤ì •
- ë Œë”ë ˆì´ì–´ ëŒ€ìƒìœ¼ë¡œ ì¹ í•˜ê¸° (paint ê³¼ì •)
- ë ˆì´ì–´ í•©ì¹˜ê¸°
- ê°ê°ì˜ ë ˆì´ì–´ë“¤ì´ í•©ì³ì§

ì¼ë°˜ì ì¸ ëª¨ë‹ˆí„°ëŠ” ì´ˆë‹¹ 60FPS, ë¸Œë¼ìš°ì €ë„ ì´ˆë‹¹ 60FPSë¡œ í™”ë©´ì„ ê·¸ë¦¬ê²Œ ëœë‹¤.

ì—¬ê¸°ì„œ ë¸Œë¼ìš°ì €ê°€ 60FPS ì•„ë˜ë¡œ ê·¸ë¦¬ê²Œ ëœë‹¤ë©´ ìŸí¬ í˜„ìƒì´ ë°œìƒí•¨.

<img src="/assets/blog/javaScript/web-optimization6.png" width="100%" alt="web-optimization"/>

1. DOM + CSSOM

<img src="/assets/blog/javaScript/web-optimization7.png" width="100%" alt="web-optimization"/>

1. Render Tree

<img src="/assets/blog/javaScript/web-optimization8.png" width="100%" alt="web-optimization"/>

ìœ„ DOMê³¼ CSSOMì„ ì¡°í•©í•´ RenderTreeë¥¼ ë§Œë“¤ì–´ ë‚¸ë‹¤.

1. Layout

<img src="/assets/blog/javaScript/web-optimization9.png" width="100%" alt="web-optimization"/>

ìœ„ì¹˜ë‚˜ í¬ê¸°ë¥¼ ê³„ì‚°í•´ í™”ë©´ì— ë ˆì´ì•„ì›ƒì„ ê·¸ë¦°ë‹¤.

1. Paint

ì´ë ‡ê²Œ ê·¸ë ¤ì§„ ë ˆì´ì•„ì›ƒìœ„ì— ìƒ‰ì„ ì±„ì›Œë„£ìŒ

1. Composite

<img src="/assets/blog/javaScript/web-optimization10.png" width="100%" height="350" alt="web-optimization"/>

ê° ë ˆì´ì–´ë“¤ì„ í•©ì„±í•˜ëŠ” ê³¼ì •

ì´ ì „ì²´ì˜ ê³¼ì •ì„ Critical Rendering Path, Pixel Pipeline ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

ì´ ì™„ì„±ëœ ìƒíƒœì—ì„œ ë³€í™”ê°€ ìƒê¸´ë‹¤ë©´ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ ë‹¤ì‹œ ì´ ì „ì²´ì˜ ê³¼ì •ì„ ê±°ì¹˜ê²Œ ëœë‹¤.

- width, heightê°€ ë³€ê²½ë˜ë©´,Â **1 -> 2 -> 3 -> 4 -> 5**Â ëª¨ë‘ ì‹¤í–‰ë˜ê²Œ ëœë‹¤Â **(Reflow)**
- í¬ê¸°ë‚˜ ìœ„ì¹˜ê°€ ì•„ë‹ˆë¼ color, background-color(ìƒ‰ê¹”)ì´ ë³€ê²½ëì„ë•Â **1 -> 2 -> 4 -> 5**Â **(Repaint)**
- transform, opacity ë“±(GPUê°€ ê´€ì—¬í•˜ëŠ” ì†ì„±) ë³€ê²½ì¼ ë•ŒÂ **1 -> 2 -> 5**

ë”°ë¼ì„œ transform, opacity ë“±(GPUê°€ ê´€ì—¬í•˜ëŠ” ì†ì„±)ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ê°€ì¥ ë¹ ë¥´ê³  ëŠê¹€ì—†ì´ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.
2c:T1a75,
ì¸ì¦ë°©ì‹ì—ëŠ” ëŒ€í‘œì ìœ¼ë¡œ ë‘ê°€ì§€ê°€ ìˆë‹¤.

ì œì¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì„¸ì…˜ ë°©ì‹ê³¼ í† í° ë°©ì‹

- ì¸ì¦ -> ìœ ì €ê°€ ëˆ„êµ¬ì¸ì§€ í™•ì¸
- ì¸ê°€ -> ìœ ì €ì˜ ìš”ì²­ì— ëŒ€í•œ ê¶Œí•œì„ í™•ì¸í•˜ê³  í—ˆê°€

---

### ì„¸ì…˜ë°©ì‹
- ë¡œê·¸ì¸ ìš”ì²­ -> ì„œë²„ì—ì„œ ì„¸ì…˜ key-valueë¡œ êµ¬ë¶„í•´ ì •ë³´ë¥¼ ì €ì¥
- ì„œë²„ -> í´ë¼ì´ì–¸íŠ¸ ì¸¡ìœ¼ë¡œ http header cookieì— ì„¸ì…˜ idë¥¼ ë‹´ì•„ ì „ë‹¬
- í´ë¼ì´ì–¸íŠ¸ ìª½ì—ì„œ responseê°’ìœ¼ë¡œ cookieì— ì €ì¥ëœ ì„¸ì…˜ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°, ë¸Œë¼ìš°ì €ì— ì €ì¥

ì„¸ì…˜ ë°©ì‹ì€ HTTPìš”ì²­ì´ ë…¸ì¶œë˜ì–´ë„ ì„¸ì…˜ ìì²´ì—ëŠ” ì˜ë¯¸ìˆëŠ” ê°’ì´ ì—†ê¸° ë•Œë¬¸ì— ë³´ì•ˆìƒ ìœ ë¦¬í•  ìˆ˜ ìˆë‹¤.

ê° ì‚¬ìš©ìë§ˆë‹¤ ê³ ìœ í•œ idë¥¼ ê°–ê³  ìˆê¸° ë•Œë¬¸ì— ë§¤ë²ˆ íšŒì›ì •ë³´ë¥¼ í™•ì¸í•  í•„ìš”ê°€ ì—†ë‹¤.

ì„œë²„ì— ë”°ë¡œ ì„¸ì…˜ ì €ì¥ì†Œë¥¼ ë‘ê¸° ë•Œë¬¸ì— ì‚¬ìš©ìê°€ ë§ì•„ì§€ë©´ ì„œë²„ì— ë¶€ë‹´ì´ ê°„ë‹¤.

ê° ë¸Œë¼ìš°ì €ë“¤ì€ ë³´ì•ˆìƒì˜ ì´ìŠˆë¡œ ì„œë²„ì™€ í”„ë¡ íŠ¸ê°„ì˜ ë„ë©”ì¸ì´ ê°™ì•„ì•¼ ì¿ í‚¤ê°€ ì „ë‹¬ëœë‹¤.

- í”„ë¡ íŠ¸ ì¸¡ì—ì„œëŠ” Axios ì‚¬ìš©ì‹œ ```withCredentials: true```ì„¤ì •ì„ í†µí•´ ì„œë¡œ ë‹¤ë¥¸ ë„ë©”ì¸ê°„ì˜ ìš”ì²­ì—ë„ credential ì •ë³´ë¥¼ ë°›ì„ ê²ƒì¸ì§€ ì„¤ì •í•´ì•¼ í•œë‹¤.

- ì„œë²„ ì¸¡ì—ì„œëŠ” ì‘ë‹µ í—¤ë”ì˜ Access-Control-Allow-Credentials í•­ëª©ì„ trueë¡œ ì„¤ì •í•´ì•¼ í•˜ê³ ,
ì‘ë‹µ í—¤ë”ì˜ Access-Control-Allow-Originì˜ ê°’ì„ ì™€ì¼ë“œ ì¹´ë“œ('*') ì œì™¸í•˜ê³  ì„¤ì • ë˜ì–´ì•¼ í•œë‹¤.

---

ìš°ì„  localhostì™€ ì„œë²„ìƒì˜ ë„ë©”ì¸ì´ ë‹¬ë¼ proxy ì„¤ì •ì„ í•´ì¤¬ë‹¤.

```ts
// pages/api/[...path].ts
import type { NextApiRequest, NextApiResponse } from "next";
import httpProxyMiddleware from "next-http-proxy-middleware";

export const config = {
  api: {
    externalResolver: true
  },
}

export default (req: NextApiRequest, res: NextApiResponse) => {
    httpProxyMiddleware(req, res, {
        target: process.env.NEXT_PUBLIC_API_URL,
        changeOrigin: true,
        pathRewrite: [
          {
            patternStr: "^/api/",
            replaceStr: "/",
          },
        ],
        cookieDomainRewrite: {
          "*": "localhost",
        },
      })
    };
```

```ts
/** @type {import('next').NextConfig} */
const nextConfig = {
  swcMinify: true,
  reactStrictMode: true,
  compiler: {
    styledComponents: true,
    removeConsole: process.env.NODE_ENV === "production",
  },
  async rewrites() {
    return process.env.NODE_ENV === "production"
      ? [
          {
            source: "/api/:path*",
            destination: `${process.env.NEXT_PUBLIC_API_URL}/:path*`,
          },
        ]
      : [];
  },
{...}
};
```
---
ìœ„ ì²˜ëŸ¼ ì„¤ì •í•´ ì£¼ë‹ˆ ì„œë²„ì—ì„œ ë³´ë‚¸ cookieê°€ localhost ë¸Œë¼ìš°ì €ì— ì˜ ë“¤ì–´ì™”ë‹¤.

ì—¬ê¸°ì„œ ê³ ë¯¼í–ˆë˜ ë¶€ë¶„ì´ csrí™˜ê²½ì´ ì•„ë‹Œ nextì˜ ssrí™˜ê²½ì¸ í”„ë¡ íŠ¸ì¸¡ ì„œë²„ë‹¨ì—ì„œëŠ” ìœ ì €ì¸ì¦ì„ ì–´ë–»ê²Œ í™•ì¸í•  ê²ƒì¸ê°€ ì˜€ë‹¤.

ìš°ì„  ë¡œê·¸ì¸ ìƒíƒœì™€ ë¹„ë¡œê·¸ì¸ ìƒíƒœì—ì„œ ì ‘ê·¼ë¶ˆê°€ëŠ¥í•œ í˜ì´ì§€ ì ‘ê·¼ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸ë¥¼ ì‹œí‚¤ëŠ” ë°©ë²•ìœ¼ë¡œ ì§„í–‰í–ˆë‹¤.

Nextjs middlewareëŠ” rootí´ë”ì— middleware.ts íŒŒì¼ì„ ë§Œë“¤ì–´ ì£¼ë©´ í˜ì´ì§€ ë¼ìš°íŒ… ë˜ê¸° ì „ì— middlewareê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

Nextjsì—ì„œ ì§€ì›í•˜ëŠ” middlewareëŠ” ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì— ë”°ë¼ì„œ req, res, headerë¥¼ ë‹¤ì‹œ ì‘ì„±í•˜ê±°ë‚˜ ë¦¬ë””ë ‰ì…˜ ë“±ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì¬ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
```ts
import type { NextRequest } from "next/server";
import { fetchAuth, inValidateAuth, validateAuth } from "@/lib/validateUser";

const validatedUrl = [
  "/users/sign-in",
  "/users/sign-up/normal",
  "/users/sign-up/social",
  "/users/sign-up/vendor",
  "/users/password/reset",
];

const inValidateUrl = ["/users/my-page"];

export async function middleware(req: NextRequest) {
  const url = req.nextUrl;

  if (validatedUrl.includes(url.pathname)) {
    return await validateAuth(req);
  }

  if (inValidateUrl.includes(url.pathname)) {
    return await inValidateAuth(req);
  }

  return await fetchAuth(req);
}

export const config = {
  matcher: ["/((?!api|_next/static|_next/image|favicon.ico|assets).*)"],
};
```
```ts
import { NextRequest, NextResponse } from "next/server";

export const validateUser = (req: NextRequest) => {
  return fetch("url", {
    method: "get",
    mode: "cors",
    credentials: "same-origin",
    headers: {
      "Content-Type": "application/json",
      cookie: `${req.headers.get("cookie")}`,
    },
  });
};

{...}

export const fetchAuth = async (req: NextRequest) => {
    try {
        const res = NextResponse.next();

        const response = await validateUser(req);
        const data = await response.json();

        if (response.ok) {
            res.cookies.set("user", JSON.stringify(data));
            return res;
        }

        if (!response.ok) {
            res.cookies.delete("user");
            res.cookies.delete("user.sid");
            return res;
        }
    } catch (e) {
        throw new Error("Validate Error");
    }
};
```

ì²˜ìŒì— ì´ëŸ°ì‹ìœ¼ë¡œ ë¯¸ë“¤ì›¨ì–´ë¥¼ êµ¬í˜„í–ˆë‹¤. matcherë¡œ í˜ì´ì§€ë‹¨ë§Œ í™•ì¸í–ˆê³ , í˜ì´ì§€ ë¼ìš°íŒ…ì‹œ ìœ ì € ì¸ì¦ì— ì„±ê³µí•˜ë©´ cookieë¥¼ í†µí•´ ìœ ì €ì •ë³´ì™€ ì„¸ì…˜ì„ ì „ë‹¬í–ˆë‹¤.

ë˜ ì¸ì¦ì„±ê³µì‹œ ì ‘ê·¼ x, ë¹„ì¸ì¦ì‹œ ì ‘ê·¼ x í•œ urlì„ í™•ì¸í•´ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œí‚¤ë„ë¡ í–ˆë‹¤.

ì²˜ìŒ í•´ë´¤ë˜ ì‘ì—…ì´ì—ˆê³ , ì œëŒ€ë¡œ êµ¬í˜„í•œì§€ í™•ì‹ ì´ ë“¤ì§€ ì•Šì•„ ì½”ë“œë¦¬ë·°ë¥¼ ìš”ì²­í–ˆë‹¤.

middlewareë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  hocsë¥¼ ì‚¬ìš©í•´ authë¥¼ í˜¸ì¶œí•˜ê³ , axios configì— headersë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì•Œë ¤ì£¼ì…¨ë‹¤.

```ts
import React from "react";
import { GetServerSideProps, GetServerSidePropsContext } from "next";
import { getAuth } from "@/models/auth";
import merge from "lodash/merge";

const validatedUrl = [
  "/users/sign-in",
  "/users/sign-up/normal",
  "/users/sign-up/social",
  "/users/sign-up/vendor",
  "/users/password/reset",
];

const inValidateUrl = [
  "/users/my-page",
  "/users/my-page/profile",
  "/users/my-page/review",
];

export default function withAuth(getServerSideProps?: GetServerSideProps) {
  return async function (context: GetServerSidePropsContext) {
    const url = context.req.url as string;
    let user = null;
    try {
      const res = await getAuth({ headers: context.req.headers });
      user = res.data;
    } catch (e) {}
    if (inValidateUrl.includes(url) && !user) {
      return {
        redirect: {
          permanent: false,
          destination: "/users/sign-in",
        },
      };
    }
    {...}
    const ret = await getServerSideProps?.(context);
    return merge(ret, { props: { user } });
  };
}
```

middlewareëŠ” nextjsì—ì„œ ì„œë²„ë„ ê°™ì´ êµ¬ì„±í•´ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê±°ë¼ê³  ì¡°ì–¸ì„ ì£¼ì…¨ë‹¤.

```ts
// page/*
{...}

export const getServerSideProps = withAuth();

{...}
```
2d:Tdf0,
ì˜ˆì „ì— í•˜ë‹¤ê°€ ì¤‘ë‹¨ëœ í”„ë¡œì íŠ¸ë¥¼ ë‹¤ì‹œ ì‹œì‘í•´ ë³´ë ¤ê³  ìƒˆ ë ˆí¬ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ëŠ” ê³¼ì •ì—ì„œ

íŒ¨í‚¤ì§€ ë²„ì „ë„ ì˜¬ë¦¬ê³ , ë‹¤ë¥¸ ê¸°ìˆ ì„ ì°¾ì•„ë³´ë‹¤ê°€ ì˜ˆì „ë¶€í„° ì¨ë³´ê³ ì‹¶ì—ˆë˜ tailwindcssë¥¼ ì¨ë³´ê¸°ë¡œ í–ˆë‹¤.

```shell
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```
í…Œì¼ìœˆë“œ ì„¤ì¹˜ initì„ í•˜ê²Œ ë˜ë©´ `postcss.config.js` íŒŒì¼ê³¼ `tailwind.config.js` íŒŒì¼ì´ ìƒì„±ëœë‹¤


```js
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    "./app/**/*.{js,ts,jsx,tsx}",
    "./pages/**/*.{js,ts,jsx,tsx}",
    "./components/**/*.{js,ts,jsx,tsx}",

    // Or if using `src` directory:
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
```
ë‚˜ëŠ” src í´ë”ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— `"./src/**/*.{js,ts,jsx,tsx}"` ê²½ë¡œë¡œ ì‚¬ìš©


```css
// globals.css
@tailwind base; // í…Œì¼ìœˆë“œì˜ ê¸°ë³¸ ìŠ¤íƒ€ì¼
@tailwind components; // ëª¨ë“  í´ë˜ìŠ¤ ìš”ì†Œ
@tailwind utilities; // ìœ í‹¸ë¦¬í‹°
```

ì „ì—­ìœ¼ë¡œ ì„¤ì •

---

êµ¬ê¸€ì—ì„œ ì§€ì›í•˜ëŠ” í°íŠ¸ë¥¼ ì‚¬ìš©í•´ tailwindì— ì ìš©

```js
// Layout
const roboto = Roboto({
    subsets: ["latin"],
    weight: ["400", "500", "700"],
    variable: "--font-roboto"
});

const Layout = ({ children }: { children: React.ReactNode }) => {
    return (
        <main className={`max-w-3xl m-auto p-3 text-black-500 ${roboto.className} font-sans`}>
            <Header />
            {children}
        </main>
    );
};

export default Layout;
```

```js
// tailwind.config.js
/** @type {import('tailwindcss').Config} */
module.exports = {
    content: ["./src/**/*.{js,ts,jsx,tsx}"],
    theme: {
        extend: {
            colors: {
                primary: {
                    50: "#f4f6fa",
                    100: "#e8edf5",
                    200: "#c6d1e5",
                    300: "#a4b6d5",
                    400: "#5f7fb6",
                    500: "#1b4897",
                    600: "#184188",
                    700: "#143671",
                    800: "#102b5b",
                    900: "#0d234a"
                },
                secondary: {
                    50: "#fefaf5",
                    100: "#fcf5eb",
                    200: "#f9e6cd",
                    300: "#f5d7af",
                    400: "#edb872",
                    500: "#e59a36",
                    600: "#ce8b31",
                    700: "#ac7429",
                    800: "#895c20",
                    900: "#704b1a"
                },
                black: {
                    50: "#f5f5f5",
                    100: "#eaebeb",
                    200: "#cbcccd",
                    300: "#acaeaf",
                    400: "#6d7174",
                    500: "#2f3438",
                    600: "#2a2f32",
                    700: "#23272a",
                    800: "#1c1f22",
                    900: "#17191b"
                },
                white: "#ffffff"
            },
            fontFamily: {
                sans: ["var(--font-roboto)"]
            }
        }
    }
};

```

í…Œì¼ìœˆë“œ ìì²´ì— ê¸°ë³¸ ìƒ‰ìƒì´ ì§€ì •ëœ ê²ƒë„ ìˆì—ˆê³ ,

ì´ëŸ°ì‹ìœ¼ë¡œ ìƒ‰ìƒë„ ì§€ì •í•˜ë©´ ìë™ìœ¼ë¡œ ì ìš©ë˜ëŠ”ê²ƒ ê°™ë‹¤.

ê¸°ë³¸ìƒ‰ìƒì„ ì™„ì „íˆ ë°”ê¾¸ë ¤ë©´ `theme.colors`ì„œ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤ê³  í•œë‹¤.

---

- ì¡°ê±´ë¶€ëŠ” í…œí”Œë¦¿ ë¦¬í„°ëŸ´ì„ ì‚¬ìš©

- ë°˜ì‘í˜•
```js
<img class="w-16 md:w-32 lg:w-48" src="...">
```

- hoverë‚˜ focus ë“±
```js
<button class="dark:md:hover:bg-fuchsia-600 ...">
  Save changes
</button>
```
2e:T7a1,
ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ëŠ” í˜¸ì¶œë  ë•Œ, ë§¤ê°œë³€ìˆ˜ ì´ì™¸ì— `arguments` ê°ì²´ì™€ `this`ë¥¼ ì•”ë¬µì ìœ¼ë¡œ ì „ë‹¬ ë°›ëŠ”ë‹¤.

- Javaì˜ `this` ëŠ” ì¸ìŠ¤í„´ìŠ¤ ìì‹ ì„ ê°€ë¥´í‚¤ëŠ” ì°¸ì¡°ë³€ìˆ˜
- thisê°€ ê°ì²´ ìì‹ ì— ëŒ€í•œ ì°¸ì¡° ê°’ì„ ê°€ì§€ê³  ìˆë‹¤.

í•˜ì§€ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ `this` ëŠ” í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ `this` ì— ë°”ì¸ë”© ë˜ëŠ” ê°ì²´ê°€ ë‹¬ë¼ì§„ë‹¤

---

### ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ

<img src="/assets/blog/javaScript/this-1.png" width="100%" alt="post image"/>

- this â†’ ì „ì—­ (window) ê°ì²´ì— ë°”ì¸ë”© ë¨
- ê¸°ë³¸ì ìœ¼ë¡œ `this` ëŠ” ì „ì—­ê°ì²´ì— ë°”ì¸ë”© ë˜ê³ , ë‚´ë¶€ í•¨ìˆ˜ì˜ ê²½ìš°ì—ë„ ì „ì—­ê°ì²´ì— ë°”ì¸ë”© ë¨

<img src="/assets/blog/javaScript/this-2.png" width="100%" alt="post image"/>

- **ë‚´ë¶€í•¨ìˆ˜ëŠ” ì¼ë°˜ í•¨ìˆ˜, ë©”ì†Œë“œ, ì½œë°±í•¨ìˆ˜ ì–´ë””ì—ì„œ ì„ ì–¸ë˜ì—ˆë“  ê´€ê²Œì—†ì´ thisëŠ” ì „ì—­ê°ì²´ë¥¼ ë°”ì¸ë”©í•œë‹¤.**

---

### ê°ì²´ ë©”ì†Œë“œ í˜¸ì¶œ

<img src="/assets/blog/javaScript/this-3.png" width="100%" alt="post image"/>

- í•´ë‹¹ ë©”ì†Œë“œì˜ ê°ì²´ì— ë°”ì¸ë”© ë¨

<img src="/assets/blog/javaScript/this-4.png" width="100%" alt="post image"/>

- í”„ë¡œí† íƒ€ì… ê°ì²´ë„ ë©”ì†Œë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

í”„ë¡œí†  íƒ€ì… ë°©ì‹ì´ë€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê°ì²´ë¥¼ ìƒì†í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤ (í…œí”Œë¦¿ ê°™ì€ ê²ƒ)

---

### ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ

- ìƒì„±ì í•¨ìˆ˜ë€ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì—­í• ì„ í•¨
- **ê¸°ì¡´ í•¨ìˆ˜ì— new ì—°ì‚°ìë¥¼ ë¶™ì—¬ì„œ í˜¸ì¶œí•˜ë©´ í•´ë‹¹ í•¨ìˆ˜ëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œ ë™ì‘**

<img src="/assets/blog/javaScript/this-5.png" width="100%" alt="post image"/>

1. ë¹ˆ ê°ì²´ ìƒì„± ë° this ë°”ì¸ë”© â†’ 2. thisë¥¼ í†µí•œ í”„ë¡œí¼í‹° ìƒì„± â†’ 3. ìƒì„±ëœ ê°ì²´ ë°˜í™˜

---

### apply/call/bind í˜¸ì¶œ

- this ê°ì²´ì— ëª…ì‹œì ìœ¼ë¡œ ë°”ì¸ë”© í•˜ëŠ” ë°©ë²•

---

ì¼ë°˜ í•¨ìˆ˜

- ì¼ë°˜ í•¨ìˆ˜ â†’ í™”ì‚´í‘œ í•¨ìˆ˜
- ìƒì„±ì í•¨ìˆ˜ â†’ class
- ê°ì²´ ë©”ì„œë“œ â†’ ê°ì²´ ë©”ì„œë“œ ì¶•ì•½í˜•
2f:T1aed,
```shell
npm create svelte@latest my-app
cd my-app
npm install
npm run dev
```

SSG ì •ì  í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ì–´ëŒ‘í„°
```shell
npm i -D @sveltejs/adapter-static
```
---
svelte.config.js
```js
import adapter from '@sveltejs/adapter-static';

export default {
  kit: {
    adapter: adapter()
  }
};
```
---
src/routes/+layout.js
```js
// This can be false if you're using a fallback (i.e. SPA mode)
export const prerender = true;
```
---

### ë ˆì´ì•„ì›ƒ êµ¬ì„±

```js
<script>
	import Header from '$lib/components/Layout/Header.svelte';
	import Footer from '$lib/components/Layout/Footer.svelte';

	export let data;
</script>

<Header />
    <main>
		<slot />
    </main>
<Footer />
```
slotì— ìŠ¤ë²¨íŠ¸ í˜ì´ì§€ë“¤ì´ ë Œë”ë˜ê²Œ ëœë‹¤.

ìŠ¤ë²¨íŠ¸í‚·ì€ ë„¥ìŠ¤íŠ¸ì™€ ë¹„ìŠ·í•˜ê²Œ routesì—ì„œ ë¼ìš°íŒ…ì´ ëœë‹¤.

---

### ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

src/routes/+page.svelte
```js
<script>
	import Pagination from '$lib/components/Posts/Pagination.svelte';
	import '$lib/styles/_main.scss';
	import PostList from '$lib/components/Posts/PostList.svelte';
	import Category from '$lib/components/Posts/Category.svelte';
	import { MetaTags } from 'svelte-meta-tags';
	import { seoMeta, seoOg } from '$lib/config';
	export let data;
</script>

<MetaTags {...seoMeta} openGraph={{ ...seoOg }} />

<h1>Blog</h1>

<Category categories={data.categories} />

<PostList posts={data} />

<Pagination currentPage={1} totalPosts={data.total} />

```
+page.jsëŠ” í˜ì´ì§€ì™€ ì—°ê²°ëœ ë¡œë“œ í•¨ìˆ˜ì´ë©°, ë°ì´í„°ë¥¼ ë¡œë“œí•œ ë‹¤ìŒ í˜ì´ì§€ê°€ ë¡œë“œëœ ë°ì´í„°ë¥¼ ë„˜ê²¨ ë°›ì•„ ë Œë”ë§í•œë‹¤.
SSR, CSR ëª¨ë‘ ë Œë”ë§ í•  ìˆ˜ ìˆë‹¤.

+page.server.js ëŠ” í•­ìƒ ì„œë²„ì¸¡ì—ì„œ ë¡œë“œê°€ ì‹¤í–‰ëœë‹¤.

ë˜ src/routes/api ëŠ” ë…ë¦½ì ì¸ API ê²½ë¡œì´ë©° í˜ì´ì§€ì™€ ì—°ê²°ë˜ì§€ ì•ŠëŠ”ë‹¤.

src/routes/+page.server.js
```js
import { postsPerPage } from '$lib/config';
import fetchPosts from '$lib/utils/fetchPosts';

export const load = async ({ fetch }) => {
	const options = {
		limit: postsPerPage
	};
	const { posts } = await fetchPosts(options);

	return { posts, total, categories };
};

```

src/routes/api ì—ì„œ ë§Œë“  fetchPosts í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´

í˜ì´ì§€ ì§„ì…ì‹œ 5ê°œì˜ í¬ìŠ¤íŠ¸ë¥¼ ë¨¼ì € ê°€ì ¸ì™”ë‹¤.

---

src/lib/_postsì— ê° ê²Œì‹œê¸€ì¸ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ë“¤ì„ ë§Œë“¤ì—ˆë‹¤.
```js
import { postsPerPage } from '$lib/config';

const fetchPosts = async () => {
	const posts = await Promise.all(
		Object.entries(import.meta.glob('/src/lib/_posts/**/*.md')).map(async ([path, resolver]) => {
			const { metadata } = await resolver();
			const slug = path.split('/').pop()?.slice(0, -3);
			return { ...metadata, slug };
		})
	);

	sortedPosts = sortedPosts.map((post) => ({
		slug: post.slug,
		title: post.title,
		description: post.description,
		category: post.category,
		titleImage: post.titleImage,
		date: new Intl.DateTimeFormat('ko-KR').format(new Date(post.date))
	}));

	return {
		posts: sortedPosts
	};
};

export default fetchPosts;
```

ë§ˆí¬ë‹¤ìš´ íŒŒì¼ë“¤ì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜

```markdown
---
title: ìŠ¤ë²¨íŠ¸í‚·ìœ¼ë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°
date: 2023-01-30
description: ìŠ¤ë²¨íŠ¸í‚·ìœ¼ë¡œ ë¸”ë¡œê·¸ ë§Œë“  ê³¼ì •ì„ ì •ë¦¬
category: javaScript
titleImage: /postIcon/svelte-icon.webp
---
```


ìœ„ì— ì‘ì„±ëœ title, date, description... ë“¤ì´ metadataê°€ ëœë‹¤.

---

```js
import { error } from '@sveltejs/kit';

export const load = async ({ params }) => {
	try {
		const post = await import(`../../../../lib/_posts/${params.category}/${params.post}.md`);

		return {
			PostContent: post.default.render().html,
			meta: {
				...post.metadata,
				date: new Intl.DateTimeFormat('ko-KR').format(new Date(post.metadata.date)),
				slug: params.post
			}
		};
	} catch (err) {
		throw error(404, err);
	}
};

```
src/routes/blog/[category]/[post] ì§„ì…ì‹œ load í•¨ìˆ˜ì˜ context.paramsë¥¼ í†µí•´ í•´ë‹¹ ê²Œì‹œê¸€ì„ ê°€ì ¸ì˜¨ë‹¤.

---

### sitemap, rss ë§Œë“¤ê¸°

src/sitemap.xml/+server.ts

```js
import fetchPosts from '$lib/utils/fetchPosts';

export const prerender = true;

export const GET = async () => {
	const { posts } = await fetchPosts({ limit: -1 });
	const links = posts.map(
		(p) => `
    <url>
      <loc>https://wonbeenna.github.io/blog/${p.category}/${p.slug}</loc>
      <lastmod>${new Date(p.date).toISOString()}</lastmod>
      <priority>1.0</priority>
    </url>
  `
	);
	const xml = `
    <?xml version="1.0" encoding="UTF-8"?>
    <urlset
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd"
      xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
      xmlns:image="http://www.google.com/schemas/sitemap-image/1.1"
      xmlns:video="http://www.google.com/schemas/sitemap-video/1.1"
      xmlns:news="http://www.google.com/schemas/sitemap-news/0.9"
      xmlns:mobile="http://www.google.com/schemas/sitemap-mobile/1.0"
      xmlns:pagemap="http://www.google.com/schemas/sitemap-pagemap/1.0"
      xmlns:xhtml="http://www.w3.org/1999/xhtml"
    >
        <url>
            <loc>https://wonbeenna.github.io/</loc>
            <priority>1.0</priority>
        </url>

        <url>
            <loc>https://wonbeenna.github.io/about</loc>
            <priority>1.0</priority>
        </url>

    ${links.join('')}
    </urlset>
  `.trim();
	return new Response(xml, { headers: { 'Content-Type': 'text/xml; charset=utf-8' } });
};
```

GET ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ ì„œë²„ì—ì„œ ë¹Œë“œì‹œ sitemap.xmlì„ ìƒì„±

rssë„ ìœ„ì™€ ë™ì¼í•˜ë‹¤.

---

### ë§ˆì¹˜ë©°

ìµœê·¼ì— ìŠ¤ë²¨íŠ¸ë¥¼ ê³µë¶€í•´ë³´ëŠ” ê¸°íšŒê°€ìˆì–´, ìŠ¤ë²¨íŠ¸í‚·ì„ ì‚¬ìš©í•´ ê°„ë‹¨í•œ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì–´ ë´¤ë‹¤.

ì•„ì§ ê¹Šê²Œ ì‚¬ìš©í•´ë³´ì§„ ëª»í–ˆì§€ë§Œ, ë¨¼ì € ë¦¬ì•¡íŠ¸ì™€ ë¹„êµí–ˆì„ ë•Œ ì½”ë“œëŸ‰ì´ ë§ì´ ì¤„ì–´ë“  ëŠë‚Œì´ë‹¤.

- í”„ë ˆì„ì›Œí¬ëŠ” ì½”ë“œëŸ‰ì´ ì ì„ ìˆ˜ë¡ ì†ë„ê°€ ë¹ ë¥´ë‹¤ê³  ë“¤ì—ˆë‹¤.

- ìˆœìˆ˜í•œ nativeê°€ ê°€ì¥ ì¢‹ë‹¤.

- ì•„ë¬´ë¦¬ ì¢‹ì€ í”„ë ˆì„ì›Œí¬ë¼ë„ vanilla jsë¥¼ ë”°ë¼ê°ˆ ìˆ˜ëŠ” ì—†ë‹¤.

ê·¸ëŸ° ë©´ì—ì„œ virtual DOMì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ìŠ¤ë²¨íŠ¸ê°€ ê°€ì¥ ë¹ ë¥¼ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ìµœì í™”ëŠ” ê°œë°œìì˜ ëª«..

- ìŠ¤ë²¨íŠ¸ëŠ” ëŸ°íƒ€ì„ì´ ì•„ë‹Œ ì»´íŒŒì¼ëŸ¬ì— ê°€ê¹ê¸° ë•Œë¬¸ì— ì‹¤ì œ ì‹¤í–‰ ê°€ëŠ¥í•œ vanilla jsë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤.

ë¦¬ì•¡íŠ¸ì˜€ìœ¼ë©´ useStateë‹ˆ ë­ë‹ˆ~ ìƒíƒœ ê´€ë¦¬ë‹ˆ~ í–ˆì„ ê²ƒ ê°™ì€ë° ìŠ¤ë²¨íŠ¸ëŠ” ë³€ìˆ˜ í•˜ë‚˜ë§Œ ì„ ì–¸í•˜ë©´ ê°€ëŠ¥í–ˆë‹¤.

- ë¦¬ì•¡íŠ¸ì— hook, jsx, context, useí•¨ìˆ˜ ë“± ê·œì¹™ë“¤ì´ í•„ìš”ì—†ì—ˆê³ , ì˜¤ë¡œì§€ html, css, jsë¡œ ê°œë°œí•  ìˆ˜ ìˆë‹¤.

ìš”ì¦˜ ë§ì´ í•«í•˜ê³  ëœ¨ëŠ” í”„ë ˆì„ì›Œí¬ë¼ê³  í•´ì„œ ì •ë³´ë“¤ì´ ë§ì„ì¤„ ì•Œì•˜ëŠ”ë° ìƒê°ë³´ë‹¤ ë” ì •ë³´ê°€ ì—†ì—ˆë‹¤.

êµ¬ê¸€ë§ì„ í•´ë„ ìŠ¤ë²¨íŠ¸ ê´€ë ¨ëœ ì •ë³´ë“¤ì´ ë§ì§„ ì•Šì•˜ë‹¤. ê±°ì˜ ê³µì‹ë¸”ë¡œê·¸ë¥¼ ë§ì´ ì°¸ê³ í–ˆë‹¤.

ê·¸ë˜ë„ ì•ìœ¼ë¡  ë¦¬ì•¡íŠ¸ë¥¼ ë” ê³µë¶€ í•  ê²ƒì´ë‹¤. ë¨¹ê³  ì‚´ë ¤ë©´ ã…ã…

30:T9de,

ì–¼ë§ˆì „ í•´ì™¸ ë¸”ë¡œê·¸ë¥¼ êµ¬ê²½í•˜ë‹¤ê°€ ì´ëŸ° ê¸€ì„ ë³´ì•˜ë‹¤.

-   ë¦¬ì•¡íŠ¸ ì¡°ê±´ë¶€ ë Œë”ë§ì—ì„œ ìƒê°ì—†ì´ && ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì§€ ë§ì•„ë¼
-   ë¬´ì¡°ê±´ && ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ë²„ê·¸ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤?

ì´ ê¸€ì„ ë³´ë©´ì„œ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ê³¼,

ì–´ë–¤ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ë²„ê·¸ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ”ì§€ ìƒê°í•´ ë³´ëŠ” ê³„ê¸°ê°€ ë˜ì—ˆë‹¤.

ìš°ì„  && ì—°ì‚°ìëŠ” ë…¼ë¦¬ ì—°ì‚°ìë¡œ ì˜ˆë¥¼ ë“¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤

```javascript
const a = 3;
const b = -2;

console.log(a && b);
// expected output: -2
```

ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°’ì„ í‰ê°€í•˜ê³  trueì¸ ê²½ìš° ì˜¤ë¥¸ìª½ìœ¼ë¡œ falseì¸ ê²½ìš° í‰ê°€ëŒ€ìƒì´ëœ í”¼ì—°ì‚°ìë¥¼ ë°˜í™˜í•œë‹¤.

```javascript
function Component({ condition }) {

  return (
    <div>
      {condition && <OtherComponent />}
     </div>
  );
}
```

Or

```javascript
function Component({ condition }) {

  return (
    <div>
      {condition ? <OtherComponent /> : null}
     </div>
  );
}
```

[ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œ](https://reactjs.org/docs/conditional-rendering.html)ì—ëŠ” && ì—°ì‚°ìë¥¼ ì“°ëŠ”ë° ìœ ìš©í•  ìˆ˜ ìˆë‹¤ê³  ì„¤ëª…í•˜ê³  ìˆìœ¼ë©°,

ë³´í†µ ì‚¼í•­ ì—°ì‚°ìëŠ” ì½”ë“œì˜ ê°€ë…ì„± ë•Œë¬¸ì— ì˜ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ë˜ ì„¸ê°œì˜ í•­ì´ ì—†ëŠ” ê²½ìš°ì—ë„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

ìœ„ ê°™ì€ ê²½ìš° ë¬¸ì œë  ìˆ˜ ìˆëŠ” ìƒí™©ì´ ìˆëŠ”ë°,Â 

```javascript
function Component() {
  const count = 0;

  return (
    <div>
      {count && <h1>{count}</h1>}
     </div>
  );
}
```

jsì˜ falsyê°’ì„ í‰ê°€ í• ë•Œì´ë‹¤.

[https://developer.mozilla.org/ko/docs/Glossary/Falsy](https://developer.mozilla.org/ko/docs/Glossary/Falsy)

count = 0 ì€ **false**ë¡œ í‰ê°€ë˜ê³ , && ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— 0ì„ ë°˜í™˜í•˜ê²Œ ë˜ë¯€ë¡œ ë‚´ê°€ ìƒê°í•œ ì˜ë„ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ê²ƒì´ë‹¤.

```javascript
<div>0</div>
```

ì´ëŸ° ê²½ìš° count ë¥¼ Booleanìœ¼ë¡œ í‰ê°€í•˜ê²Œ í•˜ë©´ ì˜ë„í•œëŒ€ë¡œ ë™ì‘í•˜ê²Œ ëœë‹¤.Â 

```javascript
function Component() {
  const count = 0;

  return (
    <div>
      {!!count && <h1>{count}</h1>}
     </div>
  );
}
```

ë”°ë¼ì„œ, ë¬´ì¡°ê±´ && ì—°ì‚°ìë¥¼ í”¼í•˜ëŠ”ê²ƒ ë³´ë‹¤ëŠ” í‰ê°€ ëŒ€ìƒì´ ë˜ëŠ” ê°’ì„ ìƒê°í•´ë³´ë©° ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

ì‹¤ì œ ê°œë°œí•˜ë©´ì„œ

Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.

ì´ëŸ° ì—ëŸ¬ë¥¼ ë§Œë‚œ ì ì´ ë§ì•˜ëŠ”ë°, ìœ„ì™€ ê´€ë ¨ëœ ê²ƒì´ ì•„ë‹Œê°€ ìƒê° ëœë‹¤.

ì¡°ê¸ˆ ë” ìƒê°í•˜ë©´ì„œ ê°œë°œí•˜ì
31:Tff5,
ì˜ˆì „ë¶€í„° ê¶ê¸ˆí–ˆì—ˆë˜ ë¶€ë¶„ì´ì—ˆë‹¤.

**useCallback**ê³¼ **useMemo** hookì€ í•¨ìˆ˜ì™€ ê°’ì„ ë©”ëª¨ì´ì œì´ì…˜ í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.

ê·¸ë ‡ë‹¤ë©´ **ë¬´ì¡°ê±´ ì“°ê¸°ë§Œí•˜ë©´** ì„±ëŠ¥ìƒ ì´ì ì„ ê°€ì ¸ê°ˆ ìˆ˜ ìˆì„ê¹Œ?

ë¦¬ì•¡íŠ¸ëŠ” ì•„ë˜ ì„¸ê°€ì§€ì¸ ê²½ìš° ë Œë”ë§ì„ ë°œìƒì‹œí‚¨ë‹¤.

**\- state ë³€ê²½ì´ ìˆì„ ë•Œ**

**\- props ë³€ê²½ì´ ìˆì„ ë•Œ**

**\- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ì—…ë°ì´íŠ¸ ë  ë•Œ ëª¨ë“  ìì‹ ì»´í¬ë„ŒíŠ¸**

ì´ë•Œ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë§‰ê¸°ìœ„í•´ useCallbackê³¼ useMemoë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ìµœì í™”ì—ëŠ” í•­ìƒ ë¹„ìš©ì´ ë”°ë¥¸ë‹¤.

---

```javascript
import {useState} from "react";
import Count from "./Count";

function App() {
    const [count, setCount] = useState(1);

    const handleClick = () => {
        setCount(prevCount => prevCount + 1)
    }

    return (
        <div>
            <h1>{count}</h1>
            <div>
                <Count onClick={handleClick} />
            </div>
        </div>
    );
}

export default App;
```

ìœ„ì™€ ê°™ì€ ì½”ë“œì—ì„œ Appì— stateê°€ ë³€ê²½ë˜ê¸° ë•Œë¬¸ì— Countë„ ë Œë”ë§ ë ê²ƒì´ë‹¤.

<img src="/assets/blog/javaScript/use.gif" width="100%" alt="post image"/>

ë¶€ëª¨ì»´í¬ë„ŒíŠ¸ì˜ stateê°€ ë³€ê²½ë˜ì—ˆê³ ,

handleClick() í•¨ìˆ˜ì˜ ì°¸ì¡° ë™ì¼ì„±ì´ ì¼ì¹˜í•˜ì§€ ì•Šì•„ ë¦¬ë Œë”ë§ ë˜ê³ ìˆë‹¤.

```javascript
import React from 'react';

function Count(props) {
    console.log('CountRender')
    return (
        <div>
            <button onClick={props.onClick}>Click</button>
        </div>
    );
}

export default React.memo(Count);
```

ìì‹ ì»´í¬ë„ŒíŠ¸ì— React.memoë¡œ ê°ì‹¸ì£¼ë©´ propsë¥¼ ë¹„êµí•  ê²ƒì´ë‹¤.

ì´ë•Œ props onClickì€ Appì—ì„œ ë©”ëª¨ì´ì œì´ì…˜ì´ ë˜ì§€ì•Šì•„ ì—¬ì „íˆ ë¦¬ë Œë”ë§ì´ ë°œìƒí•œë‹¤.

```javascript
const handleClick = useCallback(() => {
    setCount(prevCount => prevCount + 1)
}, [])
```

useCallbackìœ¼ë¡œ ê°ì‹¸ì£¼ë©´ handleClickì€ ë©”ëª¨ì´ì œì´ì…˜ë˜ì–´ ìƒˆë¡œ ìƒì„±ë˜ì§€ì•Šê³ , propsë¡œ ì „ë‹¬ë˜ê¸° ë•Œë¬¸ì— ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

<img src="/assets/blog/javaScript/use(1).gif" width="100%" alt="post image"/>

---

ë¦¬ì•¡íŠ¸ì—ì„œ ì´ì•¼ê¸°í•˜ëŠ” useMemoëŠ” ë§¤ë Œë”ë§ë§ˆë‹¤ ê³ ë¹„ìš© ì—°ì‚°ì„ í”¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤ê³  í•˜ì§€ë§Œ, ê³ ë¹„ìš©ì— ëŒ€í•œ ì´ì•¼ê¸°ì— ëŒ€í•´ì„œëŠ” ìì„¸í•˜ê²Œ ë‚˜ì™€ìˆì§€ ì•Šë‹¤.

ë¦¬ì•¡íŠ¸ì—ì„œ ì´ì•¼ê¸°í•˜ëŠ” ê³ ë¹„ìš© ì—°ì‚°ì€ í•˜ìœ„ ë Œë”íŠ¸ë¦¬ë“¤ì„ ë Œë”ë§í•˜ëŠ” ì—°ì‚°ì„ ì´ì•¼ê¸° í•˜ëŠ” ê²ƒì´ê³ , ì´ëŸ¬í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ê±°ì˜ ëŒ€ë¶€ë¶„ useMemoë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

---

```javascript
const Component = () => {

  const fetch = useCallback(() => {
    console.log('fetch');
  }, []);

  useEffect(() => {
    fetch();
  }, [fetch]);

  {...}
};
```

useMemoì™€ useCallbackì€ ì´ˆê¸° ë Œë”ë§ì—ëŠ” ì“¸ëª¨ê°€ ì—†ë‹¤. ì˜¤íˆë ¤ ì´ˆê¸° ë Œë”ë§ì— useMemoì™€ useCallbackì´ ê°’ì„ ì €ì¥í•˜ëŠ” í–‰ìœ„ëŠ” ì˜¤íˆë ¤ ì„±ëŠ¥ì„ ì €í•˜ì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ìƒê°í•˜ì.

ìœ„ì™€ê°™ì€ ì½”ë“œì—ì„œ fetchê°€ ë³€ê²½ë˜ì–´ì•¼ useCallbackì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì˜ë¯¸ê°€ ìˆë‹¤.

---

ì•±ì´ ì ì  ì»¤ì§€ê³  ëª¨ë“  ê°’ì´ë‚˜ í•¨ìˆ˜ì— useMemoì™€ useCallbackì„ ì‚¬ìš©í•œë‹¤ë©´ ì˜¤íˆë ¤ ì•±ì´ ëŠë ¤ì§€ëŠ” ì›ì¸ì´ ë  ìˆ˜ ìˆë‹¤.

[https://ko.reactjs.org/docs/optimizing-performance.html#avoid-reconciliation](https://ko.reactjs.org/docs/optimizing-performance.html#avoid-reconciliation)

ë‹¨ìˆœí•œ ê°’ì´ë‚˜ í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜ í•˜ëŠ”ê²ƒ ë³´ë‹¤ëŠ” ì•± ì„¤ê³„ ë‹¨ê³„ë¶€í„° ë¦¬ë Œë”ë§ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì„ ìƒê°í•˜ê³ , ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ëŠ” íŠ¹ì • ë¶€ë¶„ì—ì„œë§Œ ë©”ëª¨ì´ì œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ì•±ì„ ìµœì í™” í•˜ëŠ”ë° ë” ì¢‹ì„ ê²ƒì´ë‹¤.

ë‹¨ìˆœí•œ ê°’ì´ë‚˜ í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜ í•˜ëŠ”ê±´ ì˜¤íˆë ¤ ë” ëŠë ¤ì§ˆ ë¿ë§Œ ì•„ë‹ˆë¼, ì„±ëŠ¥ì— ë¯¸ë¯¸í•˜ê²Œ ì˜í–¥ì„ ë¼ì¹ ê²ƒì´ë‹¤.

ì°¸ê³ :

[https://beta.reactjs.org/reference/react/useMemo#usage](https://beta.reactjs.org/reference/react/useMemo#usage)

[https://www.developerway.com/posts/how-to-use-memo-use-callback](https://www.developerway.com/posts/how-to-use-memo-use-callback)
32:T84a,
### fireEventë¥¼ userEventë¡œ ë°”ê¿”ë³´ê¸°

```shell
npm i @testing-library/user-event
```

```js
test('Checkbox enables button on first click and disableds on second click', async () => {
  const user = userEvent.setup();

  render(<SummaryForm />);

  const checkbox = screen.getByRole('checkbox', {
    name: /terms and conditions/i
  });
  const confirmButton = screen.getByRole('button', {
    name: /confirm order/i
  });

  await user.click(checkbox);
  expect(confirmButton).toBeEnabled();

  await user.click(checkbox);
  expect(confirmButton).toBeDisabled();
});
```

async/await ìœ¼ë¡œ ë¹„ë™ê¸° ì²˜ë¦¬í•´ì£¼ì§€ ì•Šìœ¼ë©´, expectê°€ ë¨¼ì € ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤

---

### Screen ë©”ì†Œë“œë“¤ ì¨ë³´ê¸°

```js
test('popover responds to hover', async () => {
  const user = userEvent.setup();

  render(<SummaryForm />);

  // popover starts out hidden
  const nullPopover = screen.queryByText(/no ice cream will actually be delivered/i);
  expect(nullPopover).not.toBeInTheDocument();

  // popover appears on mouseover of checkbox label
  const termsAndConditions = screen.getByText(/terms and conditions/i);
  await user.hover(termsAndConditions);
  const popover = screen.getByText(/no ice cream will actually be delivered/i);
  expect(popover).toBeInTheDocument();

  // popover disappears when we mouse out
  await user.unhover(termsAndConditions);
  expect(popover).not.toBeInTheDocument();
});
```

- get : ìš”ì†Œ ì¡°íšŒì‹œ ë‚˜íƒ€ë‚  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ê²½ìš° -> ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ìœ¼ë©´ Errorë¥¼ ë°˜í™˜

- query : ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²½ìš° -> ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ìœ¼ë©´ nullì„ ë°˜í™˜

- find : ìš”ì†Œê°€ ë¹„ë™ê¸°ì ìœ¼ë¡œ í‘œì‹œë  ìˆ˜ ìˆëŠ” ê²½ìš°ì¸ì§€

```js
const popover = (
  <Popover id="popover-basic">
    <Popover.Body>No ice cream will actually be delivered</Popover.Body>
  </Popover>
);

const checkboxLabel = (
  <span>
    I agree to
    <OverlayTrigger trigger={['hover', 'focus']} placement="right" overlay={popover}>
      <span style={{color: 'blue'}}>Terms and Conditions</span>
    </OverlayTrigger>
  </span>
);
```
33:Tff3,
### * Mock Service Worker

ë°±ì—”ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¶€ë¶„ì„ í…ŒìŠ¤íŠ¸

- MSW ì‘ë™ ë°©ì‹

ë¸Œë¼ìš°ì €ì— ì„œë¹„ìŠ¤ ì›Œì»¤ë¥¼ ë“±ë¡í•´ ì™¸ë¶€ë¡œ ë‚˜ê°€ëŠ” ë„¤íŠ¸ì›Œí¬ ë¦¬í€˜ìŠ¤íŠ¸ë¥¼ ê°ì§€

ìš”ì²­ì„ ì‹¤ì œ ì„œë²„ë¡œ ê°ˆ ë•Œ ì¤‘ê°„ì— ê°€ë¡œì±„ MSW í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë³´ë‚´ê³ , ë“±ë¡ëœ í•¸ë“¤ëŸ¬ì—ì„œ ìš”ì²­ì„ ì²˜ë¦¬í•œ í›„ ëª¨ì˜ ì‘ë‹µì„ ë³´ë‚¸ë‹¤.

---

### * jestë¥¼ ì‚¬ìš©í•œ nodeì™€ í†µí•©í•˜ê¸°

```shell
npm install msw --save
```

- í•¸ë“¤ëŸ¬ ìƒì„±í•˜ê¸°

```js
import {rest} from 'msw';

export const handlers = [
  rest.get('http://localhost:5000/products', (req, res, ctx) => {
    return res(
      ctx.json([
        {
          name: 'America',
          imagePath: '/images/america.jpeg'
        },
        {
          name: 'England',
          imagePath: '/images/england.jpeg'
        }
      ])
    );
  }),
  rest.get('http://localhost:5000/options', (req, res, ctx) => {
    return res(
      ctx.json([
        {
          name: 'Insurance'
        },
        {
          name: 'Dinner'
        }
      ])
    );
  })
];
```

- mocking ì„œë²„ ìƒì„±í•˜ê¸°

```js
import {setupServer} from 'msw/node';
import {handlers} from './handlers';

export const server = setupServer(...handlers);
```

- setupTest.jsì— ì„œë²„ ìƒì„±

```js
// jest-dom adds custom jest matchers for asserting on DOM nodes.
// allows you to do things like:
// expect(element).toHaveTextContent(/react/i)
// learn more: https://github.com/testing-library/jest-dom
import '@testing-library/jest-dom';

import {server} from './mocks/server';

beforeAll(() => server.listen()); // í…ŒìŠ¤íŠ¸ ì‹œì‘ ì „ì— ì„œë²„ listen
afterEach(() => server.resetHandlers()); // í…ŒìŠ¤íŠ¸ ì¤‘ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì´ ê°€ì§€ ì•Šë„ë¡
afterAll(() => server.close()); // í…ŒìŠ¤íŠ¸ í›„ ì„œë²„ë¥¼ í´ë¦°ì—…
```

- í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±

```js
import {server} from '../../../mocks/server';
import Type from '../Type';
import {rest} from 'msw';
import {render, screen} from '@testing-library/react';

test('displays product images from server', async () => {
  render(<Type orderType="products" />);

  // ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ ì´ë¯¸ì§€
  const productImages = await screen.findAllByRole('img', {
    name: /product$/i
  });
  expect(productImages).toHaveLength(2);

  const altText = productImages.map((element) => element.alt);
  expect(altText).toEqual(['America product', 'England product']);
});

test('fetch option information from server', async () => {
  render(<Type orderType="options" />);

  const optionCheckboxes = await screen.findAllByRole('checkbox');

  expect(optionCheckboxes).toHaveLength(2);
});

test('when fetching product datas, face an error', async () => {
  // ì„œë²„ì— ëŒ€í•œ ì—ëŸ¬ í™•ì¸
  server.resetHandlers(
    rest.get('http://localhost:5000/products', (req, res, ctx) => {
      return res(ctx.status(500));
    })
  );

  render(<Type orderType="products" />);

  const errorBanner = await screen.findByTestId('error-banner');
  expect(errorBanner).toHaveTextContent('ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
});
```

- ì»´í¬ë„ŒíŠ¸

```js
import React, {useEffect, useState} from 'react';
import axios from 'axios';
import Products from './Products';
import ErrorBanner from '../../components/ErrorBanner';
import Options from './Options';

const Type = ({orderType}) => {
  const [items, setItems] = useState([]);
  const [error, setError] = useState(false);

  useEffect(() => {
    loadItems(orderType);
  }, [orderType]);

  const loadItems = async (orderType) => {
    try {
      const response = await axios.get(`http://localhost:5000/${orderType}`);
      setItems(response.data);
    } catch (error) {
      setError(true);
    }
  };

  const ItemComponents = orderType === 'products' ? Products : Options;

  const optionItems = items.map((item) => {
    return <ItemComponents key={item.name} name={item.name} imagePath={item.imagePath} />;
  });

  if (error) {
    return <ErrorBanner message="ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤." />;
  }

  return <div>{optionItems}</div>;
};

export default Type;
```
34:T1633,
### * Jest - Facebookì—ì„œ ë§Œë“  í…ŒìŠ¤íŒ… í”„ë ˆì„ ì›Œí¬.

ì£¼ë¡œ ë‹¨ìœ„ (unit) í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‚¬ìš©.

- filename.test.js

- filename.spec.js

All files inside "tests" folders

- describe -> í…ŒìŠ¤íŠ¸ë¥¼ ê·¸ë£¹í™” í•˜ëŠ”ë° ì‚¬ìš©

- test(it) - ê°œë³„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰

- test(it) - ê°œë³„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰

- test(it) - ê°œë³„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰

- expect í•¨ìˆ˜ëŠ” ê°’ì„ í…ŒìŠ¤íŠ¸í•  ë•Œë§ˆë‹¤ ì‚¬ìš©, matcher(ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ê°’ì„ í…ŒìŠ¤íŠ¸)ì™€ í•¨ê»˜ ì‚¬ìš©

---

### ì‹œì‘í•´ë³´ê¸°

cra í´ë”ë¡œ ê°€ì„œ

```shell
npm test
```

íŒŒì¼ëª…ì— testê°€ ë“¤ì–´ê°„ íŒŒì¼ì„ ì°¾ëŠ”ë‹¤.

aë¡œ App.test.jsì— ìˆëŠ” ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰

```js
test('renders learn react link', () => {
  render(<App />);
  const linkElement = screen.getByText(/learn react/i);
  expect(linkElement).toBeInTheDocument();
});
```

- renderí•¨ìˆ˜ëŠ” DOMì— ì»´í¬ë„ŒíŠ¸ë¥¼ ëœë”ë§ í•˜ëŠ” í•¨ìˆ˜, returnì€ RTL(ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬)ì— ì¿¼ë¦¬ í•¨ìˆ˜ì™€ ê¸°íƒ€ ìœ í‹¸ë¦¬í‹°ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤.

```js
test('renders learn react link', () => {
  const { getByText } = render(<App />);
  const linkElement = getByText(/learn react/i);
  expect(linkElement).toBeInTheDocument();
});
```

ì•„ë˜ ì²˜ëŸ¼ë„ ì“¸ìˆ˜ ìˆë‹¤. (ì¿¼ë¦¬í•¨ìˆ˜ë¥¼ ì§ì ‘ ì“°ëŠ” ê²½ìš°ëŠ” ê±°ì˜ ì—†ê³  screen ê°ì²´ë¡œ ì´ìš©)

```js
<a
  className="App-link"
  href="https://reactjs.org"
  target="_blank"
  rel="noopener noreferrer"
>
  Learn React
</a>
```

linkElementê°€ Documentì•ˆì— ìˆëŠ”ì§€ íŒë‹¨í•˜ëŠ” matcher

---

### ì¿¼ë¦¬í•¨ìˆ˜

ì¿¼ë¦¬ëŠ” í˜ì´ì§€ì—ì„œ ìš”ì†Œë¥¼ ì°¾ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì œê³µí•˜ëŠ” ë°©ë²•

- getBy~: ì¿¼ë¦¬ì— ëŒ€í•´ ì¼ì¹˜í•˜ëŠ” ë…¸ë“œë¥¼ ë°˜í™˜, ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ê±°ë‚˜ ë‘˜ ì´ìƒì˜ ì¼ì¹˜ê°€ ë°œê²¬ë˜ë©´ ì—ëŸ¬ë¥¼ ë°˜í™˜(ë‘˜ ì´ìƒì˜ ìš”ì†ŒëŠ” getAllBy~ ì‚¬ìš©)

- queryBy~: ì¿¼ë¦¬ì— ëŒ€í•´ ì¼ì¹˜í•˜ëŠ” ë…¸ë“œ ë°˜í™˜, ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ì—†ìœ¼ë©´ nullì„ ë°˜í™˜

- findBy~: (getBy + waitFor)ì£¼ì–´ì§„ ì¿¼ë¦¬ì™€ ì¼ì¹˜í•˜ëŠ” ìš”ì†Œê°€ ë°œê²¬ë˜ë©´ Promiseë¥¼ ë°˜í™˜ (ë‘˜ ì´ìƒì˜ ìš”ì†ŒëŠ” findAllBy~ ì‚¬ìš©)

- waitFor: ì¼ì • ê¸°ê°„ ë™ì•ˆ ê¸°ë‹¤ë¦¬ë„ë¡

---

### ë¦°íŠ¸

```
"eslint-plugin-jest-dom"
"eslint-plugin-testing-library"
```

---

### TDD(Test Driven Development)

ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±

### ê°„ë‹¨í•œ ì¹´ìš´íŒ… ì•± ë§Œë“¤ì–´ë³´ê¸°

```js
test('Counter starts at 0', () => {
  render(<App />);
  // screen objectë¡œ ì›í•˜ëŠ” ì—˜ë¦¬ë©˜íŠ¸ì— ì ‘ê·¼(ID)
  const counterElement = screen.getByTestId('counter');
  // idê°€ counterì¸ ì—˜ë¦¬ë©˜íŠ¸ì˜ í…ìŠ¤íŠ¸ê°€ 0ì¸ê°€?
  expect(counterElement).toHaveTextContent(0);
});
```

```js
import './App.css';
import {useState} from 'react';

function App() {
  const [count, setCount] = useState(0);

  return (
    <div className="App">
      <header className="App-header">
        <h3 data-testid="counter">{count}</h3>
      </header>
    </div>
  );
}

export default App;
```

- ë²„íŠ¼ ì¶”ê°€í•˜ê¸°

```js
test('Minus Button', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('minus-button');
  expect(buttonElement).toHaveTextContent('-');
});

test('Plus Button', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('plus-button');
  expect(buttonElement).toHaveTextContent('+');
});
```

```js
<div>
  <button data-testid="minus-button">-</button>
  <button data-testid="plus-button">+</button>
</div>
```

### FireEvent API

ìœ ì €ê°€ ë°œìƒì‹œí‚¤ëŠ” ì•¡ì…˜(ì´ë²¤íŠ¸)ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸

- ë²„íŠ¼ ì´ë²¤íŠ¸ ì¶”ê°€í•˜ê¸°

```js
test('When the + button is pressed, the counter change to 1', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('plus-button');
  // ë²„íŠ¼ í´ë¦­
  fireEvent.click(buttonElement);
  // plus ë²„íŠ¼ í´ë¦­ì‹œ counter ì—˜ë¦¬ë¨¼íŠ¸ëŠ” 1
  const counterElement = screen.getByTestId('counter');
  expect(counterElement).toHaveTextContent(1);
});

test('When the - button is pressed, the counter change to -1', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('minus-button');
  // ë²„íŠ¼ í´ë¦­
  fireEvent.click(buttonElement);
  // minus ë²„íŠ¼ í´ë¦­ì‹œ counter ì—˜ë¦¬ë¨¼íŠ¸ëŠ” -1
  const counterElement = screen.getByTestId('counter');
  expect(counterElement).toHaveTextContent(-1);
});
```

```js
const [count, setCount] = useState(0);

const handlePlus = () => {
  setCount((prevState) => prevState + 1);
};

const handleMinus = () => {
  setCount((prevState) => prevState - 1);
};

return (
  <div className="App">
    <header className="App-header">
      <h3 data-testid="counter">{count}</h3>
      <div>
        <button data-testid="minus-button" onClick={handleMinus}>
          -
        </button>
        <button data-testid="plus-button" onClick={handlePlus}>
          +
        </button>
      </div>
    </header>
  </div>
);
```

- on/off ë²„íŠ¼ ìƒ‰ìƒê³¼ í´ë¦­ì‹œ -, +ë²„íŠ¼ disabled

```js

test('on/off button has blue color', () => {
  render(<App />);
  const buttonElement = screen.getByTestId('on/off-button');
  expect(buttonElement).toHaveStyle({backgroundColor: 'blue'});
});

test('Prevent -,+ button from being pressed when the on/off button is clicked', () => {
  render(<App />);
  const onOffButtonElement = screen.getByTestId('on/off-button');
  fireEvent.click(onOffButtonElement);
  const plusButtonElement = screen.getByTestId('plus-button');
  const minusButtonElement = screen.getByTestId('minus-button');
  expect(plusButtonElement).toBeDisabled();
  expect(minusButtonElement).toBeDisabled();
});
```

```js
<button data-testid="on/off-button" style={{backgroundColor: 'blue'}} onClick={handleDisabled}>
  on/off
</button>
```
35:Tfe7,
### 1\. Utility Type

```typescript
  Partial<T>
```

\- Tì˜ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ì„ íƒì ìœ¼ë¡œ ë§Œë“œëŠ” íƒ€ì…

```typescript
interface User {
  name: string;
  age: number;
}

function updateUser(user: User, fieldsToUpdate: Partial<User>) {
  return { ...user, ...fieldsToUpdate };
}

const user1 = {
  name: "been",
  age: 30,
};

const user2 = updateUser(user1, {
  age: 32,
});
```

---

```typescript
  Readonly<T>
```

Tì˜ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ êµ¬ì„±, ìƒì„±ëœ íƒ€ì…ì˜ í”„ë¡œí¼í‹°ëŠ” ì¬í• ë‹¹ í•  ìˆ˜ ì—†ë‹¤.

---

```typescript
  Record<K,T>
```

íƒ€ì… Tì˜ í”„ë¡œí¼í‹°ì˜ ì§‘í•© Kë¡œ íƒ€ì…ì„ êµ¬ì„±í•œë‹¤.

ì£¼ë¡œ ë‹¤ë¥¸ íƒ€ì…ì— ë§¤í•‘ì‹œí‚¤ëŠ”ë° ì‚¬ìš©

```typescript
interface PageInfo {
  title: string;
}

type Page = "home" | "about" | "contact";

const x: Record<Page, PageInfo> = {
  about: { title: "about" },
  contact: { title: "contact" },
  home: { title: "home" },
};
```

---

```typescript
  Pick<T,K>
```

Tì—ì„œ Kì˜ ì§‘í•©ì„ ì„ íƒí•´ íƒ€ì…ì„ êµ¬ì„±

```typescript
  Omit<T,K>
```

Tì—ì„œ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒ Kë¥¼ ì œê±°í•œ íƒ€ì…ì„ êµ¬ì„±

---

```typescript
  NonNullable<T>
```

Tì—ì„œ nullê³¼ undefinedë¥¼ ì œì™¸í•œ íƒ€ì…ì„ êµ¬ì„±

---

ì¶œì²˜ : [https://typescript-kr.github.io/pages/utility-types.html](https://typescript-kr.github.io/pages/utility-types.html)

---

### 2\. Storybook ì‘ì„±

[https://been.tistory.com/58](https://been.tistory.com/58)

---

### 3\. npm íŒ¨í‚¤ì§€ ë°°í¬

[https://www.npmjs.com/package/jci-moyeo-design-system](https://www.npmjs.com/package/jci-moyeo-design-system)


---

### 4\. aria, role

> ì›¹ ì ‘ê·¼ì„±(web accessibility)ì€ ì¥ì• ë¥¼ ê°€ì§„ ì‚¬ëŒê³¼ ì¥ì• ë¥¼ ê°€ì§€ì§€ ì•Šì€ ì‚¬ëŒ ëª¨ë‘ê°€ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ë°©ì‹ì„ ê°€ë¦¬í‚¨ë‹¤. ì‚¬ì´íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ê³„ë˜ì–´ ê°œë°œë˜ê³  í¸ì§‘ë˜ì–´ ìˆì„ ë•Œ ëª¨ë“  ì‚¬ìš©ìë“¤ì€ ì •ë³´ì™€ ê¸°ëŠ¥ì— ë™ë“±í•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

> ì›¹ í‘œì¤€ì€ ì›”ë“œ ì™€ì´ë“œ ì›¹ì˜ ì¸¡ë©´ì„ ì„œìˆ í•˜ê³  ì •ì˜í•˜ëŠ” ê³µì‹ í‘œì¤€ì´ë‚˜ ë‹¤ë¥¸ ê¸°ìˆ  ê·œê²©ì„ ê°€ë¦¬í‚¤ëŠ” ì¼ë°˜ì ì¸ ìš©ì–´ì´ë‹¤. ìµœê·¼ì— ì´ ìš©ì–´ëŠ” ì›¹ ì‚¬ì´íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë° ì¤‘ìš”ë„ê°€ ë†’ì•„ì§€ê³  ìˆìœ¼ë©° ì›¹ ë””ìì¸, ê°œë°œê³¼ ê´€ê³„ê°€ ìˆë‹¤.

```typescript
role="form"
<form>ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©
```


```typescript
role="search"
ê²€ìƒ‰ ì—­í• ì„ ë‹´ë‹¹
```

```typescript
role="button"
ìŠ¤í¬ë¦°ë¦¬ë”ì— ë²„íŠ¼ì„ì„ ì•Œë ¤ì£¼ì§€ë§Œ ë²„íŠ¼ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ëŠ” ì•Šê¸° ë•Œë¬¸ì— <button>ì´ë‚˜ <input type='button'>ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ë‹¤.
```


```typescript
role ="tablist"
**íƒ­ë©”ë‰´ ë“±ì˜ ë¦¬ìŠ¤íŠ¸ì„ì„ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•œë‹¤.
```


```typescript
role="tab"
ë³´ì¡°ê¸°ê¸°ê°€ íƒ­ìœ¼ë¡œ ì¸ì‹
aria-requiredë¥¼ trueë¡œ ì§€ì •í•´ í•´ë‹¹ìš”ì†Œê°€ í•„ìˆ˜ì ìœ¼ë¡œ ì…ë ¥ë˜ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ëƒ„
```

```html
<input {...} aria-required="true">
```

-   ì¶”ê°€ì„¤ëª… ì†ì„± : div #referenceì˜ ë‚´ìš©ì„ inputì˜ ì¶”ê°€ì„¤ëª…ìœ¼ë¡œ ì‚¬ìš©

```html
<input type="text" aria-describedby="reference">
<div id="reference">ì¶”ê°€ì„¤ëª…</div>
```

ex) "ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”." ë¼ëŠ” ì¶”ê°€ì ì¸ ì„¤ëª…

-   aria-labelë¡œ ì–´ë–¤ ìš”ì†Œì¸ì§€ ë¼ë²¨ë§í•  ìˆ˜ ìˆë‹¤.

```html
<div role="group" aria-label="ë ˆì´ë¸”">
```

-   ìœ íš¨í•œì§€ ì•„ë‹Œì§€ êµ¬ë¶„

```html
<input type="text" aria-invalid="true">
```

-   ë²„íŠ¼ í´ë¦­ìƒíƒœì™€ ë¹„í´ë¦­ìƒíƒœ

```html
<button aria-pressed="true">
```

**1) íƒœê·¸ì™€ ì¤‘ë³µë˜ì§€ ì•Šê²Œ ì‚¬ìš©í•œë‹¤.**

```html
<button role="button"> </button>
```

**2) nativeìš”ì†Œì˜ ì˜ë¯¸, ê¸°ëŠ¥ ë³€ê²½ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.**

```html
<h1 role="button">ë²„íŠ¼</h1>
```

**3) í‚¤ë³´ë“œë¡œ í¬ì»¤ì‹±ì´ ê°€ëŠ¥í•˜ê²Œ ì„¤ì •í•œë‹¤.**

```html
<span role="button" tabindex="0">ë²„íŠ¼</span>
```

íŠ¹íˆ buttonìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ê²½ìš°

```typescript
aria-hidden="true"
ìŠ¤í¬ë¦°ë¦¬ë”ê°€ ì ‘ê·¼í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ì´ë¯¸ì§€ë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ì€ ê²½ìš°
```

[https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles)

36:Tc67,
ì´ë²ˆì— ìŠ¤í„°ë””ë¥¼ í•˜ë©´ì„œ ì²˜ìŒ ìŠ¤í† ë¦¬ë¶ì„ ì¨ë³´ê²Œ ë˜ì—ˆë‹¤.

[https://storybook.js.org/](https://storybook.js.org/)


ìŠ¤í† ë¦¬ë¶ì€ ë””ìì¸ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³ ìí•˜ëŠ” ê°œë°œìë“¤ì„ ìœ„í•´ ì œì‘ë˜ì—ˆë‹¤.

**ë””ìì¸ ì‹œìŠ¤í…œì€ ì™œ ì‚¬ìš©í•˜ëŠ” ê±¸ê¹Œ?**

ê°œë°œì ì…ì¥ì—ì„œ ê°€ì¥ í° ì´ìœ ëŠ” ë””ìì´ë„ˆ, í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € ë“± íŒ€ êµ¬ì„±ì›ê³¼ì˜ í˜‘ì—…ì¸ê²ƒ ê°™ë‹¤.

ê° ë¶„ì•¼ì˜ ì§€ì‹ ì°¨ì´ë¥¼ ì¤„ì´ê³  ê³µí†µì ìœ¼ë¡œ ë°”ë¼ë³´ëŠ” ê²ƒ(UI)ì„ í†µí•´ ìƒì‚°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.

**ë””ìì¸ ì‹œìŠ¤í…œì´ ë­”ë°?**

<img src="/assets/blog/javaScript/storybook.webp" width="100%" alt="post image"/>

ë‚´ê°€ ìƒê°í•˜ê¸°ì— ë””ìì¸ ì‹œìŠ¤í…œì´ë€ í•˜ë‚˜ì˜ í”„ë¡œë•íŠ¸ë¥¼ ë§Œë“œëŠ”ë° ìˆì–´ì„œ ë””ìì¸ ì ì¸ ê°€ì´ë“œ ë¼ì¸ ë° ë””ìì¸ ì›ì¹™ = ìƒ‰ìƒ, ì•„ì´ì½˜, íƒ€ì´í¬ê·¸ë˜í”¼ ë“± ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ë¬¸ì„œí™”í•˜ëŠ”ê²ƒ ì´ë¼ ìƒê°í•œë‹¤.

ì´ê²ƒì„ ë¬¸ì„œí™”í•˜ëŠ”ë° ë„ì™€ì£¼ëŠ” ë„êµ¬ê°€ ë°”ë¡œ ìŠ¤í† ë¦¬ë¶ì´ë‹¤.

---

ìš°ë¦¬ëŠ” ë¨¼ì € ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€, ìì£¼ ì“°ì´ê²Œ ë ë§Œí•œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì‘ì„±í•˜ê¸°ë¡œ ì‹œì‘í–ˆë‹¤.

```shell
npx storybook init
```

ë³¸ì¸ì´ ì‚¬ìš©í•˜ê³ ìí•˜ëŠ” í”„ë ˆì„ì›Œí¬ë¥¼ ì„¤ì¹˜í•˜ê³  ìœ„ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•˜ë©´ ì•Œì•„ì„œ ì„¤ì¹˜ëœë‹¤Â 

```shell
yarn storybook
```

ë¡œ ì‹œì‘í•˜ë©´ 6006í¬íŠ¸ë¡œ ì‹¤í–‰ëœë‹¤

/src/components/Chip.tsx

```js
{...}

const Chip = ({
  adornments = "#",
  label = "Chip",
  color = "basic",
  variants,
  outlined,
  onDelete,
}: ChipProps) => {
  const props = { color, variants, outlined };

  return (
    <StyledChip {...props}>
      {adornments && <StyledChipAdornments>{adornments}</StyledChipAdornments>}
      <StyledChipLabel {...props}>{label}</StyledChipLabel>
      {onDelete && (
        <CancelIconBtn value={label} onClick={onDelete}>
          <StyledCancelIcon aria-hidden {...props} />
        </CancelIconBtn>
      )}
    </StyledChip>
  );
};

export default Chip;

{...}
```

ë°°í¬ í›„ ìš°ë¦¬ê°€ ì‹¤ì œë¡œ ì‚¬ìš©í•  ì»´í¬ë„ŒíŠ¸ë‹¤

ë‹¤ì–‘í•œ ìƒ‰ìƒìœ¼ë¡œ ë°›ê¸°ìœ„í•´

```ts
export type Color = "basic" | "active" | "danger" | "warning";
```

ì„ ì‘ì„±í–ˆë‹¤.

<img src="/assets/blog/javaScript/storybook.gif" width="100%" alt="post image"/>

/src/stories/Chip.stories.tsx

```tsx
import { Meta, Story } from "@storybook/react";
import React from "react";
import { Chip, ChipProps } from "../../../components/Chip";

export default {
  title: "Components/Chip",
  component: Chip,
} as Meta;

export const Default: Story<ChipProps> = (args) => {
  return <Chip {...args} />;
};
```

ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ ë§Œë“  ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë¬¸ì„œí™” í•  ìˆ˜ ìˆë‹¤

argsì„ ë„£ì–´ì¤„ ìˆ˜ ìˆëŠ”ë°, ìŠ¤í† ë¦¬ë¶ì—ì„œëŠ” ìë™ìœ¼ë¡œ ì„¤ì •í•´ì¤€ë‹¤.

```js
Default.args = {
  color: "active",
};
```

ë¡œ ì§ì ‘ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.

ìš°ë¦¬ëŠ” npmìœ¼ë¡œ ë°°í¬í•´ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤. ë‹¤ìŒì—” ë°°í¬ê³¼ì •ê³¼ ë¹Œë“œê³¼ì •ì„ ì •ë¦¬í•´ì•¼ê² ë‹¤.

ì‘ì„±í•œ ë””ìì¸ ì‹œìŠ¤í…œì„ ê¸°ë°˜ìœ¼ë¡œ ì´ë²ˆì£¼ë¶€í„° ì§ì ‘ ê°œë°œì— ë“¤ì–´ê°€ê²Œëœë‹¤.

ì–´ë–¤ì ì´ ì¢‹ì€ì§€ ì°¨ì´ê°€ìˆëŠ”ì§€ ê²½í—˜í•´ë³´ëŠ” ì¢‹ì€ ê¸°íšŒê°€ ë ê±°ê°™ë‹¤.
37:Td1c,
Nextjsì—ì„œ styled-componentsë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë²„ìƒì—ì„œ htmlì„ ë¶ˆëŸ¬ì˜¨ ë’¤, hydrateê³¼ì •ì—ì„œ jsë¥¼ ì…í˜€ ìŠ¤íƒ€ì¼ì´ ì ìš©ëœë‹¤.

ì´ë•Œ ì´ˆê¸° í˜ì´ì§€ ë¡œë”©ì‹œ ì‚¬ìš©ìê°€ ë³´ê²Œ ë˜ëŠ” í™”ë©´ì€, ìŠ¤íƒ€ì¼ë§ì´ ì „í˜€ ì ìš©ë˜ì§€ì•Šì€ htmlë¬¸ì„œë¥¼ ì ê¹ ë³´ê²Œ ë˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤.

<img src="/assets/blog/javaScript/next-styled-component.png" width="100%" alt="post image"/>

ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ ë°›ì•„ì˜¨ ë¬¸ì„œ(í˜ì´ì§€)ë¥¼ ë³´ë©´ styleì— ê´€í•œ ì •ë³´ëŠ” ì—†ê³ , htmlë§Œ ë‚´ë ¤ì˜¨ë‹¤.

ì´ëŸ´ë•Œ **\_document.tsx**ë¥¼ ì»¤ìŠ¤í…€í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

\_documentëŠ” Pageë¥¼ ë Œë”ë§í•˜ëŠ”ë° ê³µí†µì ìœ¼ë¡œ í•„ìš”í•œ íƒœê·¸, ë©”íƒ€ì •ë³´, í°íŠ¸ ë“±ì„ ì»¤ìŠ¤í…€ í•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë˜ documentëŠ” í•­ìƒ ì„œë²„ìƒì—ì„œë§Œ ì‹¤í–‰ë˜ë¯€ë¡œ ë¸Œë¼ìš°ì € ë° í´ë¼ì´ì–¸íŠ¸ ë‹¨ì—ì„œ í¬í•¨ëœ ì½”ë“œë“¤ì€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

---

ì²«ë²ˆì§¸ë¡œ styled-componentsì˜ ì„œë²„ì¸¡ classNameê³¼ í´ë¼ì´ì–¸íŠ¸ì¸¡ classNameì„ ë™ì¼í•˜ê²Œ ìœ ì§€ë˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ next.config.jsë¥¼ ìˆ˜ì •í•´ì•¼ëœë‹¤.

nextjs 12.1ë²„ì „ ì´ìƒë¶€í„°ëŠ” babel-plugin-styled-componentsë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë˜ê³ ,

```javascript
compiler: {
  styledComponents: true
},
```

ë§Œ ì‘ì„±í•´ ì£¼ë©´ ëœë‹¤.

ë‘ë²ˆì§¸ë¡œÂ 

```javascript
import Document, {DocumentContext} from 'next/document'
import {ServerStyleSheet} from 'styled-components'

class MyDocument extends Document {
  static async getInitialProps(ctx: DocumentContext) {
    const sheet = new ServerStyleSheet()
    const originalRenderPage = ctx.renderPage

    try {
      ctx.renderPage = () =>
        originalRenderPage({
          enhanceApp: (App) => (props) => sheet.collectStyles(<App {...props} />)
        })

      const initialProps = await Document.getInitialProps(ctx)

      return {
        ...initialProps,
        styles: [
          <>
            {initialProps.styles}
            {sheet.getStyleElement()}
          </>
        ]
      }
    } catch (error) {
      throw error
    } finally {
      sheet.seal()
    }
  }
}

export default MyDocument
```

\_document.tsx íŒŒì¼ì„ ìœ„ì²˜ëŸ¼ ì‘ì„±í•´ ì£¼ë©´ ëœë‹¤.

ìœ„ ì½”ë“œëŠ” ì´ˆê¸° ì„œë²„ì¸¡ì—ì„œ í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ ìŠ¤íƒ€ì¼ì„ ì…í˜€ ë¶ˆëŸ¬ì˜¤ë„ë¡ ì„¤ì •í•˜ëŠ” ì½”ë“œë‹¤.

getInitialPropsì—ì„œ ë°›ì•„ì˜¨ ctxì—ì„œ renderPageê°ì²´ë¥¼ ì°¾ì•„ ë³¼ ìˆ˜ ìˆëŠ”ë°, renderPageëŠ” CSS-in-JSë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì»¤ìŠ¤í…€í•  ë•Œ ë§Œ ì‚¬ìš©í•˜ë¼ê³  ê³µì‹ë¬¸ì„œì— ë‚˜ì™€ìˆë‹¤.

renderPage í•¨ìˆ˜ë¥¼ ì½˜ì†”ì— ì°ì–´ë³´ë‹ˆ, ìš°ë¦¬ê°€ ë³´ëŠ” htmlí˜ì´ì§€ì™€ ë¦¬ì•¡íŠ¸ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë‹´ê²¨ìˆëŠ” ê²ƒ ê°™ë‹¤.

styled-components ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ServerStyleSheetë¥¼ importí•˜ê³  ì„œë²„ì¸¡ì—ì„œ ê·¸ë ¤ì§ˆ sheetë¥¼ ìƒˆë¡œ ë§Œë“ ë‹¤.

```javascript
const sheet = new ServerStyleSheet()
```

ìƒˆë¡œ ë§Œë“  sheetì— renderPageì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë‚´ë¶€ì— styled-componentsë¡œ ì‘ì„±í•œ ìŠ¤íƒ€ì¼ë“¤ì„ ê²°í•©í•˜ê³ ,

```javascript
ctx.renderPage = () =>
  originalRenderPage({
    enhanceApp: (App) => (props) => sheet.collectStyles(<App {...props} />)
  })
```

ê¸°ì¡´ì— htmlì— styleíƒœê·¸ë¥¼ ì¶”ê°€í•œë‹¤.

```javascript
return {
  ...initialProps,
  styles: [
    <>
      {initialProps.styles}
      {sheet.getStyleElement()}
    </>
  ]
}
```

<img src="/assets/blog/javaScript/next-styled-component(1).png" width="100%" alt="post image"/>
38:Te30,
í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ, í”„ë¡œí•„ í˜ì´ì§€ì— ìœ ì €ì •ë³´ì™€ í¬ì¸íŠ¸, í«ì •ë³´, ê´€ì‹¬ì‚¬ ë“± ì„¸ë¡œë¡œ ê¸¸ê²Œ~~ë°°ì¹˜ëœ UI, ê°ê°ì˜ ì •ë³´ë“¤ì„ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ í•˜ë‚˜í•˜ë‚˜ ë°›ì•„ì™€ ë³´ì—¬ì¤˜ì•¼ í–ˆë‹¤.

ì²˜ìŒì—” ì•„ë¬´ìƒê°ì—†ì´ ì§„í–‰í–ˆë‹¤.

í”„ë¡œí•„ í˜ì´ì§€ì— ì§„ì…í–ˆì„ ë•Œ ê°ê° í•„ìš”í•œ ë°ì´í„°ë¥¼ ì„œë²„ì— 4ë²ˆì´ë‚˜ ìš”ì²­í–ˆê³ , ê·¸ëŒ€ë¡œ ì»´í¬ë„ŒíŠ¸ì— ê·¸ë ¸ë‹¤.

ê·¸ëŸ¬ë‹¤ê°€ğŸ’¡ ìƒê°ë‚¬ëŠ”ë°,, ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ì•ŠëŠ” ë¶€ë¶„ì— ë°ì´í„°ë„ ë°›ì•„ì˜¤ê³  ìˆì—ˆë‹¤.

êµ³ì´ ìŠ¤í¬ë¡¤ì„ ë‚´ë¦¬ì§€ë„ ì•Šê³  ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ë„ ì•ŠëŠ” ë¶€ë¶„ì— ë°ì´í„°ê¹Œì§€ ë°›ì•„ì˜¬ í•„ìš”ëŠ” ì—†ì—ˆë‹¤.

ê·¸ëŸ¼ ì‚¬ìš©ìê°€ ìŠ¤í¬ë¡¤ì„ ë‚´ë ¤ ë³´ê³ ìí•˜ëŠ” ë¶€ë¶„ì— ë„ë‹¬í–ˆì„ë•Œ, ì•„ë‹ˆë©´ ë„ë‹¬í•˜ê¸° ì§ì „ì— ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ë³´ì—¬ì£¼ë©´ ì–´ë–¨ê¹Œ ì‹¶ì—ˆë‹¤.

ì´ì „ì— ê°•ì˜ì—ì„œ ì´ë¯¸ì§€ Lazyë¡œë”©ì„ ë°°ì› ì—ˆëŠ”ë°, ì´ë¯¸ì§€ ëŒ€ì‹ ì— ë°ì´í„° ìš”ì²­ì„ í•´ë³´ë©´ ì–´ë–¨ê¹Œ ìƒê°í–ˆë‹¤.

<img src="/assets/blog/javaScript/intersectionObserver.png" width="100%" alt="post image" />

ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ ë˜ìë§ˆì ëª¨ë“  ë°ì´í„°ë“¤ì´ ìš”ì²­ëœë‹¤.

ìš°ì„  í›…ì„ í•˜ë‚˜ ë§Œë“¤ì—ˆë‹¤. refê°ì²´ê°€ ê°ì§€ë˜ë©´ loadedê°€ trueë¡œ ë°”ë€Œê³ , ë”ì´ìƒ ê°ì‹œê°€ ì¤‘ì§€ëœë‹¤.

```tsx
export const useLazyRequest = () => {
  const ref = useRef(null) as MutableRefObject<HTMLDivElement>
  const [loaded, setLoaded] = useState<boolean>(false)

  useEffect(() => {
    const options = {}
    const callback = (entries, observer) => {
      entries.forEach((entry) => {
        console.log(entry)
        if (entry.isIntersecting) {
          console.log('is Intersecting')
          setLoaded(true)
          observer.unobserve(entry.target) // í•œë²ˆë§Œ ìš”ì²­ë˜ë„ë¡ ê°ì‹œ ì¤‘ì§€
        }
      })
    }
    const observer = new IntersectionObserver(callback, options) // ê°ì²´ ìƒì„±í•˜ê¸°
    observer.observe(ref.current)
  }, [])

  return {ref, loaded}
}
```

ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ëŒì•„ì™€ì„œ,

ë‚˜ëŠ” ë°ì´í„° ìš”ì²­ì— SWRì„ ì‚¬ìš©í–ˆë‹¤.

[https://swr.vercel.app/ko](https://swr.vercel.app/ko)

```tsx

// SWR
export const useUserKeywords = (loaded: boolean) => {
  const {data, isValidating, error} = useFetch(loaded ? PATH + '/keywords' : null, {
    revalidateOnFocus: false,
    revalidateIfStale: false,
    shouldRetryOnError: false
  })

  return {
    userKeywords: data,
    isValidating,
    error
  }
}
```

SWRì€ ìœ„ì²˜ëŸ¼ ì„¤ì •í–ˆë‹¤, SWRìì²´ë„ hookì´ê¸° ë•Œë¬¸ì— useEffectë‚˜ ë‹¤ë¥¸ í•¨ìˆ˜ì•ˆì—ì„œ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤.

```tsx
const {ref, loaded} = useLazyRequest()
const {userKeywords, isValidating, error} = useUserKeywords(loaded)

<Contents ref={ref}>
        {isValidating ? (
          <Loading />
        ) : (
          <>
           {...}
          </>
        )}
</Contents>
```

4ê°œì˜ ì„¹ì…˜ì´ ìˆëŠ”ë°, í˜ì´ì§€ ì§„ì…ì‹œ 1, 2ë²ˆê¹Œì§€ë§Œ ì‚¬ìš©ìì—ê²Œ ë³´ì´ê³  3, 4ë²ˆì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ìœ„ì²˜ëŸ¼ ì ìš©í–ˆë‹¤.

refì— ì‚¬ìš©ìì˜ viewê°€ ë„ë‹¬í•˜ë©´ userKeywordsë¥¼ ìš”ì²­í•´ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤.

<img src="/assets/blog/javaScript/intersectionObserver(1).gif" width="100%" alt="post image" />

ê³¼ê±°ì—ëŠ” getBoundingClientRect() ë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í–ˆë‹¤ê³  í•˜ëŠ”ë°, ë¦¬í”Œë¡œìš° í˜„ìƒì´ë‚˜ ì„±ëŠ¥ë©´ì—ì„œ ë³´ì™„í•˜ê³ ì ìš”ì¦˜ì—” intersection Observerë¥¼ ì‚¬ìš©í•´ íƒ€ê²Ÿì„ ê´€ì°°í•œë‹¤ê³  í•œë‹¤.

ë˜ ë¬´í•œìŠ¤í¬ë¡¤ë„ êµ¬í˜„í•´ ë³¼ ìˆ˜ ìˆë‹¤. í˜ì´ì§€ì˜ ë§¨ ë§ˆì§€ë§‰ ìš”ì†Œì— ë„ë‹¬í–ˆì„ ë•Œ, ìš”ì²­í•˜ëŠ” í˜ì´ì§€ ì¿¼ë¦¬ë¥¼ ++ í•˜ë©´ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

ë‹¤ë¥¸ í•„ìš”í•œ í˜ì´ì§€ì— ì ìš©í•´ë´ì•¼ê² ë‹¤!
39:T1130,

ì´ë²ˆ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ì— ì‚¬ìš©í•˜ê²Œ ëœ react-hook-formê³¼ ì”¨ë¦„í•˜ë©´ì„œ ì •ë¦¬í•´ë³¸ refì™€ react-hook-formì˜ ê°„ë‹¨í•œ ì›ë¦¬ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ì.

---

### **ref**ë€?

Reactì—ì„œëŠ” propsë¥¼ í†µí•´ì„œë§Œ ë¶€ëª¨ì™€ ìì‹ê°„ì˜ ì»´í¬ë„ŒíŠ¸ì— ìƒí˜¸ì‘ìš©ì„ í•  ìˆ˜ ìˆë‹¤.

ìì‹ ì»´í¬ë„ŒíŠ¸ì— propsë¥¼ ì „ë‹¬í•´ propsì˜ ê°’ì´ ë³€ê²½ë˜ë©´ ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì‹œ ë Œë”ë§ì´ ëœë‹¤.

ê·¸ëŸ¬ë‚˜ propsë¥¼ í†µí•œ ë°©ë²•ì´ ì•„ë‹Œ ì§ì ‘ì ìœ¼ë¡œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼ë˜ëŠ” ì¼ì´ ìƒê¸¸ ìˆ˜ ìˆëŠ”ë°..

### Refë¥¼ ì‚¬ìš©í•´ì•¼ í•  ë•Œ

-   í¬ì»¤ìŠ¤, í…ìŠ¤íŠ¸ ì„ íƒì˜ì—­, í˜¹ì€ ë¯¸ë””ì–´ì˜ ì¬ìƒì„ ê´€ë¦¬í•  ë•Œ.
-   ì• ë‹ˆë©”ì´ì…˜ì„ ì§ì ‘ì ìœ¼ë¡œ ì‹¤í–‰ì‹œí‚¬ ë•Œ.
-   ì„œë“œ íŒŒí‹° DOM ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ Reactì™€ ê°™ì´ ì‚¬ìš©í•  ë•Œ.

ìš°ì„  DOMì— ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì€ ê±´ë„ˆ ë›°ê³ , react-hook-formê³¼ ê´€ë ¨ëœ **ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ ì œì–´**ì— ê´€í•´ ì•Œì•„ë³´ì.

**react-hook-form**ì˜ ê°€ì¥ í° ëª©ì ì€ í¼í¬ë¨¼ìŠ¤ì´ë©°, **ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸**ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(formik, redux-form ë“±) ì— ë¹„í•´ íƒ€ì´í•‘ì´ë‚˜ ê°’ì´ ë³€ê²½ë  ë•Œ ë¦¬ëœë”ë§ì´ ì¼ì–´ë‚˜ëŠ” ì–‘ì„ ì¤„ì—¬ì¤€ë‹¤.

ì—¬ê¸°ì„œ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë€,Â 

Reactì—ì„œ ì œì–´í•˜ì§€ ì•Šê³ , ë°”ë‹ë¼ JSë¥¼ ì´ìš©í•´ ì œì–´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë¼ í•œë‹¤.

ì‰½ê²Œë§í•´ Reactê°€ ê´€ì—¬í•˜ì§€ ì•ŠëŠ”ë‹¤. (ì¬ì¡°ì •, ë¹„êµ ë“±)

ì´ëŸ° ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ì„œ, DOMì— ì ‘ê·¼í•˜ëŠ” ì—­í• ì„ refê°€ í•œë‹¤.

ì˜ˆë¥¼ë“¤ì–´

```javascript
const [test, setTest] = useState('')
<input value={test} onChange={(e) => setTest(e.target.value)} />
```

ìœ„ì™€ê°™ì´ stateë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê²Œ ë˜ë©´, stateê°€ ë³€í•˜ë©´ì„œ ì´ë¥¼ ì—…ë°ì´íŠ¸ í•˜ê¸° ìœ„í•´ ê³„ì†í•´ì„œ ë¦¬ë Œë”ë§ì´ ëœë‹¤.

<img src="/assets/blog/javaScript/ref.gif" width="100%" alt="post image"/>

ì´ëŠ” Reactì—ì„œ ì œì–´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë‹¤.

ê·¸ëŸ¬ë©´ êµ³ì´ ì¸í’‹ì— ê°’ë§Œ ë³€í•˜ëŠ”ê±´ë° ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

```
  const inputRef = useRef(null)
  const testHandler = (e) => {
    inputRef.current.value = e.target.value
  }
    <input ref={inputRef} onChange={(e) => testHandler(e)} />
```

<img src="/assets/blog/javaScript/ref(1).gif" width="100%" alt="post image"/>

refë¥¼ ì‚¬ìš©í•˜ë©´ ì¸í’‹ê°’ì´ ë³€ê²½ë˜ì–´ë„ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

---

### Ref ì™€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

-   í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ì—†ê¸° ë•Œë¬¸ì—Â **í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì— ref ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**.

ì‚¬ì‹¤ ìœ„ ì˜ˆì œëŠ” í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‘ì„±í•´ì•¼ ì í•©í–ˆì§€ë§Œ, í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œë„ refëŠ” ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë‹¤ë§Œ ìƒíƒœê°’ì´ ë°”ë€” ë•Œ ë§ˆë‹¤ ë‹¤ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì˜ íŠ¹ì„±ë•Œë¬¸ì— ê¸°ì¡´ê³¼ëŠ” ë‹¤ë¥¸ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.

ìœ„ ì˜ˆì œì—ì„œ ì‚¬ìš©í•œ **useRefëŠ” hookìœ¼ë¡œ í•¨ìˆ˜ì˜ ë Œë”ë§ì˜ ìƒê´€ì—†ì´** ìƒíƒœ ê°’ì„ ìœ ì§€í•œë‹¤.

---

### forwardRef

react-hook-formì„ ì‚¬ìš©í•˜ë©´ì„œÂ 

**Warning:Â FunctionÂ componentsÂ cannotÂ beÂ givenÂ refs.Â AttemptsÂ toÂ accessÂ thisÂ refÂ willÂ fail.Â DidÂ youÂ meanÂ toÂ useÂ React.forwardRef()?**

ì´ëŸ° ì—ëŸ¬ë¥¼ ë§Œë‚˜ê²Œ ëëŠ”ë°, ref ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ëœ react-hook-formì´ refë¥¼ **ìì‹ìš”ì†Œ(ì¸í’‹ì»´í¬ë„ŒíŠ¸)ì— ì „ë‹¬**í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œ ì—ëŸ¬ì˜€ë‹¤.

refëŠ” Reactì—ì„œ propsë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²ƒ ì¤‘ì— í•˜ë‚˜ì˜€ëŠ”ë°, ëŒ€í‘œì ì¸ Keyê°’ê³¼ ë™ì¼í•˜ê²Œ **propsë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤**.

Reactì—ì„œ refë¥¼ propsë¡œ ì‚¬ìš©í•˜ë ¤ë©´ forwardRefë¥¼ ì‚¬ìš©í•´ ìì‹ìš”ì†Œë¡œ refë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ forwardRef()í•¨ìˆ˜ë¡œ ê°ì‹¸ì£¼ê³ , propsì™€ refë¥¼ ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```
const Input = forwardRef((props, ref) => {
  return <input ref={ref} />;
});
```

ì¶”ê°€ë¡œ eslint ì—ëŸ¬ë‚˜ ê°œë°œì ë„êµ¬ì—ì„œ forwardRefì‚¬ìš©ì‹œ ì´ë¦„ì´ ë‚˜ì˜¤ì§€ ì•ŠëŠ” ì—ëŸ¬ëŠ”

displayName ì†ì„±ì— ì´ë¦„ì„ ì„¤ì •í•˜ê±°ë‚˜, ìµëª…í•¨ìˆ˜ ëŒ€ì‹  ì´ë¦„ìˆëŠ” í•¨ìˆ˜ë¥¼ ë„˜ê²¨ ì£¼ë©´ ëœë‹¤.

```
Input.displayName = "Input";
```

```
const Input = forwardRef(function Input(props, ref) {
  return <input ref={ref} />;
});
```

---

refëŠ” íŠ¹ì • DOMì— ì ‘ê·¼í•´ ì• ë‹ˆë©”ì´ì…˜ì„ ì´ìš©í• ë•Œë§Œ ì£¼ë¡œ ì‚¬ìš©í–ˆì—ˆëŠ”ë°, ì´ë²ˆ ê¸°íšŒì— ì¡°ê¸ˆ ë” ìì„¸í•˜ê²Œ ë“¤ì—¬ë‹¤ ë³¸ê²ƒ ê°™ë‹¤.ğŸ¤”
3a:T18c7,
ì´ë²ˆì— ìœ ì§€ë³´ìˆ˜í•˜ë©´ì„œ ì§„í–‰í–ˆë˜ TTS (Text-to-Speech)

ë‹¨ì–´ì˜ ë°œìŒì„ ì½ì–´ì£¼ë„ë¡ í•´ì•¼í–ˆë‹¤.

ê²°êµ­ Google TTSë¡œ êµ¬í˜„í•˜ê¸´ í–ˆì§€ë§Œ, ì²˜ìŒì—ëŠ” Speechsynthesisë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í–ˆì—ˆë‹¤.

SppechsynthesisëŠ” (ìŒì„± í•©ì„±) Web Speech APIì´ê³  ì£¼ì–´ì§„ í…ìŠ¤íŠ¸ë¥¼ ì†Œë¦¬ë¡œ ë°”ê¿”ì£¼ëŠ”, ìŒì„± ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì»¨íŠ¸ë¡¤ëŸ¬ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.

---

### Speechsynthesis

IEë¹¼ê³  ë¸Œë¼ìš°ì € ê±°ì˜ ì§€ì›í•œë‹¤.

```javascript
speechSynthesis.getVoices();
```

ë¡œ ì§€ì›í•˜ëŠ” ìŒì„± ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.


<img src="/assets/blog/javaScript/speechsynthesis.png" width="100%" alt="post image"/>

ë¬¸ì œëŠ”,, ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë˜ëŠ” OSë§ˆë‹¤ ì§€ì›í•˜ëŠ” ìŒì„±ì´ ë‹¬ë¼ì„œ ëª¨ë‘ ë™ì¼í•˜ì§€ ëª»í–ˆë‹¤,

ê·¸ë˜ì„œ ëª¨ë°”ì¼ë”°ë¡œ ì›¹ë”°ë¡œ ë¸Œë¼ìš°ì €ë³„ë¡œ ëª©ì†Œë¦¬ê°€ ë‹¤ë¥´ê²Œ ì„¸íŒ…ë˜ì–´ Google TTSë¡œ ë°”ê¾¸ê²Œ ë˜ì—ˆë‹¤.

```javascript
const speech = new SpeechSynthesisUtterance()

// ìŒë†’ì´ì™€ ëª©ì†Œë¦¬ ë“± ì„¤ì •ì´ ê°€ëŠ¥
speech.voice
speech.text
speech.lang
speech.pitch
speech.rate
speech.volume
```

```
// speechSynthesisUtteranceì— ì„¤ì •í•œ ìŒì„± ì‹¤í–‰
window.speechSynthesis.speak(speech)
```

---

### Google TTS

ë‘ê°€ì§€ ë°©ì‹ì´ ìˆì—ˆë‹¤.

í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ API

í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

#### Node.js

```javascript
npm install --save @google-cloud/text-to-speech	//ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜


// Imports the Google Cloud client library
const textToSpeech = require('@google-cloud/text-to-speech');

// Import other required libraries
const fs = require('fs');
const util = require('util');
// Creates a client
const client = new textToSpeech.TextToSpeechClient();
async function quickStart() {
  // The text to synthesize
  const text = 'hello, world!';

  // Construct the request
  const request = {
    input: {text: text},
    // Select the language and SSML voice gender (optional)
    voice: {languageCode: 'en-US', ssmlGender: 'NEUTRAL'},
    // select the type of audio encoding
    audioConfig: {audioEncoding: 'MP3'},
  };

  // Performs the text-to-speech request
  const [response] = await client.synthesizeSpeech(request);
  // Write the binary audio content to a local file
  const writeFile = util.promisify(fs.writeFile);
  await writeFile('output.mp3', response.audioContent, 'binary');
  console.log('Audio content written to file: output.mp3');
}
quickStart();
```

êµ¬ê¸€ì˜ ìƒ˜í”Œì½”ë“œ

ìœ„ ì½”ë“œë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ë‹ˆ output.mp3 íŒŒì¼ì´ ë§Œë“¤ì–´ì§€ê³  ì´ íŒŒì¼ì„ ì¬ìƒí•˜ë©´ ìš”ì²­í•œ textê°€ ì¬ìƒëë‹¤.

í•˜ì§€ë§Œ íŒŒì¼ë„ í•„ìš”ì—†ê³ , ìŒì„±ë§Œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë°›ìœ¼ë©´ ëê¸° ë•Œë¬¸ì— ì¡°ê¸ˆ ë” ì‚´í´ë´¤ëŠ”ë°, reponse ë¶€ë¶„ì—ì„œ arrayBufferì˜ ë²„í¼ë°ì´í„°ê°€ ì°í˜”ê³ , ì´ response ë°ì´í„°ë¥¼ ë°”ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë³´ë‚´ì¤¬ë‹¤.

#### React

```javascript
      const requestAudioFile = async (e) => {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)

            const response = await axios({
                method: 'get',
                url: `http://localhost:4000/exam1`,
                params: {test: e.target.ariaValueText},
                responseType: 'arraybuffer'
            })

            // ë²„í¼ ë°ì´í„° ë¹„ë™ê¸° ë””ì½”ë”©
            const audioBuffer = await audioContext.decodeAudioData(response.data)

            // ì˜¤ë””ì˜¤ source ë§Œë“¤ê¸°
            const gainNode = audioContext.createGain()
            const source = audioContext.createBufferSource()

            // ìƒì„±ëœ sourceì— ì¬ìƒí•  ë°ì´í„° ì„ ì–¸
            source.buffer = audioBuffer
            source.connect(gainNode)

            // ì¬ìƒí•  ìŠ¤í”¼ì»¤ì— source ë„£ê¸°
            gainNode.connect(audioContext.destination)
            source.start()

            console.log('responce', response.data);
            console.log('audioContext', audioContext);
            // -------------- //
            const audioBuffer = await audioContext.decodeAudioData(decode);
            console.log('audioBuffer', audioBuffer);
            //create audio source
              const gainNode = audioContext.createGain()
              const source = audioContext.createBufferSource()
            console.log('source : ', source);

              source.buffer = audioBuffer
              source.connect(gainNode)
              gainNode.connect(audioContext.destination)

            source.start();
        }
```

ì½í˜€ì•¼í•  textë¥¼ paramsë¡œ ë³´ëƒˆê³ , Web Audio API ì˜ AudioContextë¥¼ ì‚¬ìš©í•´ì„œ ë°›ì•„ì˜¨ ë²„í¼ë°ì´í„°ë¥¼ ì½ë„ë¡ í–ˆë‹¤.

ê·¼ë° ëª‡ê°€ì§€ ë¬¸ì œê°€ ë” ìˆì—ˆëŠ”ë°, ëª¨ë°”ì¼ì—ì„œëŠ” ì‘ë™í•˜ì§€ ì•ŠëŠ”ê²ƒ..audio íƒœê·¸ë¥¼ ì´ìš©í•´ ì½í˜€ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë²„íŠ¼ ì»¤ìŠ¤í…€ì´ ë˜ì§€ ì•Šì•˜ë‹¤.

ê·¸ë˜ì„œ ë³€ê²½í•œê²Œ API

```
POST https://texttospeech.googleapis.com/v1/text:synthesize?key='Google API KEY'
```

```json
{
  "input":{
    "text":"Android is a mobile operating system developed by Google, based on the Linux kernel and designed primarily for touchscreen mobile devices such as smartphones and tablets."
  },
  "voice":{
    "languageCode":"en-gb",
    "name":"en-GB-Standard-A",
    "ssmlGender":"FEMALE"
  },
  "audioConfig":{
    "audioEncoding":"MP3"
  }
}
```

ìœ„ì²˜ëŸ¼ ì‘ì„±í•´ POSTìš”ì²­ì„ ë³´ë‚´ë©´Â Â 

```
//NExAARqoIIAAhEuWAAAGNmBGMY4EBcxvABAXBPmPIAF//yAuh9Tn5CEap3/o
...
VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV
```

ìŒì„±ì´ base64 ì¸ì½”ë”© í˜•ì‹ìœ¼ë¡œ ë“¤ì–´ì˜¨ë‹¤.

ë°›ì€ ì¸ì½”ë”©ëœ ìŒì„±ì„

```javascript
const [audioSource, setAudioSource] = useState(null)

const requestAudioFile = async (e) => {
  const response = await axios.post(
      // eslint-disable-next-line no-undef
    `https://texttospeech.googleapis.com/v1/text:synthesize?key=${process.env.REACT_APP_GOOGLE_TTL}`,
    {
      input: {
        text: e?.target?.ariaValueText
      },
      voice: {
        languageCode: 'en-US',
        name: 'en-US-Standard-H',
        ssmlGender: 'FEMALE'
      },
      audioConfig: {
        audioEncoding: 'LINEAR16',
        speakingRate: 1
      }
    }
  );
  setAudioSource(new Audio("data:audio/wav;base64," + response.data?.audioContent));
};

    useEffect(() => {
        audioSource?.play()
    }, [audioSource])
```

new Audio ì˜¤ë””ì˜¤ ê°ì²´ë¥¼ ì´ìš©í•´ ì˜¤ë””ì˜¤ì†ŒìŠ¤ê°€ ë“¤ì–´ì˜¬ë•Œ, ì˜¤ë””ì˜¤ë¥¼ ë§Œë“¤ê³  ì¬ìƒì‹œì¼°ë‹¤.
3b:Tf2b,
**[ìœ ë™ê· ë‹˜ì˜ ê°•ì˜](https://www.inflearn.com/course/%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94-%EB%A6%AC%EC%95%A1%ED%8A%B8-1)ë¥¼ ë³´ë©° ì •ë¦¬í•œ ê¸€ ì…ë‹ˆë‹¤.**

---

### 1\. Layout Shift

ì›ì¸

1\. ì‚¬ì´ì¦ˆê°€ ì •í•´ì ¸ ìˆì§€ ì•Šì€ ì´ë¯¸ì§€

2\. ì‚¬ì´ì¦ˆê°€ ì •í•´ì ¸ ìˆì§€ ì•Šì€ ê´‘ê³ 

3\. ë™ì ìœ¼ë¡œ ì‚½ì…ëœ ì½˜í…ì¸ 

4\. Web font (FOIT, FOUT)

<img src="/assets/blog/javaScript/web-optimization-3-1.png" width="100%" alt="post image"/>

ì—¬ëŸ¬ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•  ë•Œ, ë¨¼ì € ë¶ˆëŸ¬ì˜¨ ì´ë¯¸ì§€ ìë¦¬ë¥¼ ë‚˜ì¤‘ì— ë¶ˆëŸ¬ì˜¨ ì´ë¯¸ì§€ê°€ ë°€ì–´ë‚´ê²Œ ë˜ë©´ì„œ ë ˆì´ì•„ì›ƒ ë³€ê²½ì´ ê³„ì† ë°œìƒí•œë‹¤.

```js
<ImageWrap>
  <Image />
</ImageWrap>
```

ì´ë•Œ Wrapì— ê³ ì •ê°’ì„ ì •í•´ì£¼ê³  ImageëŠ” ê·¸ ê°’ì„ ë”°ë¼ê°€ê¸°ë§Œ í•˜ë©´ ëœë‹¤. ì—¬ê¸°ì„œëŠ” 16:9 ë¹„ìœ¨ë¡œ ì§€ì •í•˜ê¸° ìœ„í•´ 9 / 16 = 56.25%ë¡œ ë†’ì´ë¥¼ ì¡ê³  Imageë¥¼ ê·¸ ì•ˆì— ë„£ëŠ” ë°©ì‹ìœ¼ë¡œ í–ˆë‹¤.

<img src="/assets/blog/javaScript/web-optimization-3-2.png" width="100%" alt="post image"/>

ì»¨í…ì¸ ê°€ ìƒˆë¡œ ë“¤ì–´ì˜¤ë©´ì„œ ê¸°ì¡´ ì»¨í…ì¸ ë¥¼ ë°€ì–´ë‚´ì§€ ì•Šë„ë¡ ì»¨í…ì¸ ë¥¼ ê·¸ë ¤ì¤„ ê³³ì— ë¯¸ë¦¬ ìë¦¬ë¥¼ ë§Œë“¤ì–´ ë†“ëŠ”ê²ƒì´ë‹¤.

---

### 2\. React-lazyload

```shell
npm i react-lazyload
```

ê°•ì˜ì—ì„œëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, ë‹¤ìŒì—” ìŠ¤ìŠ¤ë¡œ êµ¬í˜„í•´ í¬ìŠ¤íŒ…í•´ì•¼ê² ë‹¤.

ìŠ¤í¬ë¡¤ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ë‹¤.

---

### 3\. useSelect ë Œë”ë§ ë¬¸ì œ

<img src="/assets/blog/javaScript/web-optimization-3-3.png" width="100%" alt="post image"/>

ë¦¬ì•¡íŠ¸ dev-toolì—ì„œ Highlight updates ... ë¥¼ ì²´í¬í•´ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ëŠ”ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

useSelectorëŠ” dispatchë¡œ Redux Storeê°€ ë³€ê²½ë˜ë©´ êµ¬ë…í•˜ê³  ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì— stateê°€ ë³€ê²½ë˜ì—ˆë‹¤ê³  ì•Œë ¤ì¤€ë‹¤.

ê·¸ëŸ¼ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ê¸°ì¡´ stateì™€ ì—…ë°ì´íŠ¸ëœ stateë¥¼ ë¹„êµí•´ ê°’ì´ ë‹¤ë¥´ë©´ ë‹¤ì‹œ ë Œë”ë§ í•˜ê²Œ ëœë‹¤.

ì—¬ê¸°ì„œ ë¹„êµí•˜ëŠ” ë°©ì‹ì€ useSelectorì˜ ë¦¬í„´ê°’ì„ ë¹„êµí•˜ëŠ”ë°

```js
const { modalVisible, bgColor, src, alt } = useSelector(state => ({
  modalVisible: state.modalVisible,
  bgColor: state.bgColor,
  src: state.src,
  alt: state.alt,
}));
```

ë¦¬í„´ê°’ì„ ì˜¤ë¸Œì íŠ¸ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë©´, ê°’ì„ ìƒì„±í•  ë•Œ ë§ˆë‹¤ ìƒˆë¡œìš´ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì— ë§¤ë²ˆ ìƒˆë¡­ê²Œ ë Œë”ë§í•˜ê²Œ ëœë‹¤.

```js
const modalVisible = useSelector(state => state.modalVisible)
const bgColor = useSelector(state => state.bgColor)
const src = useSelector(state => state.src)
const alt = useSelector(state => state.alt)
```

ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒˆë¡­ê²Œ ë§Œë“¤ì§€ ì•Šë„ë¡ stateë¥¼ ìª¼ê°œê³  ìƒˆë¡œìš´ Equality Functionì„ ì‚¬ìš©í•´ì•¼í•œë‹¤.

```js
const { modalVisible, bgColor, src, alt } = useSelector(state => ({
  modalVisible: state.modalVisible,
  bgColor: state.bgColor,
  src: state.src,
  alt: state.alt,
}), shallowEqual);
```

---

### 4\. Redux Reselect

stateì˜ ê°’ë“¤ì„ ê°€ì§€ê³  ê°€ê³µí•´ì•¼ë˜ëŠ” ê°’ì´ ìˆì„ ë•Œ useSelectorë‚´ë¶€ì—ì„œ ê°€ê³µí•´ ê°’ì„ ì¤€ë‹¤.

```js
const selectFilteredPhotos = createSelector([selectê°’], (selectê°’) => (ê°€ê³µí•  ê²°ê³¼ë¥¼ ë¦¬í„´)
const photos = useSelector(selectFilteredPhotos)
```

ë˜ ë©”ëª¨ì´ì œì´ì…˜ ë°©ì‹ì„ í†µí•´ ê°’ì„ ë¹„êµí•˜ë¯€ë¡œ ë¶ˆí•„ìš”í•œ ê³„ì‚°ë„ ì—†ì• ì¤€ë‹¤.

selectê°’ì´ ê°™ì€ ê°’ìœ¼ë¡œ ë“¤ì–´ì˜¤ë©´ ë¯¸ë¦¬ ìºì‹±í•´ë‘” ê°’ê³¼ ë¹„êµí•´ ê°’ì´ ë³€í•˜ì§€ ì•Šìœ¼ë©´ ê·¸ëŒ€ë¡œ ë¦¬í„´í•œë‹¤.

---

### 5\. Memoization ì ìš©

ì¸í’‹ì— ë”°ë¼ ì•„ì›ƒí’‹ì— ë‚˜ì˜¤ëŠ” ê°’ì— ëŒ€í•´ì„œ ë¯¸ë¦¬ ì €ì¥í•´ ë†“ëŠ” ê¸°ë²•ì´ë‹¤.

a -> Aê°€ ì•„ì›ƒí’‹ì´ë‹¤ ë¼ê³  í• ë•Œ, ë‹¤ìŒë²ˆì— ë˜ aê°€ ë“¤ì–´ì˜¤ë©´ ë¡œì§ì„ ì¼ì¼íˆ ì‹¤í–‰í•˜ì§€ì•Šê³  ì €ì¥í•´ë‘” ê°’ Aë¥¼ ë°”ë¡œ ë¦¬í„´í•˜ê²Œ ëœë‹¤.

ìˆœìˆ˜í•¨ìˆ˜ë§Œ ê°€ëŠ¥

ê·¸ë ‡ë‹¤ê³  ë¬´ì§€ì„±ìœ¼ë¡œ ì“°ëŠ”ê±´ ì¢‹ì§€ ì•Šë‹¤.

ë©”ëª¨ì´ì œì´ì…˜ì´ ë¶ˆí•„ìš”í•œ í•¨ìˆ˜ì— ì ìš©í•˜ëŠ”ê±´ ì˜¤íˆë ¤ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ë  ìˆ˜ ìˆë‹¤.
3c:T2721,
**[ìœ ë™ê· ë‹˜ì˜ ê°•ì˜](https://inf.run/4zeg)ë¥¼ ë³´ë©° ì •ë¦¬í•œ ê¸€ ì…ë‹ˆë‹¤.**

---

### 1\. ì´ë¯¸ì§€ ì§€ì—°(lazy) ë¡œë”©

<img src="/assets/blog/javaScript/web-optimization-2-1.png" width="100%" alt="post image"/>

ì˜ˆì œì—ì„œ ë„¤íŠ¸ì›Œí¬ë¥¼ 6ë©”ê°€ë¹„íŠ¸ë¡œ ë§ì¶°ë†“ì•˜ë‹¤.

ì œì¼ ë¨¼ì € ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì ¸ì•¼í•  ë™ì˜ìƒì´ ì´ë¯¸ì§€ ë³´ë‹¤ ë” ëŠ¦ê²Œ ë‹¤ìš´ë¡œë“œ ë˜ëŠ” ë¶€ë¶„ì„ ë™ì˜ìƒì´ ë¨¼ì € ë‹¤ìš´ë¡œë“œ ë˜ë„ë¡ ìˆ˜ì •í•´ì•¼í•œë‹¤.

-   ì´ë¯¸ì§€ë¥¼ ë¹ ë¥´ê²Œ ë‹¤ìš´ë¡œë“œ
-   **ì´ë¯¸ì§€ë¥¼ ë‚˜ì¤‘ì— ë‹¤ìš´ë¡œë“œ, ë™ì˜ìƒ ë¨¼ì € ë‹¤ìš´ë¡œë“œ**

ë‘ë²ˆì§¸ ë°©ë²•ì„ ì‚¬ìš©í•´ ìˆ˜ì •(image lazy)

ì´ë¯¸ì§€ë¥¼ í•„ìš”í• ë•Œ(ë‚˜ì¤‘ì—, ë³´ì—¬ì§€ê¸° ì§ì „ì—) ë¡œë“œë˜ë„ë¡ í•´ì•¼í•œë‹¤.

ìŠ¤í¬ë¡¤ì´ ì´ë¯¸ì§€ê°€ ìˆëŠ” ê³³ì— ë„ë‹¬í•˜ë©´ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë³´ì´ì§€ ì•Šë„ë¡ í•´ì•¼í•˜ëŠ”ë°,

ì´ ë°©ë²•ì€ ì‚¬ìš©ìê°€ ë§¤ë²ˆ ìŠ¤í¬ë¡¤ì„ í•  ë•Œë§ˆë‹¤ ì´ë²¤íŠ¸í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë‹¨ì ì´ ìˆë‹¤.

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ **IntersectionObserver**ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ì¦‰ í™”ë©´ì— íŠ¹ì • ì´ë¯¸ì§€ê°€ ë“¤ì–´ì˜¬ ë•Œë§Œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.

[https://developer.mozilla.org/ko/docs/Web/API/Intersection\_Observer\_API](https://developer.mozilla.org/ko/docs/Web/API/Intersection_Observer_API)

```js
const observer = new IntersectionObserver(callback, options)
observer.observe(elementê°ì²´)
```

```js
    const imgRef = useRef(null)

   useEffect(() => {
      const options = {}
      const callback = () => {
         console.log('callback')
      }
      const observer = new IntersectionObserver(callback, options)

      observer.observe(imgRef.current)
   }, [])


   return (
      <div className="Card text-center">
         <img src={props.image} ref={imgRef} />
         <div className="p-5 font-semibold text-gray-700 text-xl md:text-lg lg:text-xl keep-all">
            {props.children}
         </div>
      </div>
   )
}
```

<img src="/assets/blog/javaScript/web-optimization-2-2.png" width="100%" alt="post image"/>

ìŠ¤í¬ë¡¤ì„ ë‚´ë ¤ ì´ë¯¸ì§€ê°€ **ë³´ì´ê±°ë‚˜ ì‚¬ë¼ì§ˆë•Œ** ì½˜ì†”ì´ ì°íŒë‹¤.

ì´ë¯¸ì§€ê°€ ë³´ì´ëŠ” ê·¸ ìˆœê°„ì—ë§Œ ë¡œë“œí•˜ë ¤ë©´ callback í•¨ìˆ˜ì— entriesì™€ observerê°ì²´ë¥¼ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.

```js
useEffect(() => {
   const options = {}
   const callback = (entries, observer) => {
      entries.forEach(entry => {
         if(entry.isIntersecting){
            console.log('is Intersecting')
         }
      })
   }
   const observer = new IntersectionObserver(callback, options)

   observer.observe(imgRef.current)
}, [])
```

<img src="/assets/blog/javaScript/web-optimization-2-3.png" width="100%" alt="post image"/>

ìœ„ì™€ëŠ” ë‹¤ë¥´ê²Œ í™”ë©´ì•ˆì— ì´ë¯¸ì§€ê°€ **ë³´ì¼ ë•Œë§Œ** ì½˜ì†”ì´ ì°íŒë‹¤.

```js
    const imgRef = useRef(null)

    useEffect(() => {
        const options = {}
        const callback = (entries, observer) => {
            entries.forEach(entry => {
                if(entry.isIntersecting){
                    console.log('is Intersecting', entry.target.dataset.src)
                    entry.target.src = entry.target.dataset.src
                    // ì´ë¯¸ì§€ê°€ ë“¤ì–´ì˜¤ë©´ ë”ì´ìƒ ê°ì‹œí•˜ì§€ ì•ŠìŒ
                    observer.unobserve(entry.target)
                }
            })
        }
        const observer = new IntersectionObserver(callback, options)
        // ì´ë¯¸ì§€ë¥¼ ë„£ìŒ
        observer.observe(imgRef.current)
    }, [])


    return (
        <div className="Card text-center">
            <img data-src={props.image} ref={imgRef}/>
            <div className="p-5 font-semibold text-gray-700 text-xl md:text-lg lg:text-xl keep-all">
                {props.children}
            </div>
        </div>
    )
}
```

<img src="/assets/blog/javaScript/web-optimization-2-4.png" width="100%" alt="post image"/>

ë™ì˜ìƒì„ ë¨¼ì € ë¡œë“œí•˜ê³ , ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜´

---

### 2\. ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ ìµœì í™”

ìœ„ì—ì„œ ì§€ì—°ë¡œë”©ì„ ì‚¬ìš©í•´ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” íƒ€ì´ë°ì„ ì¡°ì ˆí–ˆì§€ë§Œ ê·¸ë˜ë„ ì´ë¯¸ì§€ ìì²´ì˜ ìš©ëŸ‰ì´ í¬ë‹¤ë©´ ë¶ˆëŸ¬ì˜¤ëŠ” ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ë°–ì— ì—†ë‹¤.

ì´ë¯¸ì§€ í¬ë§·, í™•ì¥ì ì¢…ë¥˜

- JPGë¥¼ **WEBP**(êµ¬ê¸€ì—ì„œ ë‚˜ì˜¨ ì´ë¯¸ì§€ í¬ë§·, JPGì— ë¹„í•´ì„œ í™”ì§ˆì´ë†’ê³  ìš©ëŸ‰ì´ ë‚®ìŒ)ë¡œ ë³€ê²½,

* ê¼­ WEBPë¡œ í• í•„ìš”ëŠ” ì—†ë‹¤ (**WEBP, WEBM**ì€ í˜„ì¬ ì˜ ì“°ì§€ ì•ŠëŠ”ë‹¤) í˜„ì¬ ì§€ì›í•˜ì§€ì•ŠëŠ” ë¸Œë¼ìš°ì €ë„ ìˆìŒ

**picture** íƒœê·¸ë¡œ ì´ë¯¸ì§€ ë¶„ê¸°(ë‚˜ì¤‘ì— ìì„¸í•˜ê²Œ ë°°ì›Œë³´ì)

```html
<picture>
   <source  data-srcset={props.webp} type='image/webp'/>
   <img data-src={props.image} ref={imgRef}/>
</picture>
```

ì´ë¯¸ì§€ í¬ë§·ì€ [https://squoosh.app/](https://squoosh.app/) ë¥¼ ì‚¬ìš©í–ˆë‹¤.

<img src="/assets/blog/javaScript/web-optimization-2-5.png" width="100%" alt="post image"/>

ì˜ˆì œì—ì„œ ë¸Œë¼ìš°ì €ì— ë³´ì¼ í¬ê¸°ëŠ” 300 x 300 ì´ë¯€ë¡œ **x2**ë¥¼í•´ 600 x 600ìœ¼ë¡œ í¬ë§·

ì´ë¯¸ì§€ê°€ 9.74MBì—ì„œ **21.9KB**ë¡œ ì¤„ì—ˆë‹¤.

---

### 3\. ë™ì˜ìƒ ì‚¬ì´ì¦ˆ ìµœì í™”

ë™ì˜ìƒì´ ë©”ì¸ ì»¨í…ì¸ ê°€ ì•„ë‹Œ ê²½ìš° ì í•©

ë™ì˜ìƒë„ **WEBM**ìœ¼ë¡œ í¬ë§·

```html
<video
   className="absolute translateX--1/2 h-screen max-w-none min-w-screen -z-1 bg-black min-w-full min-h-screen"
   autoPlay
   loop
   muted
>
   <source src={video_webm} type='video/webm' />
   <source src={video} type='video/mp4' />
</video>
```

---

### 4\. í°íŠ¸ ìµœì í™”

í°íŠ¸ë„ ë¦¬ì†ŒìŠ¤ë¼ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë°›ì•„ì˜¨ë‹¤.

- ì›¹ í°íŠ¸ì˜ ë¬¸ì œì 

**FOUT**(Flash of Unstyled Text) = í°íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œ í•˜ê¸° ì „ì—ëŠ” **ê¸°ë³¸í°íŠ¸ë¡œ ì»¨í…ì¸ **ë¥¼ ë³´ì—¬ì¤Œ

**FOIT**(Flash of Invisible Text) = í°íŠ¸ê°€ ë‹¤ìš´ë¡œë“œ ë˜ê¸° ì „ì—ëŠ” **ì»¨í…ì¸ ë¥¼ ë³´ì—¬ì£¼ì§€ ì•ŠìŒ**

1. í°íŠ¸ ì ìš© ì‹œì  ì»¨íŠ¸ë¡¤

-   font-display ì‚¬ìš©
    \- auto : ë¸Œë¼ìš°ì € ê¸°ë³¸ ë™ì‘
    \- block : FOIT (timeout = 3s)
    \- swap : FOUT
    \- fallback : FOIT (timeout = 0.1s) 0.1ì´ˆ í›„ì—ë„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í•˜ë©´ **ê¸°ë³¸ í°íŠ¸ ìœ ì§€**, ì´í›„ì— ìºì‹œ
    \- optional : FOIT (timeout = 0.1s) ì´í›„ ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ **ê¸°ë³¸í°íŠ¸ë¡œ ìœ ì§€í• ì§€ ì›¹í°íŠ¸ë¥¼ ì ìš©í• ì§€ ê²°ì •**, ì´í›„ì— ìºì‹œ

```css
@font-face {
	font-family: BMYEONSUNG;
	src: url('./assets/fonts/BMYEONSUNG.ttf');
	font-display: swap;
}â€‹
```

<img src="/assets/blog/javaScript/web-optimization-2-6.gif" width="100%" alt="post image"/>

-   fontfaceobserver ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ ì‹œê°ì ì¸ íš¨ê³¼

```css
@font-face {
   font-family: BMYEONSUNG;
   src: url('./assets/fonts/BMYEONSUNG.ttf');
   font-display: block;
}
```

```js
const [isFontLoaded, setIsFontLoaded] = useState(false)

const font = new FontFaceObserver('BMYEONSUNG');

useEffect(() => {
   font.load().then(function () {
      console.log('BMYEONSUNG has loaded');
      setIsFontLoaded(true)
   });
}, [])

return (
    <div className="..." style={{opacity: isFontLoaded ? 1 : 0, transition: 'opacity 0.3s ease'}} >
        <div className="...">
            {...}
        </div>
    </div>
)
```

2. í°íŠ¸ ì‚¬ì´ì¦ˆ ì¤„ì´ê¸°

í°íŠ¸ í¬ë©§ ì‚¬ì´íŠ¸ [https://transfonter.org/](https://transfonter.org/)

- ì›¹í°íŠ¸ í¬ë§· ì‚¬ìš© (íŒŒì¼ í¬ê¸° = EOT > TTF/OTF > WOFF > WOFF2)

```css
@font-face {
   font-family: BMYEONSUNG;
       /* ë¡œì»¬ì— í°íŠ¸ê°€ ìˆìœ¼ë©´ ë°”ë¡œ ì ìš©*/
   src: local('BMYEONSUNG'),
       url('./assets/fonts/BMYEONSUNG.woff2') format('woff2'),
       /* ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì € ëŒ€ì‘ */
       url('./assets/fonts/BMYEONSUNG.woff') format('woff'),
       url('./assets/fonts/BMYEONSUNG.ttf') format('truetype');
   font-display: block;
}
```

- local í°íŠ¸ ì‚¬ìš©

- **Subset** ì‚¬ìš©

í•„ìš”í•œ ê¸€ìë§Œ ê°€ì ¸ì™€ì„œ ì‚¬ìš© "ABCDEFGHIJKLMNOPQR"

<img src="/assets/blog/javaScript/web-optimization-2-7.png" width="100%" alt="post image"/>

ë³€í™˜í•˜ì§€ ì•Šì€ í°íŠ¸ëŠ” í¬í•¨ë˜ì§€ ì•ŠìŒ

- **Unicode Range** ì ìš©

```css
@font-face {
   font-family: BMYEONSUNG;
        /* ë¡œì»¬ì— í°íŠ¸ê°€ ìˆìœ¼ë©´ ë°”ë¡œ ì ìš©*/
   src: url('./assets/fonts/subset-BMYEONSUNG.woff2') format('woff2'),
        /* ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì € ëŒ€ì‘ */
        url('./assets/fonts/subset-BMYEONSUNG.woff') format('woff'),
        url('./assets/fonts/BMYEONSUNG.ttf') format('truetype');
   font-display: block;
   unicode-range: U+0041;
}
```

<img src="/assets/blog/javaScript/web-optimization-2-8.png" width="100%" alt="post image"/>

Subsetì€ ë Œë”ë§ í•˜ëŠ” í…ìŠ¤íŠ¸ì— í°íŠ¸ê°€ í•„ìš”í•˜ì§€ ì•Šì•„ë„ í°íŠ¸ë¥¼ ë¡œë“œí•˜ì§€ë§Œ unicode-rangeë¥¼ ì‚¬ìš©í•˜ë©´ í°íŠ¸ê°€ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©´ ë¡œë“œí•˜ì§€ ì•ŠëŠ”ë‹¤

- data-urië¡œ ë³€í™˜

Base64 encode í•´ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹

- **Preload**

í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ì— í°íŠ¸ê°€ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ HTMLì— ì‘ì„±

```html
<link rel="preload" href="BMYEONSUNG.woff2" as="font" type="font/woff2" crossorigin>
```

<img src="/assets/blog/javaScript/web-optimization-2-9.png" width="100%" alt="post image"/>

CSSê°€ ë¡œë“œë˜ê¸° ì „ì— í°íŠ¸ê°€ ë¨¼ì € ë¡œë“œë¨

---

### 5\. ìºì‹œ ìµœì í™”

ì›¹ ë¸Œë¼ìš°ì €ëŠ” í¬ê²Œ ë©”ëª¨ë¦¬ ìºì‹œ, ë””ìŠ¤í¬ ìºì‹œ ë‘ê°€ì§€ë¡œ ìºì‹±í•œë‹¤.

**ë©”ëª¨ë¦¬ ìºì‹œëŠ” RAM**ì— ì €ì¥, **ë””ìŠ¤í¬ ìºì‹œëŠ” fileë¡œ ë°ì´í„°**ë¥¼ ì €ì¥

- Cache-Control

ë¸Œë¼ìš°ì € ì´ë¯¸ì§€ ìš”ì²­ -> ì„œë²„

ì„œë²„ -> ë¸Œë¼ìš°ì €ì— ì´ë¯¸ì§€(ìºì‹œ) ë³´ëƒ„

* ì„œë²„ì—ì„œ ì„¤ì •ì´ í•„ìš”

-   no-cache : ìºì‹œë¥¼ ì‚¬ìš©í•˜ê¸° ì „ì— ì„œë²„ì—ì„œ ê²€ì‚¬ í›„ ì‚¬ìš© ê²°ì •
-   no-store : ìºì‹œ ì‚¬ìš© ì•ˆí•¨
-   public : ëª¨ë“  í™˜ê²½ì—ì„œ ì‚¬ìš©
-   private : ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œë§Œ ìºì‹œ ì‚¬ìš©, ì™¸ë¶€ ìºì‹œ ì„œë²„ì—ì„œëŠ” ì‚¬ìš© ë¶ˆê°€
-   max-age : ìºì‹œì˜ ìœ íš¨ì‹œê°„

- Node

```js
const header = {
    setHeaders: (res, path) => {
    	if(path.endsWith('.html')){
        	res.setHeader('Cache-Control', no-cache)
        } else if(path.endsWith('.js') || path.endsWith('css') || path.endsWith('.webp')){
        	res.setHeader('Cache-Control', 'public, max-age=...'
        } else {
        	res.setHeader('Cache-Control', 'no-store')
        }
    },
}
```
3d:T1f48,
**[ìœ ë™ê· ë‹˜ì˜ ê°•ì˜](https://www.inflearn.com/course/%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94-%EB%A6%AC%EC%95%A1%ED%8A%B8-1)ë¥¼ ë³´ë©° ì •ë¦¬í•œ ê¸€ ì…ë‹ˆë‹¤.**

---

### 1\. êµ¬ê¸€ ê°œë°œì ë„êµ¬ Audits(LightHouse) íˆ´ì„ ì´ìš©í•œ í˜ì´ì§€ ê²€ì‚¬

<img src="/assets/blog/javaScript/web-optimization1.png" width="100%" alt="post image"/>
<img src="/assets/blog/javaScript/web-optimization2.png" width="100%" alt="post image"/>

**Opportunities** = ë¦¬ì†ŒìŠ¤ì˜ ê´€ì (ë¡œë”©ì„±ëŠ¥)

**Diagnostics** = í˜ì´ì§€ì˜ ì‹¤í–‰ ê´€ì (ë Œë”ë§)

---

### 2\. ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ ìµœì í™” - ë¡œë”© ì„±ëŠ¥

<img src="/assets/blog/javaScript/web-optimization3.png" width="100%" alt="post image"/>

ì‹¤ì œ ì´ë¯¸ì§€ì™€ ë Œë”ë§ëœ ì´ë¯¸ì§€ì˜ í¬ê¸°ê°€ ë‹¤ë¥´ë‹¤

ë³´í†µ ì´ë¯¸ì§€ëŠ” x2ì˜ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©

apië¥¼ í†µí•´ ë°›ì•„ì˜¨ ì´ë¯¸ì§€ë¥¼ ì¡°ì ˆí•˜ë ¤ë©´?

**Image CDN**(image processing Contents Delivery Network) - ì´ë¯¸ì§€ ê°€ê³µ â†’ ì†Œë¹„ì

CDN êµ¬ì¶•ì€ ì§„í–‰í•˜ì§€ ì•Šì•˜ë‹¤.

---

### 3\. performance

í¬ë¡¬ ê°œë°œìë„êµ¬ -> ì„±ëŠ¥ì—ì„œ ìƒˆë¡œê³ ì¹¨ì„ ëˆ„ë¥´ë©´ í˜ì´ì§€ì˜ ì‘ì—…ì„ ë¶„ì„í•´ì¤€ë‹¤.

<img src="/assets/blog/javaScript/web-optimization4.png" width="100%" alt="post image"/>
<img src="/assets/blog/javaScript/web-optimization5.png" width="100%" alt="post image"/>

1.  HTMLíŒŒì‹±
2.  JS ë¡œë“œ
3.  ì²« í˜ì¸íŒ… ì´í›„ API í˜¸ì¶œ

- ë¦¬ì•¡íŠ¸ëŠ” í”„ë ˆì„ì°¨íŠ¸ì—ì„œ ê° ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ì‹œê°„ì´ ë³´ì—¬ì§„ë‹¤.

---

### 4\. Route-based code Splitting

ì½”ë“œ ìŠ¤í”Œë¦¿íŒ…ì€ webpack, rollup ë“±ê³¼ ê°™ì€ ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ë¥¼ ì´ìš©í•˜ì—¬ ë§Œë“¤ì–´ì§„ í•˜ë‚˜ì˜ ë²ˆë“¤ íŒŒì¼ì„ ì—¬ëŸ¬ ê°œì˜ ë²ˆë“¤ íŒŒì¼ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

í•˜ë‚˜ì˜ ë²ˆë“¤íŒŒì¼ì„ ì—¬ëŸ¬ê°œë¡œ ë‚˜ëˆ„ë©´ ê·¸ë§Œí¼ ë¡œë“œ ì†ë„ê°€ ë¹¨ë¼ì§„ë‹¤.

```js
import React, {Suspense, lazy} from 'react'
import { Switch, Route } from 'react-router-dom'
import './App.css'
// import ListPage from './pages/ListPage/index'
// import ViewPage from './pages/ViewPage/index'

const ListPage = lazy(() => import('./pages/ListPage/index'))
const ViewPage = lazy(() => import('./pages/ViewPage/index'))

function App() {
  return (
    <div className="App">
        <Suspense fallback={<div>ë¡œë”© ì¤‘...</div>}>
          <Switch>
            <Route path="/" component={ListPage} exact />
            <Route path="/view/:id" component={ViewPage} exact />
          </Switch>
        </Suspense>
    </div>
  )
}

export default App
```

import()ë¥¼ **lazy**ë¼ëŠ” í•¨ìˆ˜ ì•ˆì— ë„£ê³ , **Suspense**ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ê´€ë¦¬ë¥¼ í•´ì¤„ ìˆ˜ ìˆë‹¤.

ë°ì´í„°ê°€ ë¡œë”©ì¤‘ì— ìœ ì €ì—ê²Œ ë¹„ì–´ìˆëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë³´ì´ê²Œ ë˜ëŠ”ë°, Suspenseë¥¼ ì‚¬ìš©í•´ì„œ ì´ ë¡œë”©ì¤‘ì¸ ìƒíƒœì¼ ë•Œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.

SuspenseëŠ” fallbackì„ ë°›ì•„ importí•˜ëŠ” ë„ì¤‘ì— ë„ì–´ì¤€ë‹¤.

í˜ì´ì§€ê°€ ë¡œë“œë  ë•Œ ê·¸ í˜ì´ì§€ ì•ˆì—ì„œ ë³´ì´ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì¡´ì¬í•  ìˆ˜ ìˆëŠ”ë°, ì´ ë¶€ë¶„ì„ ìŠ¤í”Œë¦¬íŒ…í•´ ê´€ë¦¬ í•  ìˆ˜ë„ ìˆë‹¤.

---

### 5\. ì• ë‹ˆë©”ì´ì…˜ ìµœì í™”

ì¼ë°˜ì ì¸ ëª¨ë‹ˆí„°ëŠ” ì´ˆë‹¹ 60FPS, ë¸Œë¼ìš°ì €ë„ ì´ˆë‹¹ 60FPSë¡œ í™”ë©´ì„ ê·¸ë¦¬ê²Œ ëœë‹¤.

ì—¬ê¸°ì„œ ë¸Œë¼ìš°ì €ê°€ 60FPS ì•„ë˜ë¡œ ê·¸ë¦¬ê²Œ ëœë‹¤ë©´ ìŸí¬ í˜„ìƒì´ ë°œìƒí•¨.

<img src="/assets/blog/javaScript/web-optimization6.png" width="100%" alt="post image"/>

1. DOM + CSSOM

<img src="/assets/blog/javaScript/web-optimization7.png" width="100%" alt="post image"/>

2. Render Tree

<img src="/assets/blog/javaScript/web-optimization8.png" width="100%" alt="post image"/>

ìœ„ DOMê³¼ CSSOMì„ ì¡°í•©í•´ RenderTreeë¥¼ ë§Œë“¤ì–´ ë‚¸ë‹¤.

3. Layout

<img src="/assets/blog/javaScript/web-optimization9.png" width="100%" alt="post image"/>

ìœ„ì¹˜ë‚˜ í¬ê¸°ë¥¼ ê³„ì‚°í•´ í™”ë©´ì— ë ˆì´ì•„ì›ƒì„ ê·¸ë¦°ë‹¤.

4. Paint

ì´ë ‡ê²Œ ê·¸ë ¤ì§„ ë ˆì´ì•„ì›ƒìœ„ì— ìƒ‰ì„ ì±„ì›Œë„£ìŒ

5. Composite

<img src="/assets/blog/javaScript/web-optimization10.png" width="100%" alt="post image"/>

ê° ë ˆì´ì–´ë“¤ì„ í•©ì„±í•˜ëŠ” ê³¼ì •

ì´ ì „ì²´ì˜ ê³¼ì •ì„ Critical Rendering Path, Pixel Pipeline ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

ì´ ì™„ì„±ëœ ìƒíƒœì—ì„œ ë³€í™”ê°€ ìƒê¸´ë‹¤ë©´ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ ë‹¤ì‹œ ì´ ì „ì²´ì˜ ê³¼ì •ì„ ê±°ì¹˜ê²Œ ëœë‹¤.

- width, heightê°€ ë³€ê²½ë˜ë©´, **1 -> 2 -> 3 -> 4 -> 5** ëª¨ë‘ ì‹¤í–‰ë˜ê²Œ ëœë‹¤ **(Reflow)**

- í¬ê¸°ë‚˜ ìœ„ì¹˜ê°€ ì•„ë‹ˆë¼ color, background-color(ìƒ‰ê¹”)ì´ ë³€ê²½ëì„ë• **1 -> 2 -> 4 -> 5** **(Repaint)**

- transform, opacity ë“±(GPUê°€ ê´€ì—¬í•˜ëŠ” ì†ì„±) ë³€ê²½ì¼ ë•Œ **1 -> 2 -> 5**

ë”°ë¼ì„œ transform, opacity ë“±(GPUê°€ ê´€ì—¬í•˜ëŠ” ì†ì„±)ì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ê°€ì¥ ë¹ ë¥´ê³  ëŠê¹€ì—†ì´ ë³´ì—¬ì¤„ ìˆ˜ ìˆë‹¤.

<img src="/assets/blog/javaScript/web-optimization11.png" width="100%" alt="post image"/>

---

### 6\. ì»´í¬ë„ŒíŠ¸ Lazy Loading, Preload

ìœ„ì—ì„œ í–ˆë˜ê²ƒ ì²˜ëŸ¼ ì´ë¯¸ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ëª¨ë‹¬ë§Œ ë”°ë¡œ ìŠ¤í”Œë¦¿íŒ… í•  ìˆ˜ìˆë‹¤.

```js
import React, { useState, Suspense, lazy } from 'react'
import styled from 'styled-components'
import Header from './components/Header'
import InfoTable from './components/InfoTable'
import SurveyChart from './components/SurveyChart'
import Footer from './components/Footer'

const LazyImageModal = lazy(() => import('./components/ImageModal'))

function App() {
    const [showModal, setShowModal] = useState(false)

    return (
        <div className="App">
            <Header />
            <InfoTable />
            <ButtonModal onClick={() => { setShowModal(true) }}>ì˜¬ë¦¼í”½ ì‚¬ì§„ ë³´ê¸°</ButtonModal>
            <SurveyChart />
            <Footer />
            <Suspense fallback={null}>
                {showModal ? <LazyImageModal closeModal={() => { setShowModal(false) }} /> : null}
            </Suspense>
        </div>
    )
}
```

#### Lazy Loadingì˜ ë‹¨ì 

<img src="/assets/blog/javaScript/web-optimization12.png" width="100%" alt="post image"/>

ìš°ë¦¬ê°€ ëª¨ë‹¬ì„ í´ë¦­í•œìˆœê°„ ëª¨ë‹¬ì— ê´€ë ¨ëœ íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ê³  JSë¥¼ Evaluateí•œë‹¤.

ì´ê²Œ ëë‚˜ê³  ì‹¤ì œë¡œ ëª¨ë‹¬ì„ ë„ìš°ëŠ” ì½”ë“œê°€ ì‹¤í–‰ëœë‹¤.

ìµœì´ˆ í˜ì´ì§€ì—ì„œëŠ” ì„±ëŠ¥ì´ ì¡°ê¸ˆ ë¹¨ë¼ì¡Œì§€ë§Œ ëª¨ë‹¬ì„ ë„ìš¸ ë•ŒëŠ” ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ë” ëŠë ¤ì¡Œë‹¤.

#### **\- ì»´í¬ë„ŒíŠ¸ Preload**

<img src="/assets/blog/javaScript/web-optimization13.png" width="100%" alt="post image"/>

ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ì„œ ëª¨ë‹¬ì„ ì—´ê¸° ì´ì „ì— ëª¨ë‹¬ê³¼ ê´€ë ¨ëœ ì½”ë“œë¥¼ ë¯¸ë¦¬ ë¡œë“œí•´ ë‘”ë‹¤.

ë¬¸ì œëŠ” ì‚¬ìš©ìê°€ ëª¨ë‹¬ì„ ì–¸ì œ í´ë¦­í• ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ì–¸ì œ ë¯¸ë¦¬ ë¡œë“œí• ì§€ ì• ë§¤í•˜ë‹¤.

#### íƒ€ì´ë°

1. ë²„íŠ¼ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ ë†¨ì„ ë•Œ

```js
const handleMouseEnter = () => {
    const Component = import('./components/ImageModal')
}
<ButtonModal onClick={() => { setShowModal(true) }} onMouseEnter={handleMouseEnter}>ì˜¬ë¦¼í”½ ì‚¬ì§„ ë³´ê¸°</ButtonModal>
```

<img src="/assets/blog/javaScript/web-optimization14.png" width="100%" alt="post image"/>

2. ìµœì´ˆ í˜ì´ì§€ ë¡œë“œê°€ ë˜ê³ , ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ ë§ˆìš´íŠ¸ê°€ ëë‚¬ì„ ë•Œ(ComponentDidMount)

<img src="/assets/blog/javaScript/web-optimization15.png" width="100%" alt="post image"/>

```js
useEffect(() => {
    const Component = import('./components/ImageModal')
}, [])
```

ì§€ê¸ˆì€ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¯¸ë¦¬ import í•˜ì§€ë§Œ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ Preloadí•´ì¤˜ì•¼ í•  ë•ŒëŠ”

```js
function lazyWithPreload(importFunction){
    const Component = React.lazy(importFunction)
    Component.preload = importFunction
    return Component
}

const LazyImageModal = lazyWithPreload(() => import('./components/ImageModal'))
```

```js
useEffect(() => {
    LazyImageModal.preload()
}, [])
```

ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

#### **\- ì´ë¯¸ì§€ Preload**

**new Image()**

```js
useEffect(() => {
    LazyImageModal.preload()

    const img = new Image()
    img.src = 'url'
}, [])
```

ì£¼ì˜í• ì ì€ ì´ë¯¸ì§€ëŠ” ëª¨ë“ˆê³¼ ë‹¤ë¥´ê²Œ í•„ìš”í•  ë•Œ ë§ˆë‹¤ ê·¸ë•Œê·¸ë•Œ ë§¤ë²ˆ ë³´ë‚´ê¸° ë•Œë¬¸ì—

ì‚¬ìš©í•˜ëŠ” ì´ë¯¸ì§€ì— ìºì‹œê°€ ì œëŒ€ë¡œ ê±¸ë ¤ìˆëŠ”ì§€ í™•ì¸í•  í•„ìš”ê°€ ìˆë‹¤.
3e:T2416,

####
**[Svelte vs React: Ending the Debate](https://massivepixel.io/blog/svelte-vs-react/ "Svelte vs React: Ending the Debate")ë¥¼ ì½ìœ¼ë©° ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.**

---

## ë¦¬ì•¡íŠ¸

ë¦¬ì•¡íŠ¸ëŠ” í˜ì´ìŠ¤ë¶ì—ì„œ ìì²´ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë§Œë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë©°, ì§€ê¸ˆë„ í˜ì´ìŠ¤ë¶ì—ì„œ ê´€ë¦¬í•˜ê³  ìˆë‹¤.

ì²˜ìŒ ì ‘í•˜ëŠ” ì‚¬ëŒë„ ë°°ìš°ê¸°ê°€ ì‰½ê³ , ê°œë°œì†ë„ë„ ë¹ ë¥´ë©° ë§ì€ ê°œë°œìë“¤ì´ ì‚¬ìš©í•˜ëŠ” ë§Œí¼ ì°¸ê³ í•  ë§Œí•œ ì‚¬ë¡€ë“¤ì´ ë§ë‹¤.

ë˜ ê°€ì¥ í° íŠ¹ì§•ì€ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì„±í•˜ê³ , Virtual DOMì„ ì‚¬ìš©í•´ ì•±ì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤ëŠ” ê²ƒì´ë‹¤.

---

### ìŠ¤ë²¨íŠ¸

ìŠ¤ë²¨íŠ¸ëŠ” ìµœê·¼ì— ë“±ì¥í•œ ì–¸ì–´ì´ê³ , ë¦¬ì•¡íŠ¸, ë·° ë“±ì˜ ê¸°ì¡´ í”„ë ˆì„ì›Œí¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë³´ì™„í•˜ê³ ì 2016ë…„ì— ì¶œì‹œë˜ì—ˆë‹¤.

Rich Harrisê°€ ê°œë°œí–ˆìœ¼ë©°, ìŠ¤ë²¨íŠ¸ì˜ ë©¤ë²„ë“¤ì´ ê´€ë¦¬í•˜ê³ , í˜„ì¬ ìŠ¤í¬í‹°íŒŒì´, ì–´ë² ìŠ¤íŠ¸, ë“±ì˜ íšŒì‚¬ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.

ìŠ¤ë²¨íŠ¸ì˜ ê³µì‹ì‚¬ì´íŠ¸ì—ì„œëŠ” í”„ë ˆì„ì›Œí¬ë¼ ì†Œê°œí•˜ê³  ìˆì§€ë§Œ ì‚¬ì‹¤ ì»´íŒŒì¼ëŸ¬ì™€ ìœ ì‚¬í•˜ë‹¤.

ê°€ë³ê³  ë¹ ë¥¸ ì•±ì„ ë§Œë“¤ê¸° ìœ„í•´ ê°€ëŠ¥í•œ ì ì€ ì–‘ì˜ JSì½”ë“œë¥¼ ìƒì„±í•˜ê³  ì ì ˆí•œ ìµœì í™”ë¥¼ ë³´ì¥í•œë‹¤.

---

\- ë“±ì¥ ë°°ê²½

ë¦¬ì¹˜ í•´ë¦¬ìŠ¤ëŠ” í…œí”Œë¦¿ ê¸°ë°˜ UI ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ ë¦¬ì•¡í‹°ë¸Œì˜ ê°œë°œìë‹¤. í•´ë¦¬ìŠ¤ëŠ” ì´ ì–¸ì–´ë¥¼ ê·¸ë‹¥ ì¢‹ì•„í•˜ì§€ ì•Šì•˜ê³ , JSëŠ” ë©ì¹˜ê°€ ì»¤ ëª¨ë°”ì¼ í™˜ê²½ì—ì„œëŠ” ë¶€ë‹´ì´ í¬ê³  ì¹˜ëª…ì ì¸ ë‹¨ì ì´ ìˆìœ¼ë©° ì´ë¥¼ í•´ê²°í•˜ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì´ë‹¤.

### ìŠ¤ë²¨íŠ¸ì™€ ë¦¬ì•¡íŠ¸ì˜ ì°¨ì´ì 

<img src="/assets/blog/javaScript/svelte.png" width="100%" alt="post image"/>
<img src="/assets/blog/javaScript/svelte(1).png" width="100%" alt="post image"/>

## ìŠ¤ë²¨íŠ¸ì˜ ì¥ì 

#### 1\. ìŠ¤ë²¨íŠ¸ê°€ ë” ì„±ëŠ¥ì´ ì¢‹ë‹¤.

ìŠ¤ë²¨íŠ¸ëŠ” **ë¦¬ì•¡íŠ¸, ë·°, ì•µê·¤ëŸ¬ ë³´ë‹¤ ë” ì¢‹ì€ ì„±ëŠ¥**ì„ ë³´ì—¬ì¤€ë‹¤.

ì†ë„, ë¡œë”©, ë©”ëª¨ë¦¬ ë“± ëª¨ë“  í…ŒìŠ¤íŠ¸ì—ì„œ ìŠ¤ë²¨íŠ¸ê°€ ìš°ìœ„ì— ìˆë‹¤.

ê·¸ ì´ìœ ëŠ” ìŠ¤ë²¨íŠ¸ê°€ ëŸ°íƒ€ì„ì´ ì•„ë‹Œ ë¹Œë“œ íƒ€ì„ì— ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ í•´ì„í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ë˜ HTML, CSS, JSê°€ ìµœì í™”ëœ ì‘ì€ ë²ˆë“¤ë¡œ ì»´íŒŒì¼ì´ ë˜ê¸° ë•Œë¬¸ì— ìŠ¤ë²¨íŠ¸ëŠ” ì•± ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ì—ë§Œ ì‹ ê²½ì“°ë©´ ëœë‹¤.

ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬ëŠ” ë¸Œë¼ìš°ì €ê°€ ë¬´ê±°ìš´ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ë°–ì— ì—†ë„ë¡ ê°•ì œí•˜ë¯€ë¡œ ëª¨ë“  ë¶€ë¶„ì—ì„œ ëŠë ¤ì§„ë‹¤.

ë˜ ê°€ì¥ í° ì´ìœ ëŠ” Virtual DOMì´ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤.

#### 2\. ìŠ¤ë²¨íŠ¸ëŠ” Virtual DOMì„ ë¹„êµí•˜ì§€ ì•ŠëŠ”ë‹¤.

ë¦¬ì•¡íŠ¸ì—ì„œëŠ” Virtual DOMì„ ì‚¬ìš©í•´ ì¢‹ì€ ì„±ëŠ¥ì„ ì œê³µí–ˆê³ , ë·°ë„ ì´ê²ƒì„ ë³´ê³  í° ì˜í–¥ì„ ë°›ì•˜ë‹¤.

ì—¬ê¸°ì„œ Virtual DOM(ê°€ìƒ ë”)ì´ë€ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì—ì„œ ë°œìƒí•œ ëª¨ë“  ë³€ê²½ ì‚¬í•­ì— ëŒ€í•œ ë¬¸ì„œ ê°ì²´ ëª¨ë¸(Document Object Model)ì„ ë©”ëª¨ë¦¬ì— ìœ ì§€í•˜ëŠ” **ê°€ìƒ ì„ì‹œ ì €ì¥ì†Œ**ì´ë‹¤.

ì‹¤ì œ DOMì„ ì‚¬ìš©í•˜ë©´ ê°ê°ì˜ ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ DOMì´ ì´ë¥¼ ë°˜ì˜í•˜ê¸° ë•Œë¬¸ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ë°–ì— ì—†ë‹¤.

ë°˜ë©´ì— ê°€ìƒ DOMì€ ì‹¤ì œ DOMì˜ ë³€ê²½ì‚¬í•­ì„ ì—…ë°ì´íŠ¸í•˜ê³  ë Œë”ë§í•˜ëŠ” ê°€ì¥ íš¨ìœ¨ì ì¸ ë°©ë²•ì„ ì°¾ì„ ë•Œê¹Œì§€ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ë¥¼ ì§€ì—°ì‹œí‚¨ë‹¤.

ì´ë¥¼ **ì¡°ì •(reconciliation) í”„ë¡œì„¸ìŠ¤ ë˜ëŠ” ë¹„êµ(diffing)**ë¼ê³  í•œë‹¤.

ìŠ¤ë²¨íŠ¸ëŠ” ê¼­ ê°€ìƒ DOMì„ ì‚¬ìš©í•´ì•¼ë§Œ ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤ë¼ëŠ” ì ì— ë™ì˜í•˜ì§€ ì•Šì•˜ê³ , ì´ë¥¼ ì¦ëª…í–ˆë‹¤.

#### 3\. ìŠ¤ë²¨íŠ¸ê°€ ë” ë°˜ì‘ì´ ë›°ì–´ë‚˜ë‹¤.

ë¦¬ì•¡íŠ¸ëŠ” ì„ ì–¸ì (declarative) ì–¸ì–´ë¡œì¨ ì–´ë– í•œ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ ê° ë‹¨ê³„ë¥¼ ëª¨ë‘ ì •ì˜í•˜ëŠ” ëŒ€ì‹ ì— ì›í•˜ëŠ” ê²°ê³¼ë§Œ ì§€ì •í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ë¦¬ì•¡íŠ¸ê°€ ì•Œì•„ì„œ ì²˜ë¦¬í•œë‹¤.

ê·¸ëŸ¬ë‚˜ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ë•Œ ìë™ìœ¼ë¡œ DOMì— ë°˜ì˜í•˜ì§€ ì•ŠëŠ”ë‹¤. ë¦¬ì•¡íŠ¸ëŠ” ì •í•´ì§„ ì¼ì •ì— ë”°ë¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ì—…ë°ì´íŠ¸ í•œë‹¤. setState, Hookì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì œëŒ€ë¡œ ë°˜ì˜ë˜ì§€ ì•ŠëŠ”ë‹¤.

ìŠ¤ë²¨íŠ¸ë„ ì´ì™€ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ì§€ë§Œ ì—…ë°ì´íŠ¸ ëª…ë ¹ì„ ë°›ì•˜ì„ ë•Œ ë™ì‘í•œë‹¤. ê·¸ì „ê¹Œì§€ëŠ” ë°œìƒí•œ ëª¨ë“  ë³€ê²½ ì‚¬í•­ì´ í•œë²ˆì— ì²˜ë¦¬ëœë‹¤.

ê·¸ëŸ¬ë‚˜ ê³ ë ¤í•´ì•¼í•  ë¶€ë¶„ì€ **ë°˜ì‘í˜• ì„ ì–¸ë¬¸ê³¼ ë³€ìˆ˜**ì´ë‹¤. ë°˜ì‘í˜• ì„ ì–¸ë¬¸(reactive delaration)ì€ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•˜ëŠ” ë™ì•ˆ ìë™ìœ¼ë¡œ ë¡œì§ì„ ë‹¤ì‹œ ê³„ì‚°í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ê·¸ë¦¬ê³  ë°˜ì‘í˜• ë³€ìˆ˜ëŠ” ì¼ë‹¨ ì„ ì–¸í•˜ë©´, ë³€ê²½ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ë³€ìˆ˜ë“¤ë„ ìë™ìœ¼ë¡œ ë³€ê²½í•œë‹¤. ì´ëŠ” $ ê¸°í˜¸ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒ ë§Œìœ¼ë¡œ ì‰½ê²Œ ê°€ëŠ¥í•˜ë‹¤.

#### 4\. ìŠ¤ë²¨íŠ¸ì˜ ì»´í¬ë„ŒíŠ¸ëŠ” ì•½ê°„ ë‹¤ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤.

ìš°ì„  ìŠ¤ë²¨íŠ¸ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚´ë³´ë‚´ê¸° ìœ„í•´ **ì•„ë¬´ëŸ° ë™ì‘ë„ í•  í•„ìš”ê°€ ì—†ë‹¤**. ìŠ¤ë²¨íŠ¸ê°€ ìë™ìœ¼ë¡œ exportí•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤. ì´ì— ë°˜í•´ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì´ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜í–‰í•´ì•¼ ëœë‹¤.

ë˜ ìŠ¤ë²¨íŠ¸ëŠ” **ìŠ¤íƒ€ì¼ íƒœê·¸ì—ì„œ ì»´í¬ë„ŒíŠ¸ì˜ ë²”ìœ„ë¥¼ ì§€ì •**í•˜ë¯€ë¡œ ìœ ì—°í•œ ìŠ¤íƒ€ì¼ ì§€ì •ì„ í•  ìˆ˜ ìˆë‹¤.

ë˜ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ìƒì„±í•˜ë¯€ë¡œ ê³ ìœ í•œ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•˜ëŠ”ë° ì• ì“¸ í•„ìš”ê°€ ì—†ë‹¤.

#### 5\. ìŠ¤ë²¨íŠ¸ì—ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤.

ë¦¬ì•¡íŠ¸ëŠ” ë·° ì˜ì—­ì— ì´ˆì ì„ ë§ì¶˜ ê°€ë²¼ìš´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë©°, ìƒíƒœê´€ë¦¬ë‚˜ ì• ë‹ˆë©”ì´ì…˜ì„ êµ¬í˜„í•˜ë ¤ë©´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

ì´ê²ƒì´ ê¼­ ë‚˜ìœê²ƒì€ ì•„ë‹ˆë©° ê¸°ëŠ¥ì´ ê±°ì˜ ì—†ëŠ” ì†Œê·œëª¨ í”„ë¡œì íŠ¸ì˜ ê²½ìš°ì—ëŠ” ì™„ë²½í•  ìˆ˜ ìˆë‹¤.

ê·¸ëŸ¬ë‚˜ ìŠ¤ë²¨íŠ¸ì—ëŠ” ì•±ì˜ í¬ê¸°ë¥¼ ëŠ˜ë¦¬ì§€ ì•Šìœ¼ë©´ì„œë„ íš¨ê³¼, ì „í™˜, ì• ë‹ˆë©”ì´ì…˜ ë“±ì´ ë‚´ì¥ë˜ì–´ ìˆì–´ í•„ìš”í•œ ë¶€ë¶„ë§Œ ë¶ˆëŸ¬ì˜¤ë©´ ëœë‹¤.

ë˜ ìŠ¤ë²¨íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ **ìƒíƒœ ê´€ë¦¬**ë¥¼ í•  ìˆ˜ ìˆë‹¤.

-   **ì»¨í…ìŠ¤íŠ¸ API**: ì»´í¬ë„ŒíŠ¸ê°€ ì„œë¡œ í†µì‹ í•˜ë©° ë°ì´í„°ë¥¼ ì „ë‹¬ í•  ë•Œ
-   **ìŠ¤ë²¨íŠ¸ ìŠ¤í† ì–´(Svelte Store)**: ì»´í¬ë„ŒíŠ¸ê°€ ëŒ€ëŸ‰ì˜ ë°ì´í„° ì „ë‹¬í•˜ì§€ ì•Šê³  í†µì‹ í•´ì•¼ í•  ë•Œ
-   **ì“°ê¸° ê°€ëŠ¥ ì €ì¥ì†Œ(Writable Store)**: ê°ì²´ê°€ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì— ì ‘ê·¼í•´ì•¼ í•  ë•Œ
-   **ì½ê¸° ê°€ëŠ¥ ì €ì¥ì†Œ(Readable Store)**: ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” ê²ƒì„ ì›í•˜ì§€ ì•Šì„ ë•Œ


#### 6\. ìŠ¤ë²¨íŠ¸ê°€ ë” ê°€ë³ë‹¤.

GZIPPED(ì••ì¶•ëœ) ë²„ì „ì˜ ë¦¬ì•¡íŠ¸ëŠ” **42.2KB**(ReactDOMí¬í•¨), ìŠ¤ë²¨íŠ¸ëŠ” **1.6KB** ì´ë‹¤.

#### 7\. ìŠ¤ë²¨íŠ¸ëŠ” ë” ë¹ ë¥¸ ì›¹ ê°œë°œì„ ì œê³µí•œë‹¤.

ë¦¬ì•¡íŠ¸ì˜ ê°œë°œ ì†ë„ëŠ” ë„ˆë¬´ ë¹ ë¥´ë‹¤ ëª»í•´ ì´ë¥¼ ë‹¨ì  ì¤‘ í•˜ë‚˜ë¡œ ì¸ìš©ë˜ê¸°ë„ í•œë‹¤.

í•˜ì§€ë§Œ ìŠ¤ë²¨íŠ¸ì˜ ê°œë°œ ì†ë„ëŠ” ì´ë³´ë‹¤ ë” ë¹ ë¥´ë‹¤.

ì»´íŒŒì¼ì„ í†µí•´ ìƒì„±ëœ ì½”ë“œëŠ” ë¦¬ì•¡íŠ¸ë³´ë‹¤ ì§§ê³  ì½ê¸°ë„ ì‰½ë‹¤. ë” ì ì€ ìˆ˜ì˜ ì½”ë“œë¡œ ë¹„ìŠ·í•œ ê²°ê³¼ë¥¼ ì–»ì–´ ë‚¼ ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ìœ ì§€ë³´ìˆ˜ì™€ ë””ë²„ê¹…ì´ ë” ì‰¬ì›Œì§„ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

#### 8\. ìŠ¤ë²¨íŠ¸ê°€ ë” ë°°ìš°ê¸° ì‰½ë‹¤.

ë¦¬ì•¡íŠ¸ì™€ ìŠ¤ë²¨íŠ¸ ë‘˜ ë‹¤ HTML, CSS, JSì— ëŒ€í•œ ì§€ì‹ì´ í•„ìš”í•˜ë‹¤.

ê·¸ëŸ¬ë‚˜ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” JSì— ëŒ€í•œ XMLê³¼ ìœ ì‚¬í•œ **JSX**ë¥¼ ë°°ì›Œì•¼í•˜ì§€ë§Œ, ìŠ¤ë²¨íŠ¸ëŠ” ë” ì‰¬ìš´ êµ¬ë¬¸ì„ ì‚¬ìš©í•´ ì´í•´í•˜ê¸° ì‰¬ìš´ **ìì²´ í…œí”Œë¦¿ ì–¸ì–´**ë¥¼ ê°€ì§€ê³  ìˆë‹¤.

## ìŠ¤ë²¨íŠ¸ì˜ ë‹¨ì 

#### 1\. ì»¤ë®¤ë‹ˆí‹° ê·œëª¨ê°€ ì‘ë‹¤.

ë¦¬ì•¡íŠ¸ëŠ” ë§ì€ ì‚¬ìš©ê³¼ í° ì¸ê¸°ë¡œ ì»¤ë®¤ë‹ˆí‹° ê·œëª¨ë„ í¬ê³  ë§ì€ ë¬´ë£Œ ê°•ì¢Œì™€ ê°€ì´ë“œ ë“±ì„ ì‰½ê²Œ êµ¬í•  ìˆ˜ ìˆê³ , ê°œë°œì ë„êµ¬(React Revdloper, Redux DevTools ë“±) ìƒì‚°ì„± í–¥ìƒì— ë„ì›€ì„ ì£¼ëŠ” ë„êµ¬ë“¤ì´ ë§ì´ìˆë‹¤.

ê·¸ëŸ¬ë‚˜ ìŠ¤ë²¨íŠ¸ëŠ” ë¦¬ì•¡íŠ¸ ê·œëª¨ë§Œí¼ì˜ ì»¤ë®¤ë‹ˆí‹°ì™€ ê¸°ìˆ  ì§€ì›ì„ ê¸°ëŒ€í•˜ê¸° ì–´ë µë‹¤.

íŠ¹íˆ **í”ŒëŸ¬ê·¸ì¸, í†µí•©, IDEì— ëŒ€í•œ ë¶€ì¡±í•œ ì§€ì›**ì´ ê°€ì¥ í° ì¥ì• ë¬¼ì´ê³ , ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ì‚¬ìš©ìì—ê²Œ ë„ì›€ì„ ì£¼ì§€ ëª»í•  ìˆ˜ë„ ìˆë‹¤.

#### 2\. ìŠ¤ë²¨íŠ¸ëŠ” ê¸°ì—…ì´ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.

ë¦¬ì•¡íŠ¸ëŠ” í˜ì´ìŠ¤ë¶ì´ ì§€ì›í•˜ê³  ìˆê³ , í˜ì´ìŠ¤ë¶ì—ì„œ ì§ì ‘ ì‚¬ìš©í•  ëª©ì ìœ¼ë¡œ ë§Œë“¤ê³  ê´€ë¦¬ë¥¼ í•˜ê³  ìˆë‹¤.

ë˜ í˜ì´ìŠ¤ë¶ì€ ë¦¬ì•¡íŠ¸ì˜ ì§€ì†ì ì¸ ì—…ë°ì´íŠ¸ì™€ ìœ ì§€, ë°œì „ì„ í•˜ê¸°ìœ„í•œ ìê¸ˆì„ ê°€ì§€ê³  ìˆë‹¤. ì´ëŠ” ë¦¬ì•¡íŠ¸ì— ë¯¸ë˜ì— ëŒ€í•´ í¬ê²Œ ê±±ì •í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

í•˜ì§€ë§Œ ìŠ¤ë²¨íŠ¸ëŠ” ë¯¸ë˜ê°€ ëª…í™•í•˜ì§€ ì•Šë‹¤. ì‘ì€ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ìœ ì§€ ê´€ë¦¬ë¥¼ í•˜ê³  ìˆì§€ë§Œ, ê·¸ë“¤ì˜ ì—´ì •ì´ ì–¼ë§ˆë‚˜ ì˜¤ë˜ê°ˆì§€ëŠ” ì•„ë¬´ë„ ì•Œ ìˆ˜ ì—†ë‹¤.

ë˜ ìŠ¤ë²¨íŠ¸ì—ì„œ ì˜ê°ì„ ë°›ì€ ë˜ ë‹¤ë¥¸ ì–¸ì–´ê°€ ë“±ì¥í•´ ì´ ìë¦¬ë¥¼ ëŒ€ì²´ í•  ìˆ˜ë„ ìˆë‹¤.

#### 3\. ìŠ¤ë²¨íŠ¸ëŠ” ëŒ€ê·œëª¨ ì›¹ì— ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.

ìŠ¤ë²¨íŠ¸ëŠ” ìµœê·¼ì—ì„œì•¼ ëŒ€ê¸°ì—… ì• í”Œë¦¬ì¼€ì´ì…˜ì— ê·œëª¨ë¥¼ ì§€ì›í•˜ë„ë¡ ì„±ì¥í–ˆë‹¤. ì´ëŠ” ìŠ¤ë²¨íŠ¸ì˜ ì‚¬ìš© ì‚¬ë¡€ê°€ ë§ì§€ ì•Šë‹¤ëŠ”ê±¸ ì˜ë¯¸í•œë‹¤.

## ê²°ë¡ 

ìŠ¤ë²¨íŠ¸ëŠ” ë§ì€ ê²ƒì„ ì œê³µí•œë‹¤.

í¬ê¸°, íš¨ìœ¨ì ì€ ì½”ë“œ, ë¹ ë¥¸ ì„±ëŠ¥ìœ¼ë¡œ ë¦¬ì•¡íŠ¸, ë·° ë˜ëŠ” ì•µê·¤ëŸ¬ì— ê°•í•œ ê²½ìŸìë¡œ ë³´ì¼ ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ ìŠ¤ë²¨íŠ¸ëŠ” ì•„ì§ ê°ˆ ê¸¸ì´ ë©€ë‹¤. ì§€ê¸ˆê¹Œì§€ëŠ” ì¸í„°ë„· ì—°ê²°ì´ ë‚®ê±°ë‚˜, ë¸”ë¡œê·¸, í¬íŠ¸í´ë¦¬ì˜¤ ë“± ë‹¨ìˆœíˆ ê°œì¸ ì›¹ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ë‹¨ì¼ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

ë˜ í° íšŒì‚¬ë“¤ì˜ ê¸°ìˆ  ìŠ¤íƒì„ ìŠ¤ë²¨íŠ¸ë¡œ êµì²´í•˜ê¸°ì—ëŠ” ë§ì€ ì‹œê°„ì´ í•„ìš”í•  ê²ƒì´ë©° ìŠ¤ë²¨íŠ¸ì˜ ê°œë°œìë“¤ì˜ ìˆ˜ìš” ë˜í•œ ê±°ì˜ ì—†ë‹¤.
3f:T1085,
# ë Œë”ë§ ìµœì í™”

### 1\. ì»´í¬ë„ŒíŠ¸ë¥¼ ë§µí•‘í• ë•ŒëŠ” keyê°’ìœ¼ë¡œ Indexë¥¼ ì‚¬ìš©í•˜ì§€ ë§ì

ë¦¬ì•¡íŠ¸ì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§µí•‘í•  ë•Œì—ëŠ” ê³ ìœ  Keyê°’ì„ ë¶€ì—¬í•´ì•¼í•œë‹¤.

ì§€ê¸ˆê¹Œì§€ëŠ” ê±°ì˜ Indexë¥¼ ê³ ìœ í•œ Keyê°’ìœ¼ë¡œ ì‚¬ìš©í–ˆëŠ”ë°, ì•ˆì¢‹ì€ ìŠµê´€ì¸ê±¸ ì•Œê²Œëë‹¤.

ë°°ì—´ ì¤‘ê°„ì— ì–´ë–¤ ìš”ì†Œê°€ ì‚½ì…ë˜ê²Œ ëœë‹¤ë©´, ê·¸ ì´í›„ì˜ ìš”ì†Œë“¤ì€ ì „ë¶€ Indexê°€ ë³€ê²½ë˜ê¸° ë•Œë¬¸ì— Keyê°’ë„ ë³€ê²½ë  ë¿ë§Œ ì•„ë‹ˆë¼ ë¦¬ë§ˆìš´íŠ¸ê°€ ì‹¤í–‰ëœë‹¤.

ë˜ ì´ë ‡ê²Œ ìì£¼ Keyê°’ì´ ë³€ê²½ë˜ê²Œ ëœë‹¤ë©´ ì„œë¡œ ê¼¬ì´ê²Œ ë˜ëŠ” ë²„ê·¸ë„ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ ë¬´ì¡°ê±´ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

-   ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ ì—†ì´ ë‹¨ìˆœíˆ ë Œë”ë§ë§Œ í•˜ëŠ” ê²½ìš°
-   uniqueí•œ ê°’ì´ ì—†ì„ ê²½ìš°
-   ì •ë ¬ì´ë‚˜ í•„í„° ìš”ì†Œê°€ ì—†ëŠ” ê²½ìš°

### 2\. stateëŠ” ì–´ë””ì— ì„ ì–¸í•´ì•¼ ë ê¹Œ

ë¦¬ì•¡íŠ¸ëŠ” íŠ¹ì • stateë‚˜ Propsê°€ ë³€ê²½ë˜ê²Œ ë˜ë©´ ì„ ì–¸ëœ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê·¸ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤ ê¹Œì§€ ëª¨ë‘ë‹¤ ë¦¬ë Œë”ë§ì´ ëœë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— stateë¥¼ ì–´ë””ì— ì„ ì–¸í• ì§€ ì˜ ì„¤ê³„ë§Œ í•˜ë”ë¼ë„ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

ë˜ ê°ì²´ íƒ€ì…ì˜ stateëŠ” ìµœëŒ€í•œ ìª¼ê°œì–´ì„œ ì„ ì–¸í•´ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ë‹¤.

ê°ì²´ê°€ í¬ê³  ë³µì¡í•œ ê²½ìš°ì— ê·¸ ì¤‘ ì¼ë¶€ë§Œ ì‚¬ìš©í•˜ë”ë¼ë„ ê´€ë ¨ëœ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë ê²ƒì´ë‹¤.

### 3\. useStateì˜ í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸

setStateë¥¼ ì‚¬ìš©í• ë•Œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì£¼ëŠ” ëŒ€ì‹ ì—, ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ì–´ë–»ê²Œ í• ì§€ ì •ì˜í•´ ì£¼ëŠ” ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë¥¼ ë„£ì„ ìˆ˜ ìˆë‹¤.

ì´ë ‡ê²Œ í•˜ë©´ useCallbackì„ ì‚¬ìš©í•  ë•Œ ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ ë„£ëŠ” ë°°ì—´ì— ê°’ì„ ë„£ì–´ì£¼ì§€ ì•Šì•„ë„ ëœë‹¤.

```javascript
// ê¸°ì¡´
  const onIncrease = useCallback(() => {
    setNumber(number + 1);
  }, [number]);


// í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸
  const onIncrease = useCallback(() => {
    setNumber((number) => number + 1);
  }, []);
```

### 4.Input Onchange ìµœì í™”

ë³´í†µ Input íƒœê·¸ì— onChangeë¥¼ ì‚¬ìš©í•´ ê¸€ì„ ì…ë ¥í•˜ë©´ íƒ€ì´í•‘ì„ í•  ë•Œë§ˆë‹¤ ì»´í¬ë„ŒíŠ¸ê°€ ëœë”ë§ì´ ëœë‹¤.

ì´ë•Œ useMemoë¥¼ ì‚¬ìš©í•´ì£¼ë©´ ë Œë”ë§ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

```javascript
import React, { useState } from "react";

function InputSample() {
  const [text, setText] = useState("");
  const [count, setCount] = useState("");

  const onChange = (e) => {
    setText(e.target.value);
  };

  const onCount = () => {
    console.log("ì¹´ìš´íŠ¸..");
    return count;
  };

  const outCount = onCount();

  return (
    <div>
      <input onChange={onChange} value={text} />

      <div>
        <b>ê°’: {text}</b>
        <b>{outCount}</b>
      </div>
    </div>
  );
}

export default InputSample;
```


```javascript
{...}
  const onChange = (e) => {
    setText(e.target.value);
  };

  const onCount = () => {
    console.log("ì¹´ìš´íŠ¸..");
    return count;
  };

  const outCount = useMemo(() => onCount(), [count]);

  return (
{...}
)
```


### 5\. memo, useMemo, useCallback

#### \- memo

React.memoëŠ” Hookì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤í˜•ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

memoë¥¼ ì‚¬ìš©í•´ ì»´í¬ë„ŒíŠ¸ì˜ Propsê°€ ë°”ë€Œì§€ ì•Šì•˜ë‹¤ë©´, ë¦¬ë Œë”ë§í•˜ì§€ ì•Šë„ë¡ ì„¤ì •í•´ ì„±ëŠ¥ì„ ìµœì í™” í•  ìˆ˜ ìˆë‹¤.

```javascript
import React, { memo } from "react";

function InputSample({ user }) {
  console.log("Text component render");
  return (
    <div>
      <b>{user?.id}</b>
      <b>{user?.name}</b>
      <b>{user?.age}</b>
    </div>
  );
}

export default memo(InputSample);
```

#### \- useMemo, useCallback

ìœ„ì—ì„œ ì‚¬ìš©í•œ onCountì˜ í•¨ìˆ˜ê°€ ê°„ë‹¨í•œê²Œ ì•„ë‹ˆë¼ í¬ê³  ë³µì¡í•´ ê³„ì‚°í•˜ëŠ”ë° ì˜¤ë˜ ê±¸ë¦¬ëŠ” í•¨ìˆ˜ë¼ê³  ê°€ì •í•œë‹¤ë©´, ìœ„ ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë Œë”ë§ ë  ë•Œë§ˆë‹¤ í° ê³„ì‚°ì„ ê³„ì† í•  ê²ƒì´ë‹¤.

useMemo \[\] ë””íœë˜ì‹œì— ë°ì´í„°ê°€ ë³€í•  ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ countë¥¼ ë„£ì–´ì£¼ë©´ ìœ„ countê°€ ë³€í•  ë•Œë§ˆë‹¤ ìœ„ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.

useCallbackë„ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ì‘ë™ ëœë‹¤.

useMemoëŠ” ë¦¬í„´ë˜ëŠ” ê°’ì„ memoize ì‹œí‚¤ëŠ” ë°˜ë©´ì—, useCallbackì€ í•¨ìˆ˜ ì„ ì–¸ì„ memoize í•œë‹¤.

```javascript
  const addUser = useCallback(() => {
    {...}
  }, [users]);
```
40:T1f82,
[ë¦¬ì•¡íŠ¸ ë¬¸ì„œ](https://beta.reactjs.org/)ë¥¼ ì •ë…í•˜ë©° ì •ë¦¬í•œ ê¸€
ì˜ì–´ë¬¸ì„œë¼ ì¡°ê¸ˆ í˜ë“¤ì—ˆë‹¤...

## ëª©ì—…ìœ¼ë¡œ ì‹œì‘

ë‹¤ìŒê³¼ ê°™ì€ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” JSON APIê°€ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì.

```json
[
  { "category": "Fruits", "price": "$1", "stocked": true, "name": "Apple" },
  { "category": "Fruits", "price": "$1", "stocked": true, "name": "Dragonfruit" },
  { "category": "Fruits", "price": "$2", "stocked": false, "name": "Passionfruit" },
  { "category": "Vegetables", "price": "$2", "stocked": true, "name": "Spinach" },
  { "category": "Vegetables", "price": "$4", "stocked": false, "name": "Pumpkin" },
  { "category": "Vegetables", "price": "$1", "stocked": true, "name": "Peas" }
]
```

-   ëª©ì—…
<img src="https://beta.reactjs.org/images/docs/s_thinking-in-react_ui.png" alt='mock' />

### 1, UIë¥¼ ì»´í¬ë„ŒíŠ¸ë¡œ ë‚˜ëˆ„ê¸°
<img src="https://beta.reactjs.org/images/docs/s_thinking-in-react_ui_outline.png" alt="ui" />

1.  FilterableProductTable (íšŒìƒ‰)ì€ ì „ì²´ ì•±ì„ í¬í•¨í•©ë‹ˆë‹¤.
2.  SearchBar (íŒŒë€ìƒ‰)ì€ ì‚¬ìš©ì ì…ë ¥ì„ ë°›ìŠµë‹ˆë‹¤.
3.  ProductTable (ë¼ë²¤ë”)ëŠ” ì‚¬ìš©ì ì…ë ¥ì— ë”°ë¼ ëª©ë¡ì„ í‘œì‹œí•˜ê³  í•„í„°ë§í•©ë‹ˆë‹¤.
4.  ProductCategoryRow (ë…¹ìƒ‰)ì€ ê° ë²”ì£¼ì— ëŒ€í•œ ì œëª©ì„ í‘œì‹œí•©ë‹ˆë‹¤.
5.  ProductRow (ë…¸ë€ìƒ‰)ì€ ê° ì œí’ˆì— ëŒ€í•œ í–‰ì„ í‘œì‹œí•©ë‹ˆë‹¤.

ì´ë¥¼ ê³„ì¸µë³„ë¡œ ë‚˜ëˆ„ë©´

-   FilterableProductTable
-   SearchBar
-   ProductTable
-   ProductCategoryRow
-   ProductRow

ìœ„ì™€ê°™ì´ êµ¬ì„±ëœë‹¤.



### 2\. React ì •ì  ë¹Œë“œ

ì´ì œ ìœ„ì™€ê°™ì€ ê³„ì¸µêµ¬ì¡°ë¥¼ ë§Œë“¤ê³  ì•±ì„ êµ¬í˜„í•  ì°¨ë¡€ì´ë‹¤.
ì¼ë°˜ì ìœ¼ë¡œ ì •ì í˜ì´ì§€ë¥¼ ë§Œë“¤ê³  ìƒí˜¸ì‘ìš©ë˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•˜ëŠ”ê²Œ ë” ì‰¬ìš¸ ìˆ˜ ìˆë‹¤.
ë˜ ë³´í†µì€ FilterableProductTable(ê°€ì¥ ìƒìœ„) ë¶€í„° ì»´í¬ë„ŒíŠ¸ì—ì„œ í•˜í–¥ì‹ìœ¼ë¡œ ì‘ì—…í•˜ëŠ”ê²Œ ì‰½ì§€ë§Œ, í° í”„ë¡œì íŠ¸ì—ì„œëŠ” ë°˜ëŒ€ë¡œ ProductRow ë¶€í„° ìƒí–¥ì‹ìœ¼ë¡œ ì‘ì—…í•˜ëŠ”ê²Œ ì‰¬ìš¸ ìˆ˜ ìˆë‹¤.

```javascript
function ProductCategoryRow({ category }) {
  return (
    <tr>
      <th colSpan="2">
        {category}
      </th>
    </tr>
  );
}
```

```javascript
function ProductRow({ product }) {
  const name = product.stocked ? product.name :
    <span style={{ color: 'red' }}>
      {product.name}
    </span>;

  return (
    <tr>
      <td>{name}</td>
      <td>{product.price}</td>
    </tr>
  );
}
```

```javascript
function ProductTable({ products }) {
  const rows = [];
  let lastCategory = null;

  products.forEach((product) => {
    if (product.category !== lastCategory) {
      rows.push(
        <ProductCategoryRow
          category={product.category}
          key={product.category} />
      );
    }
    rows.push(
      <ProductRow
        product={product}
        key={product.name} />
    );
    lastCategory = product.category;
  });

  return (
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Price</th>
        </tr>
      </thead>
      <tbody>{rows}</tbody>
    </table>
  );
}
```

```javascript
function SearchBar() {
  return (
    <form>
      <input type="text" placeholder="Search..." />
      <label>
        <input type="checkbox" />
        {' '}
        Only show products in stock
      </label>
    </form>
  );
}
```

```javascript
function FilterableProductTable({ products }) {
  return (
    <div>
      <SearchBar />
      <ProductTable products={products} />
    </div>
  );
}
```

```javascript
const PRODUCTS = [
  {category: "Fruits", price: "$1", stocked: true, name: "Apple"},
  {category: "Fruits", price: "$1", stocked: true, name: "Dragonfruit"},
  {category: "Fruits", price: "$2", stocked: false, name: "Passionfruit"},
  {category: "Vegetables", price: "$2", stocked: true, name: "Spinach"},
  {category: "Vegetables", price: "$4", stocked: false, name: "Pumpkin"},
  {category: "Vegetables", price: "$1", stocked: true, name: "Peas"}
];
```

```javascript
export default function App() {
  return <FilterableProductTable products={PRODUCTS} />;
}
```




### 3\. ìµœì†Œí™”ë˜ê³  ì™„ì „í•œ state ì°¾ê¸°

stateë¥¼ êµ¬ì¡°í™” í•˜ëŠ”ë° ê°€ì¥ ì¤‘ìš”í•œ ì›ì¹™ì€ DRY(Don't repeat yourself) ì¤‘ë³µë°°ì œ ì´ë‹¤.
ì´ì œ ìœ„ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ìª¼ê°œì„œ ìƒê°í•´ ë³´ì.
ì œí’ˆì˜ ì›ë˜ ëª©ë¡
ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê²€ìƒ‰ input
ì²´í¬ë°•ìŠ¤ì˜ ê°’
í•„í„°ë§ëœ ì œí’ˆ ëª©ë¡
Q. ë‹¤ìŒ ì¤‘ ìƒíƒœëŠ” ë¬´ì—‡ì¸ê°€?
ì‹œê°„ì´ ì§€ë‚˜ë„ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ stateê°€ ì•„ë‹ˆë‹¤.
ë¶€ëª¨ë¥¼ í†µí•´ propsë¡œ ì „ë‹¬ë˜ë©´ stateê°€ ì•„ë‹ˆë‹¤.
ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ì˜ propsë‚˜ stateê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°ë˜ë©´ stateê°€ ì•„ë‹ˆë‹¤. (ì´ ë¶€ë¶„ì€ í•´ì„ì´ ì¡°ê¸ˆ ì´í•´ë˜ì§€ ì•ŠëŠ”ë‹¤.)
ë‹¤ì‹œ ì‚´í´ ë³´ì.
ì œí’ˆì˜ ì›ë˜ ëª©ë¡ì€ propsë¡œ ì „ë‹¬ë˜ë¯€ë¡œ stateê°€ ì•„ë‹ˆë‹¤.
ê²€ìƒ‰ inputëŠ” ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë³€ê²½ë˜ê³  ì•„ë¬´ ê²ƒë„ ê³„ì‚°í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ìƒíƒœë¡œ ë³´ì¸ë‹¤.
ì²´í¬ë°•ìŠ¤ì˜ ê°’ì€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë³€ê²½ë˜ê³  ì•„ë¬´ ê²ƒë„ ê³„ì‚°í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ìƒíƒœë¡œ ë³´ì¸ë‹¤.
í•„í„°ë§ëœ ì œí’ˆ ëª©ë¡ì€ ì›ë˜ ì œí’ˆ ëª©ë¡ì„ ê°€ì ¸ì™€ì„œ ê²€ìƒ‰ inputê³¼ ì²´í¬ë°•ìŠ¤ì˜ ê°’ì— ë”°ë¼ í•„í„°ë§í•˜ì—¬ ê³„ì‚°í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìƒíƒœê°€ ì•„ë‹ˆë‹¤.




### 4\. stateê°€ ì–´ë””ì— ìˆì–´ì•¼ í•˜ëŠ”ì§€ í™•ì¸

ReactëŠ” ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì„ ì‚¬ìš©í•˜ì—¬ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°ë¥¼ ë”°ë¼ ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤.
ìœ„ì—ì„œ ì•„ë˜ë¡œ!

-   ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê° stateì— ëŒ€í•´:

1.  stateë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¬´ì–¸ê°€ë¥¼ ë Œë”ë§ í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ í™•ì¸í•œë‹¤.
2.  ê°€ì¥ ê°€ê¹Œìš´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ì°¾ëŠ”ë‹¤.

-   stateê°€ ì–´ë””ì— ìˆì–´ì•¼ í•˜ëŠ”ì§€ ê²°ì •:

1.  stateë¥¼ ë°”ë¡œ ìœ„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ë†“ì„ ìˆ˜ ìˆë‹¤.
2.  ë˜í•œ stateë¥¼ ê³µí†µëœ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ë†“ì„ ìˆ˜ ìˆë‹¤.
3.  stateë¥¼ ë†“ì„ ê³³ì„ ì°¾ì„ ìˆ˜ ì—†ìœ¼ë©´ stateë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ìƒˆ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³  ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ ì–´ë”˜ê°€ì— ì¶”ê°€í•œë‹¤.
4.  ì´ì „ ë‹¨ê³„ì—ì„œ ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê²€ìƒ‰ ê¸°ëŠ¥ê³¼ ì²´í¬ë°•ìŠ¤ì˜ ë‘ ê°€ì§€ ìƒíƒœë¥¼ ì°¾ì•˜ê³ , ì´ ì˜ˆì‹œ ì—ì„œëŠ” í•­ìƒ í•¨ê»˜ ë‚˜íƒ€ë‚˜ë¯€ë¡œ ë‹¨ì¼ ìƒíƒœë¡œ ìƒê°í•˜ëŠ” ê²ƒì´ ë” ì‰½ë‹¤.

-   stateë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì°¾ê¸°:

1.  ProductTableì˜ state(ê²€ìƒ‰ ë° ì²´í¬ë°•ìŠ¤ ê°’)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì œí’ˆ ëª©ë¡ì„ í•„í„°ë§í•´ì•¼ í•œë‹¤.
2.  SearchBarì˜ state(ê²€ìƒ‰ ë° ì²´í¬ë°•ìŠ¤ ê°’)ë¥¼ í‘œì‹œí•´ì•¼ í•œë‹¤.

-   ê³µí†µë˜ëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ ì°¾ê¸°: ë‘ ì»´í¬ë„ŒíŠ¸ê°€ ê³µìœ í•˜ëŠ” ì²« ë²ˆì§¸ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ëŠ” FilterableProductTable.(ë‘ ì»´í¬ë„ŒíŠ¸ì˜ ìƒìœ„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸)
-   stateê°€ ìˆëŠ” ìœ„ì¹˜ ê²°ì • : ê²€ìƒ‰ ë° ì²´í¬ë°•ìŠ¤ì˜ state ê°’ì„ FilterableProductTable(ë‘ ì»´í¬ë„ŒíŠ¸ì˜ ìƒìœ„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸)ì—ì„œ ìœ ì§€í•´ì•¼í•œë‹¤.
-   ë”°ë¼ì„œ stateëŠ” FilterableProductTable(ë‘ ì»´í¬ë„ŒíŠ¸ì˜ ìƒìœ„ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸)ì— ìˆì–´ì•¼ í•œë‹¤.

```javascript
function FilterableProductTable({ products }) {
  const [filterText, setFilterText] = useState('');
  const [inStockOnly, setInStockOnly] = useState(false);
```

ê·¸ëŸ° ë‹¤ìŒ propsë¡œ ë‚´ë ¤ì¤€ë‹¤

```javascript
<div>
  <SearchBar
    filterText={filterText}
    inStockOnly={inStockOnly} />
  <ProductTable
    products={products}
    filterText={filterText}
    inStockOnly={inStockOnly} />
</div>
```


### 5\. ë°˜ëŒ€ë°©í–¥ì˜ ë°ì´í„° íë¦„ ì¶”ê°€í•˜ê¸°

ë§ˆì§€ë§‰ìœ¼ë¡œëŠ” SearchBar, ProductTableì—ì„œ ì…ë ¥ë°›ì€ stateë¥¼ FilterableProductTableë¡œ ë‹¤ì‹œ ì „ë‹¬í•´ ì¤˜ì•¼í•œë‹¤.

```javascript
function FilterableProductTable({ products }) {
  const [filterText, setFilterText] = useState('');
  const [inStockOnly, setInStockOnly] = useState(false);

  return (
    <div>
      <SearchBar
        filterText={filterText}
        inStockOnly={inStockOnly}
        onFilterTextChange={setFilterText}
        onInStockOnlyChange={setInStockOnly} />
```

```javascript
// SearchBar

<input
  type="text"
  value={filterText}
  placeholder="Search..."
  onChange={(e) => onFilterTextChange(e.target.value)} />
```


41:T1c8d,
## React Hook

Reactë¡œ ê°œë°œí•  ë• í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ ë³´ë‹¤ React 16.8 ë¶€í„° ë„ì…ëœ Hook ê¸°ë°˜ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë¥¼ ë” ì„ í˜¸í•˜ì—¬ ê°œë°œí•˜ëŠ” ê²ƒ ê°™ë‹¤.

ê¸°ì¡´ í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ëŠ” ì—¬ëŸ¬ ë‹¨ê³„ì˜ ìƒì†ê³¼ ë³µì¡ì„±, ì˜¤ë¥˜ ë“±ì´ ë§ì•˜ì§€ë§Œ Hookì´ ë„ì…ë˜ë©´ì„œ í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ê°€ ê°€ì§€ê³  ìˆëŠ” ê¸°ëŠ¥ì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆìŒì€ ë¬¼ë¡ ì´ê³  ë³µì¡ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì˜ ë‹¨ì ë“¤ê¹Œì§€ë„ í•´ê²°ëë‹¤.

---

## í´ë¡œì €(Closure)

Hookì˜ í•µì‹¬ì€ JSì˜ í´ë¡œì €ì´ë‹¤.
í´ë¡œì €ëŠ”..ë´ë„ë´ë„ ì˜ ì´í•´ê°€ ê°€ì§€ ì•ŠëŠ”ë‹¤ã… ã… 

`í´ë¡œì € = í•¨ìˆ˜ + í•¨ìˆ˜ë¥¼ ë‘˜ëŸ¬ì‹¼ í™˜ê²½`
ì´ë¼ê³  ë§í•  ìˆ˜ ìˆëŠ”ë°, ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í•¨ìˆ˜ ì•ˆì—ì„œë„ í•¨ìˆ˜ë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.
ë¨¼ì € ì„ ì–¸ëœ í•¨ìˆ˜ë¥¼ ì™¸ë¶€í•¨ìˆ˜, ì´í›„ì— ì„ ì–¸ëœ í•¨ìˆ˜ë¥¼ ë‚´ë¶€í•¨ìˆ˜ë¼ í•œë‹¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ë¶€í•¨ìˆ˜ëŠ” ì™¸ë¶€í•¨ìˆ˜ì˜ ìš”ì†Œì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.
ì¦‰ ì™¸ë¶€í•¨ìˆ˜ì˜ ë³€ìˆ˜ì— ë‚´ë¶€í•¨ìˆ˜ì˜ ë³€ìˆ˜ê°€ ì ‘ê·¼ í•  ìˆ˜ ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë©”ì»¤ë‹ˆì¦˜ì´ë‹¤.

```javascript
function outerFn() {
  let outerVar = 'outer'
  console.log(outerVar)

  //í´ë¡œì € í•¨ìˆ˜
  function innerFn() {
    let innerVar = 'inner'
    console.log(innerVar)
  }
  //í´ë¡œì € í•¨ìˆ˜ ì•ˆì—ì„œëŠ”
  //ì§€ì—­ë³€ìˆ˜(innerVar)
  //ì™¸ë¶€í•¨ìˆ˜ì˜ ë³€ìˆ˜(outerVar)
  //ì „ì—­ë³€ìˆ˜(globalVar)
  //ì ‘ê·¼ì´ ëª¨ë‘ ê°€ëŠ¥í•˜ë‹¤.
  return innerFn
}
let globalVar = 'global'
let innerFn = outerFn()
innerFn()
```

---

## useState

```javascript
function useState(initVal) {
  let _val = initVal
  const state = _val
  const setState = newVal => {
    _val = newVal
  }
  return [state, setState]
}
const [count, setCount] = useState(1)
console.log(count) // 1
setCount(2)
console.log(count) // 1 (?)
```

ìœ„ í•¨ìˆ˜ì—ì„œ `count`ëŠ” í•œë²ˆ ê°€ì ¸ì˜¤ê³  ëë‚œ ê°’ì´ê¸° ë•Œë¬¸ì— ì¦‰ê°ì ìœ¼ë¡œ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤.
ë§Œì•½ `const state = _val` ë¶€ë¶„ì„ í•¨ìˆ˜ë¡œ ë°”ê¾¸ê³ , ê°’ì„ ì“°ëŠ”ê²Œ ì•„ë‹Œ í˜¸ì¶œí•´ì£¼ëŠ” ì‹ìœ¼ë¡œ ë°”ê¾¼ë‹¤ë©´ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ê°’ì„ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— `setCount`ê°€ ë°˜ì˜ëœ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

```javascript
// useState ì•ˆì—ì„œ
// ...
const state = () => _val
// ...
const [count, setCount] = useState(1)
console.log(count()) // 1
setCount(2)
console.log(count()) // 2
```

`state`ëŠ” ìƒë‹¨ì— ì •ì˜ëœ `_val`ë¥¼ ë°˜í™˜í•˜ê³ , `setState`ëŠ” ì „ë‹¬ ëœ ë§¤ê°œë³€ìˆ˜ `newVal`ë¥¼ ì§€ì—­ ë³€ìˆ˜ë¡œ ì„¤ì •í•œë‹¤.

---

### í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ê¸°

```javascript
const React = (function() {
  function useState(initVal) {
    let _val = initVal
    const state = _val
    const setState = newVal => {
      _val = newVal
    }
    return [state, setState]
  }
  function render(Component) {
    const C = Component()
    C.render()
    return C
  }
  return { useState, render }
})()
function Component() {
  const [count, setCount] = React.useState(1)
  return {
    render: () => console.log(count),
    click: () => setCount(count + 1),
  }
}
// ì•„ì§ê¹Œì§„ ì¤‘ê°„ ê³¼ì •ì´ë¯€ë¡œ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.
var App = React.render(Component)
App.click()
var App = React.render(Component)
```

ëª¨ë“ˆíŒ¨í„´ì„ ì´ìš©í•´ `React`ë¼ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— `useState`ë¥¼ ì§‘ì–´ë„£ëŠ”ë‹¤.
ê·¸ë¦¬ê³  DOMì„ ì‚¬ìš©í•˜ì§„ ì•Šì§€ë§Œ ê°€ìƒì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ `useState` í›…ì„ ê°€ì ¸ë‹¤ ì“°ëŠ” ë°©ì‹ì´ë‹¤.

ì—¬ê¸°ì„œ `count`ê°€ ì œëŒ€ë¡œ ë™ì‘í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ `_val`ë¡œ ì“°ê³  ìˆë˜ ë³€ìˆ˜ë¥¼ `React` ë‚´ë¶€ë¡œ ëŒì–´ì˜¬ë¦¬ë©´ ëœë”ë§ ì´í›„ í´ë¦­í•´ë„ ì‘ë™í•œë‹¤.

```javascript
const React = (function() {
  let _val
  function useState(initVal) {
    const state = _val || initVal
    // ...
  }
  // ...
})()
var App = React.render(Component) // 1
App.click()
var App = React.render(Component) // 2
App.click()
var App = React.render(Component) // 3
App.click()
var App = React.render(Component) // 4
```

---

### ì—¬ëŸ¬ ê°œì˜ í›…

í•˜ì§€ë§Œ ì‹¤ì œë¡œ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—¬ëŸ¬ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ í›…ì„ ì‚¬ìš©í•˜ëŠ”ë°. `_val` í•˜ë‚˜ì— ì˜ì¡´í•œ ì§€ê¸ˆ ìƒíƒœë¡œ `useState`ë¥¼ ë‘ë²ˆ í˜¸ì¶œí•˜ê²Œë˜ë©´

```javascript
function Component() {
  const [count, setCount] = React.useState(1)
  const [text, setText] = React.useState('apple')
  return {
    render: () => console.log({ count, text }),
    click: () => setCount(count + 1),
    type: word => setText(word),
  }
}
var App = React.render(Component) // {count: 1, text: 'apple'}
App.click()
var App = React.render(Component) // {count: 2, text: 2}
App.type('banana')
var App = React.render(Component) // {count: 'banana', text: 'banana'}
```

ì¤‘ê°„ì— ê°’ì´ ë®ì–´ì”Œì›Œ ì§„ë‹¤. ì´ë¥¼ ê´€ë¦¬ í•˜ë ¤ë©´ ê° ê°’ë³„ë¡œ ë°°ì—´ì— ë‹´ì•„ ë‹¤ë£¨ë©´ ëœë‹¤.

```javascript
const React = (function() {
  let hooks = []
  let idx = 0
  function useState(initVal) {
    const state = hooks[idx] || initVal
    const _idx = idx // ì´ í›…ì´ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ê°€ë‘¬ë‘”ë‹¤.
    const setState = newVal => {
      hooks[_idx] = newVal
    }
    idx++ // ë‹¤ìŒ í›…ì€ ë‹¤ë¥¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.
    return [state, setState]
  }
  function render(Component) {
    idx = 0 // ëœë”ë§ ì‹œ í›…ì˜ ì¸ë±ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤.
    const C = Component()
    C.render()
    return C
  }
  return { useState, render }
})()
```

ì—¬ê¸°ê¹Œì§€ë³´ë©´ ì™œ Hookì— ê¸°ë³¸ ê·œì¹™ì´ ìˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤.

1.  ìµœìƒìœ„(Top Level)ì—ì„œë§Œ Hookì„ í˜¸ì¶œ
2.  ì˜¤ì§ React í•¨ìˆ˜ ë‚´ì—ì„œ Hookì„ í˜¸ì¶œ

---

## useEffect

`useEffect`ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ë¥¼ í™”ë©´ì— ê·¸ë¦° í›„ ì‹¤í–‰ë  í•¨ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
ë˜ ë§¤ë²ˆ `render`í–ˆì„ ë•Œ ìµœì´ˆ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë©° ë§¤ ì—…ë°ì´íŠ¸ë§ˆë‹¤ ì‹¤í–‰ëœë‹¤.

```javascript
function Component() {
  const [count, setCount] = React.useState(1)
  const [text, setText] = React.useState('apple')
  // ëœë”ë§ ì‹œ ìµœì´ˆì— í•œ ë²ˆë§Œ ì‹¤í–‰ëœë‹¤.
  // ë°°ì—´ ì•ˆì— ê´€ì°°í•˜ê³ ì í•˜ëŠ” ìƒíƒœë¥¼ ì „ë‹¬í•˜ë©´ ê·¸ ìƒíƒœì— ë°˜ì‘í•˜ì—¬ ì½œë°±ì´ ì‹¤í–‰ëœë‹¤.
  React.useEffect(() => {
    console.log('side effect')
  }, [])
  // ...
}
```

```javascript
function useEffect(cb, depArray) {
  const oldDeps = hooks[idx] // ì´ë¯¸ ì €ì¥ë˜ì–´ìˆë˜ ì˜ì¡´ ê°’ ë°°ì—´ì´ ìˆëŠ”ì§€ ë³¸ë‹¤.
  let hasChanged = true
  if (oldDeps) {
    // ì˜ì¡´ ê°’ ë°°ì—´ì˜ ê°’ ì¤‘ì—ì„œ ì°¨ì´ê°€ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸í•œë‹¤.
    // ì‹¤ì œë¡œ ë¦¬ì•¡íŠ¸ êµ¬í˜„ì²´ë„ `Object.is` ë¡œ ê°’ì„ ë¹„êµí•œë‹¤. ì •í™•í•œ ë™ì‘ì€ MDN ì°¸ê³ .
    hasChanged = depArray.some((dep, i) => !Object.is(dep, oldDeps[i]))
  }
  // ê°’ì´ ë°”ë€Œì—ˆìœ¼ë‹ˆ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤.
  if (hasChanged) {
    cb()
  }
  // useEffectë„ í›…ì˜ ì¼ë¶€ë¶„ì´ë‹¤. hooks ë°°ì—´ì— ë„£ì–´ì„œ ê´€ë¦¬í•´ì¤€ë‹¤.
  hooks[idx] = depArray
  idx++
}
```

ìœ„ì— ì„ ì–¸ëœ `React` ëª¨ë“ˆ ì•ˆì— `useEffect`í•¨ìˆ˜ë¥¼ ì •ì˜í•œë‹¤.
ë‘ë²ˆì§¸ ì¸ìë¡œ ë„£ì–´ë‘” ì˜ì¡´ë°°ì—´(dependency array)ì„ ê´€ì°°í•˜ë©° ê°’ì´ ë³€í•˜ë©´ ì½œë°±ì„ ì‹¤í–‰í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.

---

## ì°¸ì¡°

ìœ„ ê¸€ì€ ì•„ë˜ ë‘ ë¸”ë¡œê·¸ë¥¼ ì •ë…í•˜ë©° ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.

[Deep dive: How do React hooks really work?](https://www.netlify.com/blog/2019/03/11/deep-dive-how-do-react-hooks-really-work/)

[Getting Closure on React Hooks](https://rinae.dev/posts/getting-closure-on-react-hooks-summary)
9:["$","section",null,{"children":["$","$L14",null,{"posts":{"posts":[{"content":"$15","data":{"title":"ì›¹ ì ‘ê·¼ì„± (A11y)","date":"$D2025-08-29T00:00:00.000Z","description":"ì›¹ ì ‘ê·¼ì„±(A11y)ì— ëŒ€í•œ ì´í•´ì™€ ì‹¤ì²œ ë°©ë²•","category":"study","titleImage":"/assets/postIcon/javascript.webp"},"slug":"a11y"},{"content":"$16","data":{"title":"svg íŒŒì¼ì„ rollup ìœ¼ë¡œ ë²ˆë“¤ë§í•˜ê¸°","date":"$D2025-05-26T00:00:00.000Z","description":"svg íŒŒì¼ì„ rollup ìœ¼ë¡œ ë²ˆë“¤ë§í•´ React ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©í•˜ê¸°","category":"javaScript","titleImage":"/assets/postIcon/rollup-logo.svg"},"slug":"rollup-svg"},{"content":"$17","data":{"title":"ì´ë²¤íŠ¸ ë²„ë¸”ë§ê³¼ ì´ë²¤íŠ¸ ìº¡ì²˜ë§","date":"$D2025-05-23T00:00:00.000Z","description":"ì´ë²¤íŠ¸ ë²„ë¸”ë§ê³¼ ì´ë²¤íŠ¸ ìº¡ì²˜ë§ì— ëŒ€í•œ ì´í•´","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"event-bubble-capture"},{"content":"$18","data":{"title":"ì„¸ì…˜ê³¼ ì¿ í‚¤","date":"$D2025-05-13T00:00:00.000Z","description":"ì„¸ì…˜ê³¼ ì¿ í‚¤ì˜ ê°œë…ê³¼ ì°¨ì´ì ","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"session-cookie"},{"content":"$19","data":{"title":"React Parallel Routes","date":"$D2025-04-14T00:00:00.000Z","description":"AOS ì›¹ë·°ì—ì„œ ë’¤ë¡œê°€ê¸°ì‹œ ëª¨ë‹¬ì„ ë‹«ìœ¼ë ¤ë©´?","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"react-parallel-routes"},{"content":"$1a","data":{"title":"2ë…„ê°„ ìŠ¤í„°ë””í•˜ë©° ë°°ìš´ê²ƒë“¤","date":"$D2025-03-18T00:00:00.000Z","description":"2ë…„ê°„ì˜ ìŠ¤í„°ë””ë¥¼ íšŒê³ í•˜ë©° ëŠë‚€ ì ê³¼ ë°°ìš´ ì ","category":"til","titleImage":"/assets/postIcon/til.webp"},"slug":"study-remind"},{"content":"$1b","data":{"title":"React Native Deep Linking (2)","date":"$D2025-02-03T00:00:00.000Z","description":"React Native Deep Linking ì—°ê²°","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"rn-deep-link-2"},{"content":"$1c","data":{"title":"document.visibilityState","date":"$D2024-12-06T00:00:00.000Z","description":"document.visibilityStateë¥¼ ì´ìš©í•œ í˜ì´ì§€ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"visibilityState"},{"content":"$1d","data":{"title":"IOS ì›¹ë·°ì—ì„œ safe area ì„¤ì •í•˜ê¸°","date":"$D2024-07-02T00:00:00.000Z","description":"IOS ì›¹ë·°ì—ì„œ safe area ë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"webview-safe-area"},{"content":"$1e","data":{"title":"rollupìœ¼ë¡œ ë²ˆë“¤ë§í•˜ëŠ” ê³¼ì •","date":"$D2024-03-09T00:00:00.000Z","description":"ì²˜ìŒ rollupìœ¼ë¡œ ë²ˆë“¤ë§í•˜ëŠ” ê³¼ì •ì—ì„œ ê²ªì€ ë¬¸ì œë“¤ê³¼ í•´ê²°ë°©ë²•","category":"javaScript","titleImage":"/assets/postIcon/rollup-logo.svg"},"slug":"rollup"},{"content":"$1f","data":{"title":"cjsì™€ esm","date":"$D2024-03-07T00:00:00.000Z","description":"rollupìœ¼ë¡œ ë²ˆë“¤ë§í•˜ëŠ” ê³¼ì •ì—ì„œ ì•Œê²Œëœ cjsì™€ esmì˜ ì°¨ì´ì ì— ëŒ€í•´","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"module-system"},{"content":"$20","data":{"title":"ë¦¬ì•¡íŠ¸ì—ì„œ ë¶ˆë³€ì„±ì„ ì§€í‚¤ëŠ” ì´ìœ ","date":"$D2024-02-25T00:00:00.000Z","description":"ë¦¬ì•¡íŠ¸ì—ì„œ ë¶ˆë³€ì„±ì„ ì§€í‚¤ëŠ” ì´ìœ ","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"react-immutable"},{"content":"$21","data":{"title":"Vite proxy ì„¤ì •","date":"$D2024-01-18T00:00:00.000Z","description":"Vite ë¡œì»¬í™˜ê²½ì—ì„œ CORS ë¬¸ì œ í•´ê²°í•˜ê¸°","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"vite-proxy"},{"content":"$22","data":{"title":"ë°”ë²¨ ì‚¬ìš©í•´ë³´ê¸°","date":"$D2023-12-01T00:00:00.000Z","description":"ë°”ë²¨ ê¸°ë³¸ ë™ì‘ê³¼ ì‚¬ìš©ë°©ë²•","category":"javaScript","titleImage":"/assets/postIcon/babel-icon.svg"},"slug":"babel"},{"content":"$23","data":{"title":"ì›¹íŒ© ê¸°ë³¸ ì‚¬ìš©ë²• (1)","date":"$D2023-11-30T00:00:00.000Z","description":"ì²˜ìŒ ì ‘í•´ë³´ëŠ” ì›¹íŒ©ì˜ ì›ë¦¬ì™€ ê¸°ë³¸ ì‚¬ìš© ë°©ë²•","category":"javaScript","titleImage":"/assets/postIcon/webpack-icon.svg"},"slug":"webpack-1"},{"content":"$24","data":{"title":"React Native geolocation","date":"$D2023-10-25T00:00:00.000Z","description":"React Native ìœ„ì¹˜ì •ë³´ ë°›ì•„ì˜¤ê¸°","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"rn-geolocation"},{"content":"$25","data":{"title":"React Native Deep Linking","date":"$D2023-10-17T00:00:00.000Z","description":"React Native Deep Linking ì—°ê²°","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"rn-deep-link"},{"content":"$26","data":{"title":"Next.js ë¸”ë¡œê·¸ ë§Œë“¤ê¸°","date":"$D2023-10-09T00:00:00.000Z","description":"Next.jsë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°","category":"javaScript","titleImage":"/assets/postIcon/Nextjs.svg"},"slug":"next-blog"},{"content":"$27","data":{"title":"jwt í† í° decode í•˜ê¸°","date":"$D2023-08-31T00:00:00.000Z","description":"jwt í† í° decode í•¨ìˆ˜","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"jwt-decode"},{"content":"$28","data":{"title":"Audioê°ì²´ë¥¼ ì´ìš©í•œ ìŒì•… ì¬ìƒ","date":"$D2023-05-27T00:00:00.000Z","description":"Audioê°ì²´ë¥¼ ì‚¬ìš©í•œ ê¸°ì—… ê³¼ì œ êµ¬í˜„","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"audio"},{"content":"$29","data":{"title":"ë””ë°”ìš´ì‹±ê³¼ ì“°ë¡œí‹€ë§","date":"$D2023-05-13T00:00:00.000Z","description":"ë””ë°”ìš´ì‹±ê³¼ ì“°ë¡œí‹€ë§ì˜ ì°¨ì´ë¥¼ êµ¬ë¶„í•˜ê³  hookìœ¼ë¡œ êµ¬í˜„","category":"javaScript","titleImage":"/assets/postIcon/javascript.webp"},"slug":"debouce-throttle"},{"content":"$2a","data":{"title":"GraphQl ì¨ë³´ê¸°(1)","date":"$D2023-04-29T00:00:00.000Z","description":"GraphQl, Apollo Clientë¥¼ ì‚¬ìš©","category":"javaScript","titleImage":"/assets/postIcon/graphql.svg"},"slug":"graphql-1"},{"content":"$2b","data":{"title":"ë¸Œë¼ìš°ì €ì— urlì„ ê²€ìƒ‰í•˜ë©´?","date":"$D2023-02-25T00:00:00.000Z","description":"ì‚¬ë‚´ ìŠ¤í„°ë””","category":"study","titleImage":"/assets/postIcon/javascript.webp"},"slug":"browser"},{"content":"$2c","data":{"title":"Next.js middlewareì™€ getServerSideProps","date":"$D2023-02-22T00:00:00.000Z","description":"ì„¸ì…˜ë°©ì‹ì˜ ë¡œê·¸ì¸ ì¸ì¦, middlewareì™€ getServerSidePropsë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í•œ ê¸°ë¡","category":"javaScript","titleImage":"/assets/postIcon/Nextjs.svg"},"slug":"next-middleware"},{"content":"$2d","data":{"title":"Nextjsì—ì„œ tailwind ì¨ë³´ê¸°","date":"$D2023-02-18T00:00:00.000Z","description":"ê³µì‹ë¬¸ì„œ ë³´ë©´ì„œ tailwind ì¨ë³´ê¸°","category":"javaScript","titleImage":"/assets/postIcon/tailwind-css-icon.webp"},"slug":"tailwindcss"},{"content":"$2e","data":{"title":"JavaScript this","date":"$D2023-02-02T00:00:00.000Z","description":"ì‚¬ë‚´ ìŠ¤í„°ë”” this","category":"study","titleImage":"/assets/postIcon/javascript.webp"},"slug":"this"},{"content":"$2f","data":{"title":"ìŠ¤ë²¨íŠ¸í‚·ìœ¼ë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ì–´ë³´ê¸°","date":"$D2023-01-30T00:00:00.000Z","description":"ìŠ¤ë²¨íŠ¸í‚·ìœ¼ë¡œ ë¸”ë¡œê·¸ ë§Œë“  ê³¼ì •ì„ ì •ë¦¬","category":"javaScript","titleImage":"/assets/postIcon/svelte-icon.webp"},"slug":"svelte-blog"},{"content":"\n### Provider í…ŒìŠ¤íŒ… í•´ë³´ê¸°\n\n```js\nrender(<Options optionType=\"scoops\" />, {wrapper: OrderDetailsProvider});\n```\n\ní…ŒìŠ¤íŠ¸ wrapperì— Providerë¡œ ê°ì‹¸ì£¼ë©´ ëœë‹¤.\n\nì—¬ê¸°ì„œëŠ” reduxë‚˜ recoil ë“± ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ê°€ëŠ¥\n\n---\n\nì „ì—­ì ìœ¼ë¡œë„ ì‚¬ìš©ì´ ê°€ëŠ¥\n\n```js\nimport {render} from '@testing-library/react';\nimport {OrderDetailsProvider} from '../contexts/OrderDetails';\n\nconst renderWithContext = (ui, options) => render(ui, {wrapper: OrderDetailsProvider, ...options});\n\nexport * from '@testing-library/react';\n\nexport {renderWithContext as render};\n```\n","data":{"title":"ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŒ…(4)","date":"$D2023-01-02T00:00:00.000Z","description":"jestì™€ react-testing-library","category":"javaScript","titleImage":"/assets/postIcon/test.webp"},"slug":"react-testing-4"},{"content":"$30","data":{"title":"ë¦¬ì•¡íŠ¸ ì¡°ê±´ë¶€ ë Œë”ë§ì— ëŒ€í•œ ìƒê°","date":"$D2022-12-29T00:00:00.000Z","description":"í•´ì™¸ ë¸”ë¡œê·¸ë¥¼ ë³´ë©° ì •ë¦¬í•œ ì¡°ê±´ë¶€ ë Œë”ë§ì— ëŒ€í•œ ìƒê°","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"conditional-rendering"},{"content":"$31","data":{"title":"useCallback, useMemo ë¬´ì¡°ê±´ ì¢‹ì€ê°€?","date":"$D2022-12-28T00:00:00.000Z","description":"useCallbackê³¼ useMemoì— ëŒ€í•œ ìƒê° ì •ë¦¬","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"usecallback-and-usememo"},{"content":"$32","data":{"title":"ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŒ…(3)","date":"$D2022-12-26T00:00:00.000Z","description":"jestì™€ react-testing-library","category":"javaScript","titleImage":"/assets/postIcon/test.webp"},"slug":"react-testing-3"},{"content":"$33","data":{"title":"ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŒ…(2)","date":"$D2022-12-14T00:00:00.000Z","description":"jestì™€ react-testing-library","category":"javaScript","titleImage":"/assets/postIcon/test.webp"},"slug":"react-testing-2"},{"content":"$34","data":{"title":"ë¦¬ì•¡íŠ¸ í…ŒìŠ¤íŒ…(1)","date":"$D2022-12-10T00:00:00.000Z","description":"jestì™€ react-testing-library","category":"javaScript","titleImage":"/assets/postIcon/test.webp"},"slug":"react-testing-1"},{"content":"$35","data":{"title":"6ì£¼ê°„ ìŠ¤í„°ë””í•˜ë©° ë°°ìš´ê²ƒë“¤","date":"$D2022-10-21T00:00:00.000Z","description":"6ì£¼ê°„ ì§„í–‰í•œ ìŠ¤í„°ë””ì—ì„œ ì–»ì€ ê²ƒë“¤","category":"til","titleImage":"/assets/postIcon/til.webp"},"slug":"study"},{"content":"$36","data":{"title":"Storybook ì¨ë³´ê¸°","date":"$D2022-10-11T00:00:00.000Z","description":"ìŠ¤í„°ë”” í•˜ë©´ì„œ ì²˜ìŒ ì¨ë³¸ Storybook","category":"javaScript","titleImage":"/assets/postIcon/storybook.webp"},"slug":"storybook"},{"content":"$37","data":{"title":"Next.js styled-component ì ìš© ë¬¸ì œì— ëŒ€í•´(_document.tsx)","date":"$D2022-08-22T00:00:00.000Z","description":"next.jsì™€ styled-component ì‚¬ìš©ì‹œ ë°œìƒí•œ ì—ëŸ¬","category":"javaScript","titleImage":"/assets/postIcon/Nextjs.svg"},"slug":"next-styled-component"},{"content":"$38","data":{"title":"IntersectionObserverë¡œ ë°ì´í„° ìš”ì²­í•´ë³´ê¸°","date":"$D2022-05-04T00:00:00.000Z","description":"IntersectionObserverë¥¼ í™œìš©í•´ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"intersectionObserver"},{"content":"\n\n####\n**bundle-analyzer**ëŠ” ë¹Œë“œëœ íŒŒì¼ì„ íŠ¸ë¦¬ë§µ í˜•ì‹ìœ¼ë¡œ ì¢…ë¥˜ì™€ í¬ê¸°ë¥¼ ë³´ì—¬ì¤€ë‹¤.\n\nnextì—ì„œ ì œê³µí•˜ëŠ” bundle-analyzer\n\nnext.config.js\n\n```javascript\nconst withBundleAnalyzer = require('@next/bundle-analyzer')({\n  enabled: process.env.ANALYZE === 'true'\n})\n\nmodule.exports = withBundleAnalyzer({\n  compress: true,\n  webpack(config, {webpack}) {\n    const prod = process.env.NODE_ENV === 'production'\n    const plugins = [...config.plugins]\n    return {\n      ...config,\n      mode: prod ? 'production' : 'development',\n      devtool: prod ? 'hidden-source-map' : 'eval',\n      plugins\n    }\n  }\n})\n```\n\npackage.json / script\n\n```\n\"build\": \"ANALYZE=true next build\",\n```\n\n<img src=\"/assets/blog/javaScript/bundle-analyzer.png\" width=\"100%\" alt=\"bundle-analyzer\"/>\n\n\nì´ëŸ°ì‹ìœ¼ë¡œ htmlì´ ì‹¤í–‰ëœë‹¤.\n\nì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ë‘ê°œì˜ ì°½ì´ ì‹¤í–‰ë˜ëŠ”ë° í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ì¸ ì‚¬ìš©ìì—ê²Œ ì§ì ‘ ë³´ì—¬ì§ˆ ë¶€ë¶„ì´ë¼, ì„œë²„ ë¶€ë¶„ë³´ë‹¤ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ì„ ì¤„ì´ëŠ”ê²Œ ë” íš¨ê³¼ì ì´ë¼ê³  í•œë‹¤.\n\nì•„ì´ì½˜ìœ¼ë¡œ ì“°ì¼ ì´ë¯¸ì§€ë¥¼ ë‘ê°œì“°ê¸°ì‹«ì–´ svgë¥¼ ì»´í¬ë„ŒíŠ¸í™”ì‹œì¼œ propsë¡œ ìƒ‰ìƒì„ ë³€ê²½ì‹œí‚¤ê²Œ í–ˆëŠ”ë°, ìš©ëŸ‰ì´ ê½¤ í¬ë‹¤ê³  ë‚˜ì™”ë‹¤ ê±°ìŠ¬ë¦°ë‹¤ ğŸ¤”\n\nì¤„ì¼ìˆ˜ìˆëŠ” ë°©ë²•ì„ ì°¾ì•„ë´ì•¼ê² ë‹¤.\n\në˜ ë‚˜ì¤‘ì— ìµœì¢… ë°°í¬ë•ŒëŠ” ë²ˆë“¤ëœ JS íŒŒì¼ì„ gzë¡œ ì••ì¶•ì‹œì¼œ ë¸Œë¼ìš°ì € ìª½ìœ¼ë¡œ ë³´ë‚´ì£¼ëŠ” ë°©ë²•ë„ ìˆë‹¤ê³  í•˜ëŠ”ë°, ë‚˜ì¤‘ì— ì‹œë„í•´ë´ì•¼ê² ë‹¤.\n","data":{"title":"next/bundle-analyzer","date":"$D2022-02-22T00:00:00.000Z","description":"next/bundle-analyzerë¡œ ë²ˆë“¤ í¬ê¸° í™•ì¸í•˜ê¸°","category":"javaScript","titleImage":"/assets/postIcon/Nextjs.svg"},"slug":"next-bundle-analyzer"},{"content":"$39","data":{"title":"ë¦¬ì•¡íŠ¸ ref ì™€ forwardRef (with. react-hook-form)","date":"$D2022-02-09T00:00:00.000Z","description":"react-hook-form ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ refì˜ ë™ì‘","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"ref-forwardRef"},{"content":"$3a","data":{"title":"Speechsynthesis & Google TTS","date":"$D2022-01-22T00:00:00.000Z","description":"í”„ë¡œì íŠ¸ ì§„í–‰í•˜ë©° ê²½í—˜í•´ë³¸ Speechsynthesis & Google TTS","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"Speechsynthesis"},{"content":"$3b","data":{"title":"ì›¹ì„±ëŠ¥ ìµœì í™”(3)","date":"$D2022-01-04T00:00:00.000Z","description":"ì›¹ì„±ëŠ¥ ìµœì í™”3","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"web-optimization-3"},{"content":"$3c","data":{"title":"ì›¹ì„±ëŠ¥ ìµœì í™”(2)","date":"$D2022-01-03T00:00:00.000Z","description":"ì›¹ì„±ëŠ¥ ìµœì í™”2","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"web-optimization-2"},{"content":"$3d","data":{"title":"ì›¹ì„±ëŠ¥ ìµœì í™”(1)","date":"$D2022-01-01T00:00:00.000Z","description":"ì›¹ì„±ëŠ¥ ìµœì í™”1","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"web-optimization"},{"content":"$3e","data":{"title":"ìŠ¤ë²¨íŠ¸ì™€ ë¦¬ì•¡íŠ¸","date":"$D2021-12-12T00:00:00.000Z","description":"ìŠ¤ë²¨íŠ¸ì™€ ë¦¬ì•¡íŠ¸ì— ëŒ€í•´ ì •ë¦¬í•œ ê¸€","category":"javaScript","titleImage":"/assets/postIcon/svelte-icon.webp"},"slug":"svelte-react"},{"content":"$3f","data":{"title":"React ì²˜ëŸ¼ ìƒê°í•˜ê¸°(2)","date":"$D2021-12-12T00:00:00.000Z","description":"ë¦¬ì•¡íŠ¸ ë¬¸ì„œ ë³´ë©° ì •ë¦¬","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"thinking-in-react-2"},{"content":"$40","data":{"title":"React ì²˜ëŸ¼ ìƒê°í•˜ê¸°","date":"$D2021-11-20T00:00:00.000Z","description":"ë¦¬ì•¡íŠ¸ ë¬¸ì„œ ë³´ë©° ì •ë¦¬","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"thinking-in-react"},{"content":"$41","data":{"title":"React Hookì˜ ë™ì‘","date":"$D2021-11-07T00:00:00.000Z","description":"React Hookì˜ ë™ì‘ì— ëŒ€í•´","category":"javaScript","titleImage":"/assets/postIcon/logo192.webp"},"slug":"react-hook"}],"total":47}}]}]
f:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
b:null
42:I[622,[],"IconMark"]
d:{"metadata":[["$","title","0",{"children":"Been blog search"}],["$","meta","1",{"name":"description","content":"Been dev-note search"}],["$","meta","2",{"name":"google-site-verification","content":"BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U"}],["$","meta","3",{"name":"naver-site-verification","content":"58945b2bbe2fe86252fa8c7b204b40f6019920e9"}],["$","link","4",{"rel":"canonical","href":"https://wonbeenna.github.io/search"}],["$","meta","5",{"property":"og:title","content":"Been blog - search"}],["$","meta","6",{"property":"og:description","content":"Been dev-note - search"}],["$","meta","7",{"property":"og:url","content":"https://wonbeenna.github.io"}],["$","meta","8",{"property":"og:site_name","content":"Been blog"}],["$","meta","9",{"property":"og:locale","content":"ko_KR"}],["$","meta","10",{"property":"og:image","content":"https://wonbeenna.github.io/favicon.png"}],["$","meta","11",{"property":"og:image:width","content":"800"}],["$","meta","12",{"property":"og:image:height","content":"600"}],["$","meta","13",{"property":"og:image:alt","content":"Been blog"}],["$","meta","14",{"property":"og:type","content":"website"}],["$","meta","15",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","16",{"name":"twitter:title","content":"Been blog - search"}],["$","meta","17",{"name":"twitter:description","content":"Been dev-note - search"}],["$","meta","18",{"name":"twitter:image","content":"https://wonbeenna.github.io/favicon.png"}],["$","meta","19",{"name":"twitter:image:width","content":"800"}],["$","meta","20",{"name":"twitter:image:height","content":"600"}],["$","meta","21",{"name":"twitter:image:alt","content":"Been blog"}],["$","link","22",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"192x192"}],["$","link","23",{"rel":"icon","href":"/favicon.ico","sizes":"any"}],["$","link","24",{"rel":"icon","href":"/favicon.png","sizes":"32x32","type":"image/png"}],["$","link","25",{"rel":"apple-touch-icon","href":"/favicon.png","sizes":"32x32","type":"image/png"}],["$","$L42","26",{}]],"error":null,"digest":"$undefined"}
12:"$d:metadata"
