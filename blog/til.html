<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/47cbc4e2adbc5db9-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/assets/icons/been-logo.svg"/><link rel="preload" as="image" href="/assets/icons/search.svg"/><link rel="preload" as="image" href="/assets/icons/github.svg"/><link rel="preload" as="image" href="/assets/icons/mail.svg"/><link rel="preload" as="image" href="/assets/icons/moon.svg"/><link rel="stylesheet" href="/_next/static/css/e539936c7dc6b882.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/76a9eda9b9d58271.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-d03ada64c565bb00.js"/><script src="/_next/static/chunks/4bd1b696-eff4cd433f0a206a.js" async=""></script><script src="/_next/static/chunks/684-2de51a4b46c5e511.js" async=""></script><script src="/_next/static/chunks/main-app-4b8a081b5fa29a8b.js" async=""></script><script src="/_next/static/chunks/874-e19ba39e696c2f56.js" async=""></script><script src="/_next/static/chunks/766-1b379246b68420ec.js" async=""></script><script src="/_next/static/chunks/app/layout-6125c08b6d2f6731.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bcategory%5D/page-72a10817de1af984.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN" as="script"/><meta name="next-size-adjust" content=""/><title>Been blog - til</title><meta name="description" content="Been dev-note - til"/><meta name="google-site-verification" content="BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U"/><meta name="naver-site-verification" content="58945b2bbe2fe86252fa8c7b204b40f6019920e9"/><link rel="canonical" href="https://wonbeenna.github.io/blog/til"/><meta property="og:title" content="Been blog - til"/><meta property="og:description" content="Been dev-note - til"/><meta property="og:url" content="https://wonbeenna.github.io/blog/til"/><meta property="og:site_name" content="Been blog"/><meta property="og:locale" content="ko_KR"/><meta property="og:image" content="https://wonbeenna.github.io/favicon.png"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:image:alt" content="Been blog"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Been blog - til"/><meta name="twitter:description" content="Been dev-note - til"/><meta name="twitter:image" content="https://wonbeenna.github.io/favicon.png"/><meta name="twitter:image:width" content="800"/><meta name="twitter:image:height" content="600"/><meta name="twitter:image:alt" content="Been blog"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="192x192"/><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="icon" href="/favicon.png" sizes="32x32" type="image/png"/><link rel="apple-touch-icon" href="/favicon.png" sizes="32x32" type="image/png"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_518cef"><script>((e,t,r,n,o,a,i,u)=>{let l=document.documentElement,s=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(l.classList.remove(...n),l.classList.add(t)):l.setAttribute(e,t)}),r=t,u&&s.includes(r)&&(l.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><header class="sticky top-0 z-10 mx-auto my-0 h-[56px] border-b border-b-gray200 bg-white px-[24px] py-0 dark:bg-darkBg01"><section class="m-auto flex h-full max-w-[970px] items-center justify-between"><div class="flex items-center gap-[20px]"><a href="/"><img alt="logo" width="60" height="56" decoding="async" data-nimg="1" class="h-[56px] w-[60px]" style="color:transparent" src="/assets/icons/been-logo.svg"/></a><div class="flex items-center gap-[20px]"><a href="/about">About</a></div></div><div class="flex items-center gap-[12px]"><a href="/search"><img alt="search" width="22" height="22" decoding="async" data-nimg="1" style="color:transparent" src="/assets/icons/search.svg"/></a><a target="_blank" rel="noopener noreferrer" href="https://github.com/wonbeenna"><img alt="github" width="22" height="22" decoding="async" data-nimg="1" style="color:transparent" src="/assets/icons/github.svg"/></a><a href="mailto:nwbnwb@naver.com"><img alt="email" width="26" height="26" decoding="async" data-nimg="1" style="color:transparent" src="/assets/icons/mail.svg"/></a><button><img alt="theme" width="22" height="22" decoding="async" data-nimg="1" style="color:transparent" src="/assets/icons/moon.svg"/></button></div></section></header><main class="mx-auto my-0 max-w-[970px] p-[16px]"><section class="flex flex-col-reverse md:relative md:flex-row"><div class="flex flex-1 flex-col"><ol class="relative mx-0 my-[20px] flex w-full  flex-col gap-[40px] p-0"><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/til/study-remind"><img alt="2년간 스터디하며 배운것들" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/til.webp"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">2년간 스터디하며 배운것들</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">2년간의 스터디를 회고하며 느낀 점과 배운 점</p><span class="text-gray700">2025-03-18</span></div></a></li><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/til/study"><img alt="6주간 스터디하며 배운것들" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/til.webp"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">6주간 스터디하며 배운것들</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">6주간 진행한 스터디에서 얻은 것들</p><span class="text-gray700">2022-10-21</span></div></a></li></ol></div><ul class="relative top-0 flex h-fit min-w-fit flex-row flex-wrap gap-[20px] py-[20px] pl-0 md:sticky md:top-[100px] md:flex-col md:flex-nowrap md:py-0 md:pl-[30px]"><h2 class="hidden text-[18px] font-bold md:inline">Category</h2><li><a class="text-gray700" href="/blog/javaScript">javaScript (39)</a></li><li><a class="font-[600] text-black" href="/blog/til">til (2)</a></li><li><a class="text-gray700" href="/blog/study">study (2)</a></li></ul></section></main><footer class="flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600">Copyright © Been.</footer><script src="/_next/static/chunks/webpack-d03ada64c565bb00.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[9243,[\"874\",\"static/chunks/874-e19ba39e696c2f56.js\",\"766\",\"static/chunks/766-1b379246b68420ec.js\",\"177\",\"static/chunks/app/layout-6125c08b6d2f6731.js\"],\"\"]\n3:I[881,[\"874\",\"static/chunks/874-e19ba39e696c2f56.js\",\"766\",\"static/chunks/766-1b379246b68420ec.js\",\"177\",\"static/chunks/app/layout-6125c08b6d2f6731.js\"],\"Providers\"]\n4:I[6874,[\"874\",\"static/chunks/874-e19ba39e696c2f56.js\",\"766\",\"static/chunks/766-1b379246b68420ec.js\",\"772\",\"static/chunks/app/blog/%5Bcategory%5D/page-72a10817de1af984.js\"],\"\"]\n5:I[3063,[\"874\",\"static/chunks/874-e19ba39e696c2f56.js\",\"766\",\"static/chunks/766-1b379246b68420ec.js\",\"177\",\"static/chunks/app/layout-6125c08b6d2f6731.js\"],\"Image\"]\n6:I[1186,[\"874\",\"static/chunks/874-e19ba39e696c2f56.js\",\"766\",\"static/chunks/766-1b379246b68420ec.js\",\"177\",\"static/chunks/app/layout-6125c08b6d2f6731.js\"],\"default\"]\n7:I[7555,[],\"\"]\n8:I[1295,[],\"\"]\na:I[9665,[],\"OutletBoundary\"]\nd:I[9665,[],\"ViewportBoundary\"]\nf:I[9665,[],\"MetadataBoundary\"]\n11:I[6614,[],\"\"]\n:HL[\"/_next/static/media/47cbc4e2adbc5db9-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/e539936c7dc6b882.css\",\"style\"]\n:HL[\"/_next/static/css/76a9eda9b9d58271.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"Dzi2CkmyJVq1ENTRmDPpL\",\"p\":\"\",\"c\":[\"\",\"blog\",\"til\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"category\",\"til\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/e539936c7dc6b882.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/76a9eda9b9d58271.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"$L2\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN\"}],[\"$\",\"$L2\",null,{\"id\":\"google-analytics\",\"children\":\"\\n          window.dataLayer = window.dataLayer || [];\\n          function gtag(){dataLayer.push(arguments);}\\n          gtag('js', new Date());\\n \\n          gtag('config', 'G-LFDRQZPCBN');\\n        \"}],[\"$\",\"body\",null,{\"suppressHydrationWarning\":true,\"className\":\"__className_518cef\",\"children\":[\"$\",\"$L3\",null,{\"children\":[[\"$\",\"header\",null,{\"className\":\"sticky top-0 z-10 mx-auto my-0 h-[56px] border-b border-b-gray200 bg-white px-[24px] py-0 dark:bg-darkBg01\",\"children\":[\"$\",\"section\",null,{\"className\":\"m-auto flex h-full max-w-[970px] items-center justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-[20px]\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/\",\"children\":[\"$\",\"$L5\",null,{\"className\":\"h-[56px] w-[60px]\",\"src\":\"/assets/icons/been-logo.svg\",\"width\":60,\"height\":56,\"priority\":true,\"alt\":\"logo\"}]}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-[20px]\",\"children\":[\"$\",\"$L4\",null,{\"href\":\"/about\",\"children\":\"About\"}]}]]}],[\"$\",\"$L6\",null,{}]]}]}],[\"$\",\"main\",null,{\"className\":\"mx-auto my-0 max-w-[970px] p-[16px]\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600\",\"children\":\"Copyright © Been.\"}]]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"category\",\"til\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L9\",\"$undefined\",null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",null]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"4HZn4oTFRsc7BjezXr-Fy\",{\"children\":[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:I[1114,[\"874\",\"static/chunks/874-e19ba39e696c2f56.js\",\"766\",\"static/chunks/766-1b379246b68420ec.js\",\"772\",\"static/chunks/app/blog/%5Bcategory%5D/page-72a10817de1af984.js\"],\"default\"]\n13:T3de5,"])</script><script>self.__next_f.push([1,"\n### 들어가며\n단순한 스터디에서 시작했지만, 예비창업패키지에도 선정되며 아주 작은 스타트업처럼 운영하게 된 스터디를 회고하며 느낀 점과 배운 점을 정리해보려 한다.\n\n우리팀은 초기에 9명정도로 구성되었고, 팀장은 대학생이었으며, 나머지 구성원의 대부분이 직장인이었다.\n\n기획자, 디자이너, 백엔드, 프론트 등 다양한 역할을 담당하는 팀원들이 모여 협업을 진행했으며, 거의 스타트업과 유사한 형태로 운영되었다.\n\n2년간 휴일을 제외하고는 매주 빠짐없이 1회씩 정기 회의를 진행하였다.\n\n---\n\n초기 FE는 nx를 이용하여 monorepo로 구성하였다.\n\nNext.js을 이용하여 웹뷰기반의 앱을 구성하였고, 앱은 react-native로 빌드해 배포하였다.\n\n---\n\n### 웹뷰는 불편했다\n웹뷰에서의 제약들이 너무 많다고 느껴졌다.\n- 디바이스의 GPS를 받아와 사용자의 위치를 웹뷰로 전송하여 웹뷰에서 해당 위치를 기반으로 병원들을 검색하기도 했고, 해당 위치를 마커로 그리기도 했다.\n\n\n또한 앱에서 받은 권한들을 웹뷰로 전달하기 위한 모든 과정들이 개발자 측면에서 너무 불편하게 다가왔다.\n\u003cimg src=\"/assets/blog/javaScript/web-react-native.png\" width=\"100%\" alt=\"리액트와 리액트네이티브 차이\"/\u003e\n이미지 출처 : [toss](https://toss.tech/article/react-native-2024)\n- 앱 로딩 속도와 페이지 전환 속도에 있어서도, 앱에 비해 웹뷰는 네트워크가 조금만 느려진다거나, html, css, js를 모두 다운받아야 하기 때문에 사용자입장에서 앱이 굉장히 느리게 느껴졌다.\n- 배포 방식과 비용적인 측면\n    - 초기 MVP를 만들기 위해서는 웹뷰가 좋지만, 이후에 보다 정교한 앱을 만들기 위해서는 웹뷰는 적합하지 않다고 느꼈다.\n    - 웹뷰는 별도의 도메인 비용과 호스팅비용이 따로 들기 때문에, 장기적으로 봤을때 앱을 배포하기 위해서는 웹뷰를 사용하기보다는 앱을 개발하는 것이 더 효율적이라고 느껴졌다.\n    - 웹보다는 앱서비스가 주력이었다.\n\n---\n\n### React Native로의 전환\n웹뷰를 과감히 버리고, 새롭게 react-native로 앱을 개발하기로 했다.\n\n다행히 이전회사에서 react-native로 몇가지 앱을 개발해본 경험도있었고, 개인적으로 앱 개발에 대해 관심이 많았기 때문에, react-native로의 전환은 큰 어려움이 없었다.\n몇가지 기억나는 점들을 정리해보자면\n- 특히 지도 이슈가 컸다. 카카오, 네이버 지도의 공식 SDK가 부재했고, 지원 가능한 라이브러리는 대부분 업데이트가 중단된 상태였다. 그 중 한분의 라이브러리를 https://github.com/mym0404/react-native-naver-map 를 사용하기로 했다.\n    - 해당 라이브러리는 v2 이상은 react-native에 새로운아키텍처만 지원하였고, v1은 클러스터를 지원하지 않아 클러스터만 따로 구현하기로 했다.\n    - 클러스터를 어떤식으로 구현할지 서치해보다가 k-means알고리즘을 사용한 react-native-maps 라이브러리에서 클러스터링을 구현한 것을 보고, 해당 라이브러리를 참고하여 클러스터를 구현하였다.\n```typescript\nexport const kMeansClustering = (\n  points: { latitude: number; longitude: number }[],\n  k: number,\n  maxIterations: number = 100,\n  mergeDistance: number = 500, // 병합 거리 (미터)\n): { latitude: number; longitude: number; points: { latitude: number; longitude: number }[] }[] =\u003e {\n  if (points.length === 0 || k \u003c= 0) {\n    throw new Error('Invalid input: No points or invalid number of clusters.');\n  }\n\n  // 초기 중심점 랜덤 선택\n  const centroids = Array.from(new Set(points))\n    .sort(() =\u003e Math.random() - 0.5)\n    .slice(0, k)\n    .map(point =\u003e ({\n      latitude: point.latitude,\n      longitude: point.longitude,\n    }));\n\n  let clusters: { latitude: number; longitude: number; points: { latitude: number; longitude: number }[] }[] = [];\n  let iteration = 0;\n\n  while (iteration \u003c maxIterations) {\n    // 클러스터 초기화\n    clusters = centroids.map(centroid =\u003e ({\n      ...centroid,\n      points: [],\n    }));\n\n    // 각 포인트를 가장 가까운 중심점에 할당\n    points.forEach(point =\u003e {\n      let closestIndex = 0;\n      let minDistance = Infinity;\n\n      centroids.forEach((centroid, index) =\u003e {\n        const distance = calculateDistance(point.latitude, point.longitude, centroid.latitude, centroid.longitude);\n        if (distance \u003c minDistance) {\n          minDistance = distance;\n          closestIndex = index;\n        }\n      });\n\n      clusters[closestIndex].points.push(point);\n    });\n\n    // 빈 클러스터 처리 (재배치)\n    clusters.forEach((cluster, index) =\u003e {\n      if (cluster.points.length === 0) {\n        const largestCluster = clusters.reduce((max, current) =\u003e\n          current.points.length \u003e max.points.length ? current : max,\n        );\n        const pointToMove = largestCluster.points.pop();\n        if (pointToMove) {\n            clusters[index].points.push(pointToMove);\n        }\n      }\n    });\n\n    // 새로운 중심점 계산\n    const newCentroids = clusters.map(cluster =\u003e {\n      const count = cluster.points.length;\n      if (count === 0) {\n          return cluster;  // 빈 클러스터는 기존 중심 유지\n      }\n\n      const avgLat = cluster.points.reduce((sum, point) =\u003e sum + point.latitude, 0) / count;\n      const avgLon = cluster.points.reduce((sum, point) =\u003e sum + point.longitude, 0) / count;\n\n      return { latitude: avgLat, longitude: avgLon };\n    });\n\n    // 중심점 업데이트\n    centroids.splice(0, centroids.length, ...newCentroids);\n\n    iteration++;\n  }\n\n  // 클러스터의 포인트가 1개인 경우 처리\n  clusters = clusters.map(cluster =\u003e {\n    if (cluster.points.length === 1) {\n      const singlePoint = cluster.points[0];\n      const nearbyPoints = points.filter(point =\u003e {\n        const distance = calculateDistance(\n          singlePoint.latitude,\n          singlePoint.longitude,\n          point.latitude,\n          point.longitude,\n        );\n        return distance \u003c= mergeDistance \u0026\u0026 point !== singlePoint;\n      });\n\n      // 주변 포인트 추가\n      cluster.points.push(...nearbyPoints);\n\n      // 병합 후 중심점 재계산\n      cluster.latitude = cluster.points.reduce((sum, point) =\u003e sum + point.latitude, 0) / cluster.points.length;\n      cluster.longitude = cluster.points.reduce((sum, point) =\u003e sum + point.longitude, 0) / cluster.points.length;\n    }\n    return cluster;\n  });\n\n  return clusters;\n};\n```\n`1. 초기 중심점(Centroids) 설정`\n- 입력받은 포인트 중 랜덤으로 k개의 중심점을 선택\n\n`2. 포인트 할당`\n- 각 포인트를 가장 가까운 중심점에 할당\n\n`3. 빈 클러스터 처리`\n- 특정 중심점에 아무 포인트도 할당되지 않는 경우가 발생할 수 있기때문에, 가장 큰 클러스터에서 포인트를 하나 가져와서 빈 클러스터에 배치\n\n`4. 중심점 재계산`\n- 각 클러스터의 중심점 위치를 클러스터에 속한 포인트들의 평균 좌표로 다시 계산\n\n`5. 반복`\n- 중심점 위치가 거의 변하지 않을 때까지 또는 최대 반복 횟수까지 이 과정을 반복\n\n`6. 포인트가 1개인 클러스터 처리`\n- 클러스터에 포인트가 하나뿐인 경우, 일정 거리 내 다른 포인트를 추가\n\n---\n\n### 스크롤 애니메이션\n\u003cimg src=\"/assets/blog/javaScript/medical-animation.gif\" width=\"300px\" alt=\"스크롤 애니메이션\"/\u003e\n\n```typescript jsx\n  const scrollY = useSharedValue(0);\n  const { top, right, left, bottom } = useSafeAreaInsets();\n  const viewRef = useRef\u003cFlatList\u003e(null);\n\n  const scrollHandler = useAnimatedScrollHandler({\n    onScroll: event =\u003e {\n      scrollY.value = event.contentOffset.y;\n    },\n  });\n\n  const petWrapperStyle = useAnimatedStyle(() =\u003e {\n    const translateY = interpolate(scrollY.value, [0, 100], [0, -100], Extrapolation.CLAMP);\n    const opacity = interpolate(scrollY.value, [0, 100], [1, 0], Extrapolation.CLAMP);\n    const height = interpolate(scrollY.value, [0, 180], [180, 0], Extrapolation.CLAMP);\n\n    return {\n      transform: [{ translateY: translateY }],\n      opacity,\n      height: withTiming(height, {\n        duration: 50,\n      }),\n      overflow: 'hidden',\n      useNativeDriver: true,\n    };\n  });\n\n\u003c\u003e\n      \u003cAnimated.View\n        style={[\n          styles.petWrapper,\n          petWrapperStyle,\n          {\n            paddingTop: top,\n            paddingLeft: left,\n            paddingRight: right,\n          },\n        ]}\n      \u003e\n        {...}\n      \u003c/Animated.View\u003e\n\n      \u003cView style={{ backgroundColor: color.white['500'] }}\u003e\n        {...}\n      \u003c/View\u003e\n\n      \u003cAnimated.FlatList\n        ref={viewRef}\n        scrollEventThrottle={16}\n        onScroll={scrollHandler}\n        contentContainerStyle={[styles.listWrapper]}\n        data={hospitalData}\n        keyExtractor={keyExtractor}\n        renderItem={renderItem}\n        stickyHeaderHiddenOnScroll={false}\n        ListHeaderComponent={\n          ...\n        }\n        ListFooterComponent={\n          ...\n        }\n        onEndReached={loadMore}\n        onEndReachedThreshold={0.5}\n        ListEmptyComponent={\n          ...\n        }\n      /\u003e\n    \u003c/\u003e\n```\n위와 같은 구조에서 스크롤을 내렸을때\n```typescript jsx\n      \u003cView style={{ backgroundColor: color.white['500'] }}\u003e\n        {...}\n      \u003c/View\u003e\n```\n\n해당 컴포넌트만 최상단으로 배치하고 나머지는 사라지게 하는 작업이 필요했다.\n\n먼저, useSharedValue(0)을 사용하여 스크롤 위치를 실시간으로 추적하고, 스크롤이 발생할 때마다 scrollHandler가 호출되면서, 현재의 스크롤 값을 scrollY.value에 저장했다.\n\n저장된 scrollY에 따라 사라지게 해야하는 컴포넌트의 스타일을 useAnimatedStyle을 사용하여 애니메이션 효과를 주었다.\n\n```typescript jsx\n  const petWrapperStyle = useAnimatedStyle(() =\u003e {\n    const translateY = interpolate(scrollY.value, [0, 100], [0, -100], Extrapolation.CLAMP);\n    const opacity = interpolate(scrollY.value, [0, 100], [1, 0], Extrapolation.CLAMP);\n    const height = interpolate(scrollY.value, [0, 180], [180, 0], Extrapolation.CLAMP);\n\n    return {\n      transform: [{ translateY: translateY }],\n      opacity,\n      height: withTiming(height, {\n        duration: 50,\n      }),\n      overflow: 'hidden',\n      useNativeDriver: true,\n    };\n  });\n```\n\nreact-native-reanimated의 interpolate를 사용하여 스크롤 위치에 따라 translateY, opacity, height를 조정하였다.\n\n- translateY: 스크롤이 0 ~ 100일 때 위로 최대 -100만큼 이동.\n- opacity: 스크롤이 0 ~ 100일 때 투명도가 1 → 0으로 변화.\n- height: 스크롤이 0 ~ 180일 때 높이가 180 → 0으로 줄어듬.\n\n결과적으로, 사용자가 위로 스크롤하면, 영역은 점점 위로 이동하며 투명하게 사라지고 높이도 축소된다.\n\n### 1차 MVP 배포와 예비창업패키지 선정\n병원지도, 병원상세페이지, 가격정보와 리뷰 등을 제공하는 앱을 개발하여 1차 MVP를 배포하였다.\n\n이때 예비창업패키지에 선정되었고, 약 5천만원 이상의 지원금을 받을 수 있었다.\n\n해당금액은 마케팅, 인건비, 서버비용, 기타 작업 툴 비용 등으로 사용되었다.\n\n---\n\n### 예비창업패키지 이후: 2차, 3차 업데이트\n시간이 지날수록 9명 정도에서 시작했던 팀원은 5명까지 줄게되었다. 나는 계속 퇴근 후 파트로 작업을 했고, 풀타임으로 작업을 하실 인원들이 새로 합류하신 시기이기도 했다.\n\n1차 때보다는 좀 더 창업의 형태로 바뀌었고 다른 구성원들의 책임감과 몰입도가 더 필요했던 시기였던것 같다.\n\n2차와 3차에는 앱의 디자인을 리뉴얼하고, 로그인과 유저의 펫정보 등록, 진료별로 병원을 검색할 수 있는 리스트, 네이버 스마트스토어를 이용한 상품판매, 병원예약 등 많은 기능들을 추가하게 되었다.\n\n\u003cdiv style={{\n    display: 'flex',\n    justifyContent: 'space-between',\n}}\u003e\n    \u003cdiv\u003e\n        \u003ch3\u003eas-is\u003c/h3\u003e\n        \u003cimg src=\"/assets/blog/javaScript/old-main.png\" alt=\"구 메인페이지\"/\u003e\n    \u003c/div\u003e\n    \u003cdiv\u003e\n        \u003ch3\u003eto-be\u003c/h3\u003e\n        \u003cimg src=\"/assets/blog/javaScript/new-main.png\" alt=\"새로운 메인페이지\"/\u003e\n    \u003c/div\u003e\n\u003c/div\u003e\n\n---\n\n### SEO를 위한 웹사이트\n2, 3차 업데이트를 진행하면서 마케팅에 필요한 웹사이트가 필요했다.\n\n웹사이트는 앱내에 기능 중 몇가지만 제공하기로 했고, 검색엔진에 노출되는 것과, 마케팅을 위한 랜딩페이지로 사용하기로 했다.\n\nNext.js로 돌아가서 개발하는데 SEO에 최대한 초점을 맞추어 작업을 진행했다.\n\n\u003cimg src=\"/assets/blog/javaScript/lighthouse.png\" alt=\"lighthouse 점수\"/\u003e\n\n이때 아마 SEO에 대한 관심이 많이 생겼던것 같다. meta 태그와 og 태그, sitemap.xml, robots.txt 등을 설정하고, SSR과 SSG를 적절히 사용하여 페이지를 구성하였다.\n\nlighthouse 점수를 최대한 높이기 위해 노력했고, 실제로도 검색엔진에 잘 노출되는지 확인하기위해 구글 서치콘솔, 네이버 서치어드바이저에 등록하여 확인하였고, 구글 애널리틱스와 태그매니저를 이용하여 방문자 수와 페이지뷰 등을 확인할 수 있었다.\n\n---\n\n### 2년의 과정 속에서 얻은 것과 아쉬운 점\n작은 스터디로 시작한 모임이 이렇게 긴 시간동안 지속되는게 쉽지 않다는걸 알고있다. 이전에도 비슷한 스터디를 많이 해봤지만, 여러 사정들로 인해 중간에 흐지부지되거나, 팀원들이 바뀌는 경우가 많았다.\n\n하지만, 팀원들 서로가 각자의 위치에서 최선을 다하고, 서로를 존중하며 배려하는 모습이 너무 좋았다. 특히, 팀원들이 각자의 역할을 충실히 수행하고, 서로의 의견을 존중하며 협업하는 모습이 인상적이었다.\n\n기술적 성장은 물론이고 비즈니스 관점에서도 많은 것을 배울 수 있었다.\n\n\u003cdiv style={{\n    display: 'flex',\n    width: '100%',\n}}\u003e\n    \u003cdiv style={{\n        display: 'flex',\n        width: '100%',\n        flex: 1\n    }}\u003e\n        \u003cimg src=\"/assets/blog/javaScript/gift-1.JPG\" width='50%' alt=\"선물1\"/\u003e\n        \u003cimg src=\"/assets/blog/javaScript/gift-2.JPG\" width='50%' alt=\"선물2\"/\u003e\n    \u003c/div\u003e\n    \u003cdiv style={{\n        display: 'flex',\n        width: '100%',\n        flex: 1,\n\n    }}\u003e\n        \u003cimg src=\"/assets/blog/javaScript/gift-3.JPG\" width='50%' alt=\"선물3\"/\u003e\n        \u003cimg src=\"/assets/blog/javaScript/gift-4.JPG\" width='50%' alt=\"선물4\"/\u003e\n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e매년 명절마다 과일을 보내주시는 팀장님\u003c/p\u003e\n\n\n\n아쉬웠던 점은 초반에 기술 스택 선택에 대한 검증과, 아무래도 팀원들 모두 퇴근 후 빠듯한 시간에 작업을 하다보니, 깊게 나누지 못한 리뷰나 회고 등 이었다.\n\n앞으로는 스터디를 진행하는 과정동안 기술적인 회고와 이슈 기록, 고민했던 부분들을 정리하는 시간을 가질 것이다.\n\n---\n\n25년도 지원사업은 아쉽게도 떨어졌다. 낮은 진입장벽, 데이터 수집 한계, 구조가 비슷한 플랫폼에 손익분기 달성 실패, 낮은 재방문 주기 등이 이유였다.\n\n현재 내부에서는 다양한 의견들이 오가고있다. 아무래도 프로젝트를 유지하는데는 비용적인 문제가 가장 크기때문에, 수익모델 개선, 다른 신사업 아이템들을 고민하고 있다.\n"])</script><script>self.__next_f.push([1,"14:Tfe7,"])</script><script>self.__next_f.push([1,"\n### 1\\. Utility Type\n\n```typescript\n  Partial\u003cT\u003e\n```\n\n\\- T의 모든 프로퍼티를 선택적으로 만드는 타입\n\n```typescript\ninterface User {\n  name: string;\n  age: number;\n}\n\nfunction updateUser(user: User, fieldsToUpdate: Partial\u003cUser\u003e) {\n  return { ...user, ...fieldsToUpdate };\n}\n\nconst user1 = {\n  name: \"been\",\n  age: 30,\n};\n\nconst user2 = updateUser(user1, {\n  age: 32,\n});\n```\n\n---\n\n```typescript\n  Readonly\u003cT\u003e\n```\n\nT의 모든 프로퍼티를 읽기 전용으로 구성, 생성된 타입의 프로퍼티는 재할당 할 수 없다.\n\n---\n\n```typescript\n  Record\u003cK,T\u003e\n```\n\n타입 T의 프로퍼티의 집합 K로 타입을 구성한다.\n\n주로 다른 타입에 매핑시키는데 사용\n\n```typescript\ninterface PageInfo {\n  title: string;\n}\n\ntype Page = \"home\" | \"about\" | \"contact\";\n\nconst x: Record\u003cPage, PageInfo\u003e = {\n  about: { title: \"about\" },\n  contact: { title: \"contact\" },\n  home: { title: \"home\" },\n};\n```\n\n---\n\n```typescript\n  Pick\u003cT,K\u003e\n```\n\nT에서 K의 집합을 선택해 타입을 구성\n\n```typescript\n  Omit\u003cT,K\u003e\n```\n\nT에서 모든 프로퍼티를 가져온 다음 K를 제거한 타입을 구성\n\n---\n\n```typescript\n  NonNullable\u003cT\u003e\n```\n\nT에서 null과 undefined를 제외한 타입을 구성\n\n---\n\n출처 : [https://typescript-kr.github.io/pages/utility-types.html](https://typescript-kr.github.io/pages/utility-types.html)\n\n---\n\n### 2\\. Storybook 작성\n\n[https://been.tistory.com/58](https://been.tistory.com/58)\n\n---\n\n### 3\\. npm 패키지 배포\n\n[https://www.npmjs.com/package/jci-moyeo-design-system](https://www.npmjs.com/package/jci-moyeo-design-system)\n\n\n---\n\n### 4\\. aria, role\n\n\u003e 웹 접근성(web accessibility)은 장애를 가진 사람과 장애를 가지지 않은 사람 모두가 웹사이트를 이용할 수 있게 하는 방식을 가리킨다. 사이트가 올바르게 설계되어 개발되고 편집되어 있을 때 모든 사용자들은 정보와 기능에 동등하게 접근할 수 있다.\n\n\u003e 웹 표준은 월드 와이드 웹의 측면을 서술하고 정의하는 공식 표준이나 다른 기술 규격을 가리키는 일반적인 용어이다. 최근에 이 용어는 웹 사이트를 작성하는 데 중요도가 높아지고 있으며 웹 디자인, 개발과 관계가 있다.\n\n```typescript\nrole=\"form\"\n\u003cform\u003e과 동일하게 사용\n```\n\n\n```typescript\nrole=\"search\"\n검색 역할을 담당\n```\n\n```typescript\nrole=\"button\"\n스크린리더에 버튼임을 알려주지만 버튼기능을 제공하지는 않기 때문에 \u003cbutton\u003e이나 \u003cinput type='button'\u003e을 사용하는게 좋다.\n```\n\n\n```typescript\nrole =\"tablist\"\n**탭메뉴 등의 리스트임을 사용자에게 전달한다.\n```\n\n\n```typescript\nrole=\"tab\"\n보조기기가 탭으로 인식\naria-required를 true로 지정해 해당요소가 필수적으로 입력되어야 함을 나타냄\n```\n\n```html\n\u003cinput {...} aria-required=\"true\"\u003e\n```\n\n-   추가설명 속성 : div #reference의 내용을 input의 추가설명으로 사용\n\n```html\n\u003cinput type=\"text\" aria-describedby=\"reference\"\u003e\n\u003cdiv id=\"reference\"\u003e추가설명\u003c/div\u003e\n```\n\nex) \"이메일을 입력하세요.\" 라는 추가적인 설명\n\n-   aria-label로 어떤 요소인지 라벨링할 수 있다.\n\n```html\n\u003cdiv role=\"group\" aria-label=\"레이블\"\u003e\n```\n\n-   유효한지 아닌지 구분\n\n```html\n\u003cinput type=\"text\" aria-invalid=\"true\"\u003e\n```\n\n-   버튼 클릭상태와 비클릭상태\n\n```html\n\u003cbutton aria-pressed=\"true\"\u003e\n```\n\n**1) 태그와 중복되지 않게 사용한다.**\n\n```html\n\u003cbutton role=\"button\"\u003e \u003c/button\u003e\n```\n\n**2) native요소의 의미, 기능 변경을 하지 않는다.**\n\n```html\n\u003ch1 role=\"button\"\u003e버튼\u003c/h1\u003e\n```\n\n**3) 키보드로 포커싱이 가능하게 설정한다.**\n\n```html\n\u003cspan role=\"button\" tabindex=\"0\"\u003e버튼\u003c/span\u003e\n```\n\n특히 button으로 사용하는경우\n\n```typescript\naria-hidden=\"true\"\n스크린리더가 접근하지는 않지만, 이미지를 보여주고 싶은 경우\n```\n\n[https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles)\n\n"])</script><script>self.__next_f.push([1,"9:[\"$\",\"section\",null,{\"className\":\"flex flex-col-reverse md:relative md:flex-row\",\"children\":[[\"$\",\"$L12\",null,{\"isPagination\":true,\"posts\":{\"posts\":[{\"content\":\"$13\",\"data\":{\"title\":\"2년간 스터디하며 배운것들\",\"date\":\"$D2025-03-18T00:00:00.000Z\",\"description\":\"2년간의 스터디를 회고하며 느낀 점과 배운 점\",\"category\":\"til\",\"titleImage\":\"/assets/postIcon/til.webp\"},\"slug\":\"study-remind\"},{\"content\":\"$14\",\"data\":{\"title\":\"6주간 스터디하며 배운것들\",\"date\":\"$D2022-10-21T00:00:00.000Z\",\"description\":\"6주간 진행한 스터디에서 얻은 것들\",\"category\":\"til\",\"titleImage\":\"/assets/postIcon/til.webp\"},\"slug\":\"study\"}],\"total\":2},\"page\":\"$undefined\"}],[\"$\",\"ul\",null,{\"className\":\"relative top-0 flex h-fit min-w-fit flex-row flex-wrap gap-[20px] py-[20px] pl-0 md:sticky md:top-[100px] md:flex-col md:flex-nowrap md:py-0 md:pl-[30px]\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"hidden text-[18px] font-bold md:inline\",\"children\":\"Category\"}],[[\"$\",\"li\",\"javaScript\",{\"children\":[\"$\",\"$L4\",null,{\"className\":\"text-gray700\",\"href\":\"/blog/javaScript\",\"children\":\"javaScript (39)\"}]}],[\"$\",\"li\",\"til\",{\"children\":[\"$\",\"$L4\",null,{\"className\":\"font-[600] text-black\",\"href\":\"/blog/til\",\"children\":\"til (2)\"}]}],[\"$\",\"li\",\"study\",{\"children\":[\"$\",\"$L4\",null,{\"className\":\"text-gray700\",\"href\":\"/blog/study\",\"children\":\"study (2)\"}]}]]]}]]}]\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"c:null\n10:[[\"$\",\"title\",\"0\",{\"children\":\"Been blog - til\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Been dev-note - til\"}],[\"$\",\"meta\",\"2\",{\"name\":\"google-site-verification\",\"content\":\"BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U\"}],[\"$\",\"meta\",\"3\",{\"name\":\"naver-site-verification\",\"content\":\"58945b2bbe2fe86252fa8c7b204b40f6019920e9\"}],[\"$\",\"link\",\"4\",{\"rel\":\"canonical\",\"href\":\"https://wonbeenna.github.io/blog/til\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:title\",\"content\":\"Been blog - til\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:description\",\"content\":\"Been dev-note - til\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:url\",\"content\":\"https://wonbeenna.github.io/blog/til\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:site_name\",\"content\":\"Been blog\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:locale\",\"content\":\"ko_KR\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:image\",\"content\":\"https://wonbeenna.github.io/favicon.png\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image:width\",\"content\":\"800\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image:height\",\"content\":\"600\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image:alt\",\"content\":\"Been blog\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:title\",\"content\":\"Been blog - til\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:description\",\"content\":\"Been dev-note - til\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image\",\"content\":\"https://wonbeenna.github.io/favicon.png\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:image:width\",\"content\":\"800\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image:height\",\"content\":\"600\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:image:alt\",\"content\":\"Been blog\"}],[\"$\",\"link\",\"22\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"192x192\"}],[\"$\",\"link\",\"23\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"sizes\":\"any\"}],[\"$\",\"link\",\"24\",{\"rel\":\"icon\",\"href\":\"/favicon.png\",\"sizes\":\"32x32\",\"type\":\"image/png\"}],[\"$\",\"link\",\"25\",{\"rel\":\"apple-touch-icon\",\"href\":\"/favicon.png\",\"sizes\":\"32x32\",\"type\":\"image/png\"}]]\n"])</script></body></html>