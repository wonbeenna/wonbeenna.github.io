1:"$Sreact.fragment"
1d:I[63528,["/_next/static/chunks/bd5191c46165ed30.js","/_next/static/chunks/a02819add99e1f50.js","/_next/static/chunks/2e8e74a7f6e9fa16.js"],""]
1e:I[99322,["/_next/static/chunks/bd5191c46165ed30.js","/_next/static/chunks/a02819add99e1f50.js","/_next/static/chunks/2e8e74a7f6e9fa16.js"],"default"]
1f:I[85934,["/_next/static/chunks/dfc43047cef5dc3a.js","/_next/static/chunks/7f2f0a4550be60f7.js"],"OutletBoundary"]
20:"$Sreact.suspense"
:HL["/assets/blog/javaScript/web-optimization-3-1.png","image"]
:HL["/assets/blog/javaScript/web-optimization-3-2.png","image"]
:HL["/assets/blog/javaScript/web-optimization-3-3.png","image"]
:HL["/_next/static/chunks/e25f9df6635f12b2.css","style"]
0:{"buildId":"_oCMkYfXmE_iub09qx8c_","rsc":["$","$1","c",{"children":[[[["$","section",null,{"className":"bg-bannerBg dark:bg-darkBg02","children":["$","div",null,{"className":"mx-auto my-0 max-w-[970px] px-[16px] py-16","children":[["$","div",null,{"className":"mb-2 text-sm text-gray700","children":["$","time",null,{"dateTime":"2022-01-04T00:00:00.000Z","children":"04. January 2022"}]}],["$","h1",null,{"className":"inline bg-clip-text font-extrabold tracking-tight [-webkit-box-decoration-break:clone] [-webkit-text-fill-color:transparent] [box-decoration-break:clone] bg-[linear-gradient(108deg,theme(colors.primaryGradient03),theme(colors.primaryGradient02)_40%,theme(colors.primaryColor)_80%)] text-6xl","children":"웹성능 최적화(3)"}],["$","p",null,{"className":"mt-4 text-lg text-gray900 dark:text-gray300","children":"웹성능 최적화3"}]]}]}],["$","svg",null,{"aria-hidden":"true","viewBox":"0 0 1440 120","preserveAspectRatio":"none","className":"block h-16 w-full text-bannerBg dark:text-darkBg02","children":["$","path",null,{"fill":"currentColor","d":"M0,64L60,69.3C120,75,240,85,360,80C480,75,600,53,720,64C840,75,960,117,1080,117.3C1200,117,1320,75,1380,53.3L1440,32L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"}]}]],["$","section",null,{"className":"mx-auto my-0 max-w-[970px] p-4 pb-40","children":["$","div",null,{"className":"prose flex w-full max-w-none flex-col","children":[["$","section",null,{"children":[["$","p",null,{"children":["$","strong",null,{"children":[["$","a",null,{"href":"https://www.inflearn.com/course/%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94-%EB%A6%AC%EC%95%A1%ED%8A%B8-1","children":"유동균님의 강의"}],"를 보며 정리한 글 입니다."]}]}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"children":"1. Layout Shift"}],"\n",["$","p",null,{"children":"원인"}],"\n",["$","p",null,{"children":"1. 사이즈가 정해져 있지 않은 이미지"}],"\n",["$","p",null,{"children":"2. 사이즈가 정해져 있지 않은 광고"}],"\n",["$","p",null,{"children":"3. 동적으로 삽입된 콘텐츠"}],"\n",["$","p",null,{"children":"4. Web font (FOIT, FOUT)"}],"\n",["$","img",null,{"src":"/assets/blog/javaScript/web-optimization-3-1.png","width":"100%","alt":"post image"}],"\n",["$","p",null,{"children":"여러 이미지를 로드할 때, 먼저 불러온 이미지 자리를 나중에 불러온 이미지가 밀어내게 되면서 레이아웃 변경이 계속 발생한다."}],"\n",["$","pre",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token maybe-class-name","children":"ImageWrap"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token maybe-class-name","children":"Image"}]," ",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token maybe-class-name","children":"ImageWrap"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"이때 Wrap에 고정값을 정해주고 Image는 그 값을 따라가기만 하면 된다. 여기서는 16:9 비율로 지정하기 위해 9 / 16 = 56.25%로 높이를 잡고 Image를 그 안에 넣는 방식으로 했다."}],"\n",["$","img",null,{"src":"/assets/blog/javaScript/web-optimization-3-2.png","width":"100%","alt":"post image"}],"\n",["$","p",null,{"children":"컨텐츠가 새로 들어오면서 기존 컨텐츠를 밀어내지 않도록 컨텐츠를 그려줄 곳에 미리 자리를 만들어 놓는것이다."}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"children":"2. React-lazyload"}],"\n",["$","pre",null,{"className":"language-shell","children":["$","code",null,{"className":"language-shell code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"npm"}]," i react-lazyload\n"]}]}]}],"\n",["$","p",null,{"children":"강의에서는 라이브러리를 사용했지만, 다음엔 스스로 구현해 포스팅해야겠다."}],"\n",["$","p",null,{"children":"스크롤이벤트를 사용하는 것 같다."}],"\n",["$","hr",null,{}],"\n",["$","h3",null,{"children":"3. useSelect 렌더링 문제"}],"\n",["$","img",null,{"src":"/assets/blog/javaScript/web-optimization-3-3.png","width":"100%","alt":"post image"}],"\n","$L2","\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17"]}],"$L18","$L19"]}]}]],["$L1a","$L1b"],"$L1c"]}],"loading":null,"isPartial":false}
2:["$","p",null,{"children":"리액트 dev-tool에서 Highlight updates ... 를 체크해 컴포넌트가 렌더링되는걸 확인할 수 있다."}]
3:["$","p",null,{"children":"useSelector는 dispatch로 Redux Store가 변경되면 구독하고 있는 컴포넌트에 state가 변경되었다고 알려준다."}]
4:["$","p",null,{"children":"그럼 컴포넌트에서는 기존 state와 업데이트된 state를 비교해 값이 다르면 다시 렌더링 하게 된다."}]
5:["$","p",null,{"children":"여기서 비교하는 방식은 useSelector의 리턴값을 비교하는데"}]
6:["$","pre",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," modalVisible",["$","span",null,{"className":"token punctuation","children":","}]," bgColor",["$","span",null,{"className":"token punctuation","children":","}]," src",["$","span",null,{"className":"token punctuation","children":","}]," alt ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"useSelector"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"state"}]," ",["$","span",null,{"className":"token arrow operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"modalVisible"}],["$","span",null,{"className":"token operator","children":":"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"modalVisible"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"bgColor"}],["$","span",null,{"className":"token operator","children":":"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bgColor"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"src"}],["$","span",null,{"className":"token operator","children":":"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"src"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"alt"}],["$","span",null,{"className":"token operator","children":":"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"alt"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]
7:["$","p",null,{"children":"리턴값을 오브젝트 형식으로 작성하면, 값을 생성할 때 마다 새로운 오브젝트를 만들기 때문에 매번 새롭게 렌더링하게 된다."}]
8:["$","pre",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," modalVisible ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"useSelector"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"state"}]," ",["$","span",null,{"className":"token arrow operator","children":"=>"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"modalVisible"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," bgColor ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"useSelector"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"state"}]," ",["$","span",null,{"className":"token arrow operator","children":"=>"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bgColor"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," src ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"useSelector"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"state"}]," ",["$","span",null,{"className":"token arrow operator","children":"=>"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"src"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," alt ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"useSelector"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"state"}]," ",["$","span",null,{"className":"token arrow operator","children":"=>"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"alt"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}]
9:["$","p",null,{"children":"오브젝트를 새롭게 만들지 않도록 state를 쪼개고 새로운 Equality Function을 사용해야한다."}]
a:["$","pre",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," modalVisible",["$","span",null,{"className":"token punctuation","children":","}]," bgColor",["$","span",null,{"className":"token punctuation","children":","}]," src",["$","span",null,{"className":"token punctuation","children":","}]," alt ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"useSelector"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"state"}]," ",["$","span",null,{"className":"token arrow operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"modalVisible"}],["$","span",null,{"className":"token operator","children":":"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"modalVisible"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"bgColor"}],["$","span",null,{"className":"token operator","children":":"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bgColor"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"src"}],["$","span",null,{"className":"token operator","children":":"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"src"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"alt"}],["$","span",null,{"className":"token operator","children":":"}]," state",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"alt"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," shallowEqual",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}]
b:["$","hr",null,{}]
c:["$","h3",null,{"children":"4. Redux Reselect"}]
d:["$","p",null,{"children":"state의 값들을 가지고 가공해야되는 값이 있을 때 useSelector내부에서 가공해 값을 준다."}]
e:["$","pre",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," selectFilteredPhotos ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"createSelector"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],"select값",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"select값"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token arrow operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"가공할 결과를 리턴",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," photos ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"useSelector"}],["$","span",null,{"className":"token punctuation","children":"("}],"selectFilteredPhotos",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}]
f:["$","p",null,{"children":"또 메모이제이션 방식을 통해 값을 비교하므로 불필요한 계산도 없애준다."}]
10:["$","p",null,{"children":"select값이 같은 값으로 들어오면 미리 캐싱해둔 값과 비교해 값이 변하지 않으면 그대로 리턴한다."}]
11:["$","hr",null,{}]
12:["$","h3",null,{"children":"5. Memoization 적용"}]
13:["$","p",null,{"children":"인풋에 따라 아웃풋에 나오는 값에 대해서 미리 저장해 놓는 기법이다."}]
14:["$","p",null,{"children":"a -> A가 아웃풋이다 라고 할때, 다음번에 또 a가 들어오면 로직을 일일히 실행하지않고 저장해둔 값 A를 바로 리턴하게 된다."}]
15:["$","p",null,{"children":"순수함수만 가능"}]
16:["$","p",null,{"children":"그렇다고 무지성으로 쓰는건 좋지 않다."}]
17:["$","p",null,{"children":"메모이제이션이 불필요한 함수에 적용하는건 오히려 메모리 낭비가 될 수 있다."}]
18:["$","article",null,{"className":"flex items-center justify-between gap-[20px] border-y-2 border-y-gray500 py-[30px]","children":[["$","div",null,{"className":"w-1/2 min-w-0 flex-1 rounded-[4px] bg-gray100 dark:bg-darkBg02 text-left","children":["$","$L1d",null,{"href":"/blog/web-optimization-2","className":"flex w-full flex-col px-[14px] py-[10px] no-underline","children":[["$","div",null,{"className":"text-[14px] text-gray700","children":"이전글"}],["$","h3",null,{"className":"m-0 truncate text-[16px] font-bold text-gray900","children":"웹성능 최적화(2)"}]]}]}],["$","div",null,{"className":"w-1/2 min-w-0 flex-1 rounded-[4px] bg-gray100 dark:bg-darkBg02 text-right","children":["$","$L1d",null,{"href":"/blog/speechsynthesis","className":"flex w-full flex-col px-[14px] py-[10px] no-underline","children":[["$","div",null,{"className":"text-[14px] text-gray700","children":"다음글"}],["$","h3",null,{"className":"m-0 truncate text-[16px] font-bold text-gray900","children":"Speechsynthesis & Google TTS"}]]}]}]]}]
19:["$","$L1e",null,{}]
1a:["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/e25f9df6635f12b2.css","precedence":"next"}]
1b:["$","script","script-0",{"src":"/_next/static/chunks/2e8e74a7f6e9fa16.js","async":true}]
1c:["$","$L1f",null,{"children":["$","$20",null,{"name":"Next.MetadataOutlet","children":"$@21"}]}]
21:null
