<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/47cbc4e2adbc5db9-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/assets/icons/been-logo.svg"/><link rel="preload" as="image" href="/assets/icons/search.svg"/><link rel="preload" as="image" href="/assets/icons/github.svg"/><link rel="preload" as="image" href="/assets/icons/mail.svg"/><link rel="preload" as="image" href="/assets/icons/moon.svg"/><link rel="stylesheet" href="/_next/static/css/e539936c7dc6b882.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/c0bb506ce114ae44.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-7a628948b861f9c2.js"/><script src="/_next/static/chunks/4bd1b696-5eb079e5f7a8d2e5.js" async=""></script><script src="/_next/static/chunks/517-45a303ac665d7712.js" async=""></script><script src="/_next/static/chunks/main-app-4c847e9312b0b619.js" async=""></script><script src="/_next/static/chunks/173-54dedaeca13df317.js" async=""></script><script src="/_next/static/chunks/565-296786f7e0246c7b.js" async=""></script><script src="/_next/static/chunks/app/layout-373db84bd3bc4d59.js" async=""></script><script src="/_next/static/chunks/app/page/%5Bpage%5D/page-31063f203192b216.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN" as="script"/><meta name="next-size-adjust" content=""/><title>Been blog - 5</title><meta name="description" content="Been dev-note - 5"/><meta name="google-site-verification" content="BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U"/><meta name="naver-site-verification" content="58945b2bbe2fe86252fa8c7b204b40f6019920e9"/><link rel="canonical" href="https://wonbeenna.github.io/page/5"/><meta property="og:title" content="Been blog - 5"/><meta property="og:description" content="Been dev-note - 5"/><meta property="og:url" content="https://wonbeenna.github.io/page/5"/><meta property="og:site_name" content="Been blog"/><meta property="og:locale" content="ko_KR"/><meta property="og:image" content="https://wonbeenna.github.io/favicon.png"/><meta property="og:image:width" content="800"/><meta property="og:image:height" content="600"/><meta property="og:image:alt" content="Been blog"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Been blog - 5"/><meta name="twitter:description" content="Been dev-note - 5"/><meta name="twitter:image" content="https://wonbeenna.github.io/favicon.png"/><meta name="twitter:image:width" content="800"/><meta name="twitter:image:height" content="600"/><meta name="twitter:image:alt" content="Been blog"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="192x192"/><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="icon" href="/favicon.png" sizes="32x32" type="image/png"/><link rel="apple-touch-icon" href="/favicon.png" sizes="32x32" type="image/png"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_518cef"><script>((e,t,r,n,o,a,i,u)=>{let s=document.documentElement,l=["light","dark"];function c(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(s.classList.remove(...n),s.classList.add(t)):s.setAttribute(e,t)}),u&&l.includes(t)&&(s.style.colorScheme=t)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><header class="sticky top-0 z-10 mx-auto my-0 h-[56px] border-b border-b-gray200 bg-white px-[24px] py-0 dark:bg-darkBg01"><section class="m-auto flex h-full max-w-[970px] items-center justify-between"><div class="flex items-center gap-[20px]"><a href="/"><img alt="logo" width="60" height="56" decoding="async" data-nimg="1" class="h-[56px] w-[60px]" style="color:transparent" src="/assets/icons/been-logo.svg"/></a><div class="flex items-center gap-[20px]"><a href="/about">About</a></div></div><div class="flex items-center gap-[12px]"><a href="/search"><img alt="search" width="22" height="22" decoding="async" data-nimg="1" style="color:transparent" src="/assets/icons/search.svg"/></a><a target="_blank" rel="noopener noreferrer" href="https://github.com/wonbeenna"><img alt="github" width="22" height="22" decoding="async" data-nimg="1" style="color:transparent" src="/assets/icons/github.svg"/></a><a href="mailto:nwbnwb@naver.com"><img alt="email" width="26" height="26" decoding="async" data-nimg="1" style="color:transparent" src="/assets/icons/mail.svg"/></a><button><img alt="theme" width="22" height="22" decoding="async" data-nimg="1" style="color:transparent" src="/assets/icons/moon.svg"/></button></div></section></header><main class="mx-auto my-0 max-w-[970px] p-[16px]"><section class="flex flex-col-reverse md:relative md:flex-row"><div class="flex flex-1 flex-col"><ol class="relative mx-0 my-[20px] flex w-full  flex-col gap-[40px] p-0"><li class="mt-[30px] border-b border-b-gray300 pb-[50px] md:mt-[50px] md:pb-[70px]"><a class="hover_card flex w-full flex-col items-center justify-between gap-0 md:flex-row md:gap-[40px]" href="/blog/javaScript/react-hook"><img alt="React Hook의 동작" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="size-[200px] rounded-[14px]" style="color:transparent" src="/assets/postIcon/logo192.webp"/><div class="flex min-h-[160px] w-full flex-col items-center justify-center md:min-h-[200px]"><h1 class="my-[12px] overflow-hidden text-ellipsis break-words text-[24px] font-bold text-black md:mt-0 md:text-[34px]">React Hook의 동작</h1><p class="mx-[14px] my-[12px] text-ellipsis break-keep text-[14px] text-gray900 md:text-[18px]">React Hook의 동작에 대해</p><span class="text-gray700">2021-11-07</span></div></a></li></ol><ul class="flex items-center justify-center gap-[10px]"><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">ᐸ</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">1</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">2</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">3</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] ">4</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] rounded-full bg-primaryGradient03 px-[4px] py-[2px] text-white">5</li><li class="box-border flex size-[24px] cursor-pointer items-center justify-center text-[16px] pointer-events-none cursor-not-allowed opacity-50">ᐳ</li></ul></div><ul class="relative top-0 flex h-fit min-w-fit flex-row flex-wrap gap-[20px] py-[20px] pl-0 md:sticky md:top-[100px] md:flex-col md:flex-nowrap md:py-0 md:pl-[30px]"><h2 class="hidden text-[18px] font-bold md:inline">Category</h2><li><a class="text-gray700" href="/blog/javaScript">javaScript (38)</a></li><li><a class="text-gray700" href="/blog/study">study (2)</a></li><li><a class="text-gray700" href="/blog/til">til (1)</a></li></ul></section></main><footer class="flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600">Copyright © Been.</footer><script src="/_next/static/chunks/webpack-7a628948b861f9c2.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[3704,[\"173\",\"static/chunks/173-54dedaeca13df317.js\",\"565\",\"static/chunks/565-296786f7e0246c7b.js\",\"177\",\"static/chunks/app/layout-373db84bd3bc4d59.js\"],\"\"]\n3:I[8534,[\"173\",\"static/chunks/173-54dedaeca13df317.js\",\"565\",\"static/chunks/565-296786f7e0246c7b.js\",\"177\",\"static/chunks/app/layout-373db84bd3bc4d59.js\"],\"Providers\"]\n4:I[8173,[\"173\",\"static/chunks/173-54dedaeca13df317.js\",\"565\",\"static/chunks/565-296786f7e0246c7b.js\",\"848\",\"static/chunks/app/page/%5Bpage%5D/page-31063f203192b216.js\"],\"\"]\n5:I[7970,[\"173\",\"static/chunks/173-54dedaeca13df317.js\",\"565\",\"static/chunks/565-296786f7e0246c7b.js\",\"177\",\"static/chunks/app/layout-373db84bd3bc4d59.js\"],\"Image\"]\n6:I[4337,[\"173\",\"static/chunks/173-54dedaeca13df317.js\",\"565\",\"static/chunks/565-296786f7e0246c7b.js\",\"177\",\"static/chunks/app/layout-373db84bd3bc4d59.js\"],\"default\"]\n7:I[5244,[],\"\"]\n8:I[3866,[],\"\"]\na:I[6213,[],\"OutletBoundary\"]\nc:I[6213,[],\"MetadataBoundary\"]\ne:I[6213,[],\"ViewportBoundary\"]\n10:I[4835,[],\"\"]\n:HL[\"/_next/static/media/47cbc4e2adbc5db9-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/e539936c7dc6b882.css\",\"style\"]\n:HL[\"/_next/static/css/c0bb506ce114ae44.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"RokFVuat3VEDHqwRswhzl\",\"p\":\"\",\"c\":[\"\",\"page\",\"5\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"page\",{\"children\":[[\"page\",\"5\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/e539936c7dc6b882.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c0bb506ce114ae44.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"$L2\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-LFDRQZPCBN\"}],[\"$\",\"$L2\",null,{\"id\":\"google-analytics\",\"children\":\"\\n          window.dataLayer = window.dataLayer || [];\\n          function gtag(){dataLayer.push(arguments);}\\n          gtag('js', new Date());\\n \\n          gtag('config', 'G-LFDRQZPCBN');\\n        \"}],[\"$\",\"body\",null,{\"suppressHydrationWarning\":true,\"className\":\"__className_518cef\",\"children\":[\"$\",\"$L3\",null,{\"children\":[[\"$\",\"header\",null,{\"className\":\"sticky top-0 z-10 mx-auto my-0 h-[56px] border-b border-b-gray200 bg-white px-[24px] py-0 dark:bg-darkBg01\",\"children\":[\"$\",\"section\",null,{\"className\":\"m-auto flex h-full max-w-[970px] items-center justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-[20px]\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/\",\"children\":[\"$\",\"$L5\",null,{\"className\":\"h-[56px] w-[60px]\",\"src\":\"/assets/icons/been-logo.svg\",\"width\":60,\"height\":56,\"priority\":true,\"alt\":\"logo\"}]}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-[20px]\",\"children\":[\"$\",\"$L4\",null,{\"href\":\"/about\",\"children\":\"About\"}]}]]}],[\"$\",\"$L6\",null,{}]]}]}],[\"$\",\"main\",null,{\"className\":\"mx-auto my-0 max-w-[970px] p-[16px]\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"flex items-center justify-center pb-[16px] text-center text-[14px] text-gray600\",\"children\":\"Copyright © Been.\"}]]}]}]]}]]}],{\"children\":[\"page\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"page\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"page\",\"5\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"page\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L9\",null,[\"$\",\"$La\",null,{\"children\":\"$Lb\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"k8dfxnK8DQCOg4x8uqGew\",{\"children\":[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"11:I[4340,[\"173\",\"static/chunks/173-54dedaeca13df317.js\",\"565\",\"static/chunks/565-296786f7e0246c7b.js\",\"848\",\"static/chunks/app/page/%5Bpage%5D/page-31063f203192b216.js\"],\"default\"]\n12:T1c8d,"])</script><script>self.__next_f.push([1,"\n## React Hook\n\nReact로 개발할 땐 클래스형 컴포넌트 보다 React 16.8 부터 도입된 Hook 기반 함수형 컴포넌트를 더 선호하여 개발하는 것 같다.\n\n기존 클래스형 컴포넌트는 여러 단계의 상속과 복잡성, 오류 등이 많았지만 Hook이 도입되면서 클래스형 컴포넌트가 가지고 있는 기능을 모두 사용할 수 있음은 물론이고 복잡성과 재사용성의 단점들까지도 해결됐다.\n\n---\n\n## 클로저(Closure)\n\nHook의 핵심은 JS의 클로저이다.\n클로저는..봐도봐도 잘 이해가 가지 않는다ㅠㅠ\n\n`클로저 = 함수 + 함수를 둘러싼 환경`\n이라고 말할 수 있는데, 자바스크립트는 함수 안에서도 함수를 선언할 수 있다.\n먼저 선언된 함수를 외부함수, 이후에 선언된 함수를 내부함수라 한다면 기본적으로 내부함수는 외부함수의 요소에 접근이 가능하다.\n즉 외부함수의 변수에 내부함수의 변수가 접근 할 수 있는 자바스크립트의 메커니즘이다.\n\n```javascript\nfunction outerFn() {\n  let outerVar = 'outer'\n  console.log(outerVar)\n\n  //클로저 함수\n  function innerFn() {\n    let innerVar = 'inner'\n    console.log(innerVar)\n  }\n  //클로저 함수 안에서는\n  //지역변수(innerVar)\n  //외부함수의 변수(outerVar)\n  //전역변수(globalVar)\n  //접근이 모두 가능하다.\n  return innerFn\n}\nlet globalVar = 'global'\nlet innerFn = outerFn()\ninnerFn()\n```\n\n---\n\n## useState\n\n```javascript\nfunction useState(initVal) {\n  let _val = initVal\n  const state = _val\n  const setState = newVal =\u003e {\n    _val = newVal\n  }\n  return [state, setState]\n}\nconst [count, setCount] = useState(1)\nconsole.log(count) // 1\nsetCount(2)\nconsole.log(count) // 1 (?)\n```\n\n위 함수에서 `count`는 한번 가져오고 끝난 값이기 때문에 즉각적으로 바뀌지 않는다.\n만약 `const state = _val` 부분을 함수로 바꾸고, 값을 쓰는게 아닌 호출해주는 식으로 바꾼다면 호출할 때마다 값을 가져오기 때문에 `setCount`가 반영된 값을 가져올 수 있다.\n\n```javascript\n// useState 안에서\n// ...\nconst state = () =\u003e _val\n// ...\nconst [count, setCount] = useState(1)\nconsole.log(count()) // 1\nsetCount(2)\nconsole.log(count()) // 2\n```\n\n`state`는 상단에 정의된 `_val`를 반환하고, `setState`는 전달 된 매개변수 `newVal`를 지역 변수로 설정한다.\n\n---\n\n### 함수형 컴포넌트에서 사용하기\n\n```javascript\nconst React = (function() {\n  function useState(initVal) {\n    let _val = initVal\n    const state = _val\n    const setState = newVal =\u003e {\n      _val = newVal\n    }\n    return [state, setState]\n  }\n  function render(Component) {\n    const C = Component()\n    C.render()\n    return C\n  }\n  return { useState, render }\n})()\nfunction Component() {\n  const [count, setCount] = React.useState(1)\n  return {\n    render: () =\u003e console.log(count),\n    click: () =\u003e setCount(count + 1),\n  }\n}\n// 아직까진 중간 과정이므로 제대로 동작하지 않는다.\nvar App = React.render(Component)\nApp.click()\nvar App = React.render(Component)\n```\n\n모듈패턴을 이용해 `React`라는 네임스페이스에 `useState`를 집어넣는다.\n그리고 DOM을 사용하진 않지만 가상의 컴포넌트를 만들어 `useState` 훅을 가져다 쓰는 방식이다.\n\n여기서 `count`가 제대로 동작하게 만들기 위해 `_val`로 쓰고 있던 변수를 `React` 내부로 끌어올리면 랜더링 이후 클릭해도 작동한다.\n\n```javascript\nconst React = (function() {\n  let _val\n  function useState(initVal) {\n    const state = _val || initVal\n    // ...\n  }\n  // ...\n})()\nvar App = React.render(Component) // 1\nApp.click()\nvar App = React.render(Component) // 2\nApp.click()\nvar App = React.render(Component) // 3\nApp.click()\nvar App = React.render(Component) // 4\n```\n\n---\n\n### 여러 개의 훅\n\n하지만 실제로 하나의 컴포넌트에서 여러 상태를 관리하기 위해 여러 훅을 사용하는데. `_val` 하나에 의존한 지금 상태로 `useState`를 두번 호출하게되면\n\n```javascript\nfunction Component() {\n  const [count, setCount] = React.useState(1)\n  const [text, setText] = React.useState('apple')\n  return {\n    render: () =\u003e console.log({ count, text }),\n    click: () =\u003e setCount(count + 1),\n    type: word =\u003e setText(word),\n  }\n}\nvar App = React.render(Component) // {count: 1, text: 'apple'}\nApp.click()\nvar App = React.render(Component) // {count: 2, text: 2}\nApp.type('banana')\nvar App = React.render(Component) // {count: 'banana', text: 'banana'}\n```\n\n중간에 값이 덮어씌워 진다. 이를 관리 하려면 각 값별로 배열에 담아 다루면 된다.\n\n```javascript\nconst React = (function() {\n  let hooks = []\n  let idx = 0\n  function useState(initVal) {\n    const state = hooks[idx] || initVal\n    const _idx = idx // 이 훅이 사용해야 하는 인덱스를 가둬둔다.\n    const setState = newVal =\u003e {\n      hooks[_idx] = newVal\n    }\n    idx++ // 다음 훅은 다른 인덱스를 사용하도록 한다.\n    return [state, setState]\n  }\n  function render(Component) {\n    idx = 0 // 랜더링 시 훅의 인덱스를 초기화한다.\n    const C = Component()\n    C.render()\n    return C\n  }\n  return { useState, render }\n})()\n```\n\n여기까지보면 왜 Hook에 기본 규칙이 있는지 알 수 있다.\n\n1.  최상위(Top Level)에서만 Hook을 호출\n2.  오직 React 함수 내에서 Hook을 호출\n\n---\n\n## useEffect\n\n`useEffect`를 사용하면 컴포넌트를 화면에 그린 후 실행될 함수를 정의할 수 있다.\n또 매번 `render`했을 때 최초 한 번만 실행되며 매 업데이트마다 실행된다.\n\n```javascript\nfunction Component() {\n  const [count, setCount] = React.useState(1)\n  const [text, setText] = React.useState('apple')\n  // 랜더링 시 최초에 한 번만 실행된다.\n  // 배열 안에 관찰하고자 하는 상태를 전달하면 그 상태에 반응하여 콜백이 실행된다.\n  React.useEffect(() =\u003e {\n    console.log('side effect')\n  }, [])\n  // ...\n}\n```\n\n```javascript\nfunction useEffect(cb, depArray) {\n  const oldDeps = hooks[idx] // 이미 저장되어있던 의존 값 배열이 있는지 본다.\n  let hasChanged = true\n  if (oldDeps) {\n    // 의존 값 배열의 값 중에서 차이가 발생했는지 확인한다.\n    // 실제로 리액트 구현체도 `Object.is` 로 값을 비교한다. 정확한 동작은 MDN 참고.\n    hasChanged = depArray.some((dep, i) =\u003e !Object.is(dep, oldDeps[i]))\n  }\n  // 값이 바뀌었으니 콜백을 실행한다.\n  if (hasChanged) {\n    cb()\n  }\n  // useEffect도 훅의 일부분이다. hooks 배열에 넣어서 관리해준다.\n  hooks[idx] = depArray\n  idx++\n}\n```\n\n위에 선언된 `React` 모듈 안에 `useEffect`함수를 정의한다.\n두번째 인자로 넣어둔 의존배열(dependency array)을 관찰하며 값이 변하면 콜백을 실행하고, 그렇지 않으면 실행하지 않는다.\n\n---\n\n## 참조\n\n위 글은 아래 두 블로그를 정독하며 정리하였습니다.\n\n[Deep dive: How do React hooks really work?](https://www.netlify.com/blog/2019/03/11/deep-dive-how-do-react-hooks-really-work/)\n\n[Getting Closure on React Hooks](https://rinae.dev/posts/getting-closure-on-react-hooks-summary)\n"])</script><script>self.__next_f.push([1,"9:[\"$\",\"section\",null,{\"className\":\"flex flex-col-reverse md:relative md:flex-row\",\"children\":[[\"$\",\"$L11\",null,{\"isPagination\":true,\"posts\":{\"posts\":[{\"content\":\"$12\",\"data\":{\"title\":\"React Hook의 동작\",\"date\":\"$D2021-11-07T00:00:00.000Z\",\"description\":\"React Hook의 동작에 대해\",\"category\":\"javaScript\",\"titleImage\":\"/assets/postIcon/logo192.webp\"},\"slug\":\"react-hook\"}],\"total\":41},\"page\":\"5\"}],[\"$\",\"ul\",null,{\"className\":\"relative top-0 flex h-fit min-w-fit flex-row flex-wrap gap-[20px] py-[20px] pl-0 md:sticky md:top-[100px] md:flex-col md:flex-nowrap md:py-0 md:pl-[30px]\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"hidden text-[18px] font-bold md:inline\",\"children\":\"Category\"}],[[\"$\",\"li\",\"javaScript\",{\"children\":[\"$\",\"$L4\",null,{\"className\":\"text-gray700\",\"href\":\"/blog/javaScript\",\"children\":\"javaScript (38)\"}]}],[\"$\",\"li\",\"study\",{\"children\":[\"$\",\"$L4\",null,{\"className\":\"text-gray700\",\"href\":\"/blog/study\",\"children\":\"study (2)\"}]}],[\"$\",\"li\",\"til\",{\"children\":[\"$\",\"$L4\",null,{\"className\":\"text-gray700\",\"href\":\"/blog/til\",\"children\":\"til (1)\"}]}]]]}]]}]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Been blog - 5\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Been dev-note - 5\"}],[\"$\",\"meta\",\"3\",{\"name\":\"google-site-verification\",\"content\":\"BirkRt7C7FYMLW96RbXad2EtPdcl0-_ti9xCRkCHa5U\"}],[\"$\",\"meta\",\"4\",{\"name\":\"naver-site-verification\",\"content\":\"58945b2bbe2fe86252fa8c7b204b40f6019920e9\"}],[\"$\",\"link\",\"5\",{\"rel\":\"canonical\",\"href\":\"https://wonbeenna.github.io/page/5\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"Been blog - 5\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"Been dev-note - 5\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:url\",\"content\":\"https://wonbeenna.github.io/page/5\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:site_name\",\"content\":\"Been blog\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:locale\",\"content\":\"ko_KR\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image\",\"content\":\"https://wonbeenna.github.io/favicon.png\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image:width\",\"content\":\"800\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image:height\",\"content\":\"600\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:alt\",\"content\":\"Been blog\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:title\",\"content\":\"Been blog - 5\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:description\",\"content\":\"Been dev-note - 5\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:image\",\"content\":\"https://wonbeenna.github.io/favicon.png\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image:width\",\"content\":\"800\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:image:height\",\"content\":\"600\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:image:alt\",\"content\":\"Been blog\"}],[\"$\",\"link\",\"23\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"192x192\"}],[\"$\",\"link\",\"24\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"sizes\":\"any\"}],[\"$\",\"link\",\"25\",{\"rel\":\"icon\",\"href\":\"/favicon.png\",\"sizes\":\"32x32\",\"type\":\"image/png\"}],[\"$\",\"link\",\"26\",{\"rel\":\"apple-touch-icon\",\"href\":\"/favicon.png\",\"sizes\":\"32x32\",\"type\":\"image/png\"}]]\n"])</script><script>self.__next_f.push([1,"b:null\n"])</script></body></html>